<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>hexo安装指北</title>
      <link href="/posts/a33b293c/"/>
      <url>/posts/a33b293c/</url>
      
        <content type="html"><![CDATA[<p>记录安装过程中遇到的坑。</p><h2 id="插件依赖"><a href="#插件依赖" class="headerlink" title="插件依赖"></a>插件依赖</h2><p><del><code>next</code>整个主题的前提依赖：hexo-renderer-swig（安装命令<code>npm install hexo-renderer-swig</code>）</del></p><p>自动生成archives：<a href="https://github.com/hexojs/hexo-generator-archive">hexo-generator-archive</a>（安装命令<code>npm install hexo-blog-encrypt</code>）</p><p>自动生成tag页面：<a href="https://github.com/hexojs/hexo-generator-tag">hexo-generator-tag</a>（安装命令<code>npm install hexo-generator-tag</code>）</p><p>自动生成sitemap.xml：<a href="https://github.com/hexojs/hexo-generator-sitemap">hexo-generator-sitemap</a>（安装命令：<code>npm install hexo-generator-sitemap</code>）</p><p>自动生成search.xml：<a href="https://www.npmjs.com/package/hexo-generator-search">hexo-generator-search</a>（安装命令你懂的）</p><h2 id="Next相关"><a href="#Next相关" class="headerlink" title="Next相关"></a>Next相关</h2><h3 id="站内搜索"><a href="#站内搜索" class="headerlink" title="站内搜索"></a>站内搜索</h3><p>打开local_search的enable。</p><h3 id="自动截断"><a href="#自动截断" class="headerlink" title="自动截断"></a>自动截断</h3><p>亦即自动<code>&lt;!--more--&gt;</code>、自动生成“阅读全文”，毕竟不可能一个博客就几篇文章吧（你再骂！）。</p><p>依赖：<a href="https://github.com/chekun/hexo-excerpt%EF%BC%88%60npm">https://github.com/chekun/hexo-excerpt（`npm</a> install hexo-excerpt`）</p><p>搭配Next：参考<a href="https://jiapy.blog.csdn.net/">Always–Learning</a>的<a href="https://blog.csdn.net/sinat_41696687/article/details/115021491">解决Hexo博客的Next主题中阅读全文没有auto_excerpt的问题</a>。</p><h2 id="archives-7C-7C-20archive"><a href="#archives-7C-7C-20archive" class="headerlink" title="/archives/%7C%7C%20archive"></a><code>/archives/%7C%7C%20archive</code></h2><p>首先要确定next是<a href="https://github.com/theme-next/hexo-theme-next">theme-next</a>的而不是<a href="https://github.com/iissnan/hexo-theme-next">iissnan</a>的（后者已经迁移到前者了，不再update了）。</p><p>参考<a href="https://iqiqiya.com/">iqiqiya</a>的<a href="https://iqiqiya.com/posts/df32273d.html">解决NexT主题点击日志报错archives/%7C%7C%20archive</a>，将<code>themes/next/layout/_macro/sidebar.swig</code>的</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;&#123; url_for(theme.menu.archives).split(&#x27;||&#x27;)[0] | trim &#125;&#125;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>改为：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;&#123;url_for(theme.menu.archives.split(&#x27;||&#x27;)[0])| trim&#125;&#125;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="迁移"><a href="#迁移" class="headerlink" title="迁移"></a>迁移</h2><p><strong>警告，本段内容是本人在2021年6月8日03:06:53极度不清醒非常困的情况下写就的，亟待完善，表达充满了思维跳跃与粗口，但是核心内容没错</strong></p><p>从wordpress迁移过来，首先需要导出……</p><p>然后npm装<code>hexo-migrator-wordpress</code></p><p>贴心建议，执行下一步之前把网站配置文件<code>_config.yml</code>中<code>post_asset_folder: true</code>改成<code>false</code>，迁移完再打开。</p><p>然后命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo migrate wordpress 你导出的wordpress的xml --import-image --paragraph-fix</span><br></pre></td></tr></table></figure><p>然后开始漫长的修正错误过程。</p><p><em>墙裂建议学会使用sed，即使是wsl也能用，不然修改categories和tags的时候有你好受</em></p><h3 id="最方便的让图片能显示的方法"><a href="#最方便的让图片能显示的方法" class="headerlink" title="最方便的让图片能显示的方法"></a>最方便的让图片能显示的方法</h3><p>我自己的弱智wordpress把媒体库的文件url搞得乱七八糟啊，而且还不能改（数据库记录已经全部改掉了，但是url还是错的，那是真的牛*）。</p><p>那么最简单的方法就是把wordpress这个网站的domain写一条重定向，把访问wordpress.huaj.tk的wp-content/uploads的所有请求都rewrite到static.huaj.tk上，同时把写死了的媒体库文件url的域名blog.huaj.tk也写一条完全一样的rewrite，就可以强行纠正这个傻逼平台的“知错不改”了。</p><p>rewrite很简单，照抄了<a href="https://stackoverflow.com/users/117588/eli">Eli</a>的stackoverflow答案：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">rewrite</span><span class="regexp"> ^(/wp-content/uploads)(.*)$</span> https://static.huaj.tk/<span class="variable">$2</span> <span class="literal">permanent</span>;</span><br></pre></td></tr></table></figure><p>这一行rewrite我直接写到了ssl相关指令的下边，以便最先生效。</p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git歪门邪道</title>
      <link href="/posts/f561df7/"/>
      <url>/posts/f561df7/</url>
      
        <content type="html"><![CDATA[<h2 id="将当前commit独立成分支"><a href="#将当前commit独立成分支" class="headerlink" title="将当前commit独立成分支"></a>将当前commit独立成分支</h2><p>情况：已经commit了，但是想让某个commit之后的都分离到独立的分支，原来的分支恢复到那个commit。</p><p>第一步，新建分支：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b newbranch</span><br></pre></td></tr></table></figure><p>第二步，回到原分支（比如master）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br></pre></td></tr></table></figure><p>第三部，reset hard：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard &lt;某commit的id&gt;</span><br></pre></td></tr></table></figure><p><code>&lt;某commit的id&gt;</code>通过<code>git reflog</code>来看。</p><h2 id="不小心rebase了，想恢复内容"><a href="#不小心rebase了，想恢复内容" class="headerlink" title="不小心rebase了，想恢复内容"></a>不小心rebase了，想恢复内容</h2><p>情况：由于各种原因不小心rebase了，导致内容丢失，想要恢复内容。</p><p>首先根据<code>git reflog</code>确定rebase之前的那个commit是什么，然后reset hard回去：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard &lt;rebase之前的那个commit的id&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Firefox国际版</title>
      <link href="/posts/8da4136c/"/>
      <url>/posts/8da4136c/</url>
      
        <content type="html"><![CDATA[<p>Firefox有国际版和国内版之分。之前被国内版恶心过一回，用它无法登陆国际版的同步账号。所以掌握正确的下载国际版的姿势是非常必要的。</p><h2 id="下载最新版（latest）"><a href="#下载最新版（latest）" class="headerlink" title="下载最新版（latest）"></a>下载最新版（latest）</h2><p>根据<a href="https://ftp.mozilla.org/pub/firefox/releases">官方ftp</a>的<a href="https://ftp.mozilla.org/pub/firefox/releases/latest/README.txt">latest目录的README.txt</a>，最新版的链接是有套路的。例子是：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://download.mozilla.org/?product=firefox-latest&amp;os=win&amp;lang=en-US</span><br></pre></td></tr></table></figure><p><code>os=win</code>代表下载的是windows 32位的安装包；<code>lang=en-US</code>意思是语言是美国英语。</p><p>那么要下载64位的简体中文版firefox，链接自然就是：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://download.mozilla.org/?product=firefox-latest&amp;os=win64&amp;lang=zh-CN</span><br></pre></td></tr></table></figure><p>具体的OS和LANG的解释可以自己去看README.txt。</p><h2 id="下载特定版本"><a href="#下载特定版本" class="headerlink" title="下载特定版本"></a>下载特定版本</h2><p>去<a href="https://ftp.mozilla.org/pub/firefox/releases">官方ftp</a>，每个版本都有单独的目录，找到要的版本下载就是了。<del>连远古版本0.8都有</del></p><p><img src="../images/image-20210602143146500.png" alt="image-20210602143146500"></p>]]></content>
      
      
      <categories>
          
          <category> software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> firefox </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vscode在snippet中启用intellisense</title>
      <link href="/posts/e497cb0d/"/>
      <url>/posts/e497cb0d/</url>
      
        <content type="html"><![CDATA[<p>之前一直很不爽，在使用一些code snippet的时候vscode的intellisense完全不动，搞到要手打，很绝望。今天终于突发奇想用合适的关键词搜到了解决办法：<a href="https://stackoverflow.com/questions/55683145/intellisense-not-working-in-code-snippets-vs-code/55714712">Intellisense not working in code snippets - VS Code</a>。简单来说只需要在settings.json里添加一行<code>&quot;editor.suggest.snippetsPreventQuickSuggestions&quot;: false</code>就行了。</p><p>当然，在设置界面直接搜索<code>editor.suggest.snippetsPreventQuickSuggestions</code>取消勾中也可以。默认是勾上的，就是<code>true</code>。</p>]]></content>
      
      
      <categories>
          
          <category> vscode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vscode </tag>
            
            <tag> code </tag>
            
            <tag> intellisense </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nautilus Open Terminal Here</title>
      <link href="/posts/159a73b4/"/>
      <url>/posts/159a73b4/</url>
      
        <content type="html"><![CDATA[<p>无论是thunar还是pcmanfm，F4都能在当前目录打开命令行。但是Gnome默认的Nautilus是没有这个快捷键的。为了实现这个快捷键，要用到Nautilus的script功能。</p><p>Nautilus的script储存在<code>~/.local/share/nautilus/scripts</code>，首先在这个目录里创建一个script，名字比如<code>Terminal</code>，内容是你想要启动的终端模拟器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">xfce4-terminal</span><br></pre></td></tr></table></figure><p>记得添加执行权限。</p><p>随后修改Nautilus的script控制文件<code>~/.config/nautilus/scripts-accels</code>，这个文件是记录键盘快捷键与script的关系的，这里用F4启动Terminal这个script：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">F4 Terminal</span><br></pre></td></tr></table></figure><p>然后关掉所有Nautilus重新开一个，就能F4了。</p><p>参考：<a href="https://askubuntu.com/questions/680016/keyboard-shortcut-for-open-terminal-nautilus-3-16">Keyboard shortcut for open terminal Nautilus &gt;= 3.16</a></p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> nautilus </tag>
            
            <tag> open-xx-here </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>xdg-open默认打开应用</title>
      <link href="/posts/ba16447f/"/>
      <url>/posts/ba16447f/</url>
      
        <content type="html"><![CDATA[<p>起因是smartgit的open file打开python文件时用了mousepad，然而我想用vscode。smartgit通过xdg-open来打开文件，因此设定xdg-open的默认应用设置才有用。</p><p>参考：<a href="https://unix.stackexchange.com/questions/77136/xdg-open-default-applications-behavior/107508#107508">xdg-open default applications behavior</a></p><h2 id="确定filetype"><a href="#确定filetype" class="headerlink" title="确定filetype"></a>确定filetype</h2><p>首先需要确定对于xdg来说文件的类型是什么。通过<code>xdg-mime</code>来做：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xdg-mime query filetype &lt;文件或目录&gt;</span><br></pre></td></tr></table></figure><p>例子：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜ xdg-mime query filetype hugo-encryptor.py</span><br><span class="line">text/x-python</span><br></pre></td></tr></table></figure><h2 id="设置xdg-mime"><a href="#设置xdg-mime" class="headerlink" title="设置xdg-mime"></a>设置xdg-mime</h2><p>确定了文件类型之后就可以设置默认应用：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xdg-mime default &lt;xx.desktop&gt; &lt;文件类型&gt;</span><br></pre></td></tr></table></figure><p><code>xx.desktop</code>是在<code>/usr/share/applications</code>或者其他系统会去搜索<code>desktop</code>文件的目录里的某个<code>.desktop</code>文件。比如设置.py文件用vscode打开：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">➜ xdg-mime default code.desktop text/x-python</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> xdg-open </tag>
            
            <tag> xorg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hugo_encryptor架构分析</title>
      <link href="/posts/83c7442d/"/>
      <url>/posts/83c7442d/</url>
      
        <content type="html"><![CDATA[<p>最近对<a href="https://github.com/Li4n0/hugo_encryptor">hugo_encryptor</a>这个项目关注比较多，也做出了一些微不足道的贡献。想了一下还是要对它的架构进行简单的分析，方便以后进行修改。</p><h2 id="逻辑"><a href="#逻辑" class="headerlink" title="逻辑"></a>逻辑</h2><p>主体部分需要完成的流程，顺序如下：</p><p><img src="../images/hugo_encryptor%20flow.jpg"></p><h2 id="读取html"><a href="#读取html" class="headerlink" title="读取html"></a>读取html</h2><p>使用了os库的walk()，遍历hugo的public文件夹下所有的html。对每个html用beautifulsoup进行解析，并查找是否存在class为<code>hugo-encryptor-cipher-text</code>的div块。</p><h2 id="加密"><a href="#加密" class="headerlink" title="加密"></a>加密</h2><p>在<a href="#%E8%AF%BB%E5%8F%96html">读取html</a>过程里找到要加密的块的情况下，进行加密步骤。加密部分主要依靠名为<code>AESCrypt</code>的类来处理。</p><h3 id="密码"><a href="#密码" class="headerlink" title="密码"></a>密码</h3><p>明文密码存储在源块的<code>data-password</code>中，读取之后用md5哈希化得到一个128bits哈希值，交给<code>AESCrypt</code>作为aes算法的key使用[^1][^2]。</p><h3 id="AESCrypt"><a href="#AESCrypt" class="headerlink" title="AESCrypt"></a>AESCrypt</h3><p>承担加密的工作。</p><p>构造器设定aes加密所需的各种参数。[^3][^4]</p><p>只有一个function，名为encrypt，接受bytes形式的待加密数据，以bytes形式返回加密结果。[^5][^6]</p><h3 id="替换明文为密文"><a href="#替换明文为密文" class="headerlink" title="替换明文为密文"></a>替换明文为密文</h3><p>用<code>AESCrypt</code>返回的内容替换原来的明文，并且把<code>data-password</code>删掉，内容加密部分就结束了。[^7][^8]</p><h2 id="添加解密用的javascript"><a href="#添加解密用的javascript" class="headerlink" title="添加解密用的javascript"></a>添加解密用的javascript</h2><p>添加script block到密文block的后面，提供解密功能。[^9]</p><h2 id="注释与changelog"><a href="#注释与changelog" class="headerlink" title="注释与changelog"></a>注释与changelog</h2><p>[^1]:在<a href="https://github.com/Li4n0/hugo_encryptor/commit/20fb48965f6e9125fb3f55e846deacfe5b237d65">commit 20fb489</a>中，使用了md5的hexdigest()来将128bits扩充为256bits，从而满足aes-256的key长度要求<br>[^2]:在<a href="https://github.com/sieveLau/hugo_encryptor/commit/9c6d8b012bbaadb00ddc67b174bad6ad6ac73c2b">pull request #21对应的commit 9c6d8b0</a>中，使用了md5的digest()直接作为key，因此为128bits<br>[^3]: 在<a href="https://github.com/Li4n0/hugo_encryptor/commit/20fb48965f6e9125fb3f55e846deacfe5b237d65">commit 20fb489</a>中，构造器接受一个string形式的key用于cbc加密，并设定操作模式为cbc<br>[^4]:在<a href="https://github.com/sieveLau/hugo_encryptor/commit/9c6d8b012bbaadb00ddc67b174bad6ad6ac73c2b">pull request #21对应的commit 9c6d8b0</a>中，构造器接受bytes形式的key和bytes形式的nonce用于gcm加密，并设定操作模式为gcm<br>[^5]: 在<a href="https://github.com/Li4n0/hugo_encryptor/commit/20fb48965f6e9125fb3f55e846deacfe5b237d65">commit 20fb489</a>中，cbc返回密文<br>[^6]:在<a href="https://github.com/sieveLau/hugo_encryptor/commit/9c6d8b012bbaadb00ddc67b174bad6ad6ac73c2b">pull request #21对应的commit 9c6d8b0</a>中，gcm返回密文和mac值<br>[^7]:在<a href="https://github.com/Li4n0/hugo_encryptor/commit/20fb48965f6e9125fb3f55e846deacfe5b237d65">commit 20fb489</a>中，直接将返回结果用base64encode即可输出<br>[^8]:在<a href="https://github.com/sieveLau/hugo_encryptor/commit/9c6d8b012bbaadb00ddc67b174bad6ad6ac73c2b">pull request #21对应的commit 9c6d8b0</a>中，由于gcm解密需要nonce、mac和密文，因此将各部分base64encode之后用<code>||</code>分隔开，再输出<br>[^9]:在<a href="https://github.com/Li4n0/hugo_encryptor/commit/20fb48965f6e9125fb3f55e846deacfe5b237d65">commit 20fb489</a>中，外部js依赖CryptoJS提供aes-cbc解密能力，且解密用的js是inline的。在<a href="https://github.com/sieveLau/hugo_encryptor/commit/9c6d8b012bbaadb00ddc67b174bad6ad6ac73c2b">pull request #21对应的commit 9c6d8b0</a>中，外部js更改为forge来提供aes-gcm解密能力，内联的js也分离为独立的文件。</p>]]></content>
      
      
      <categories>
          
          <category> hugo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hugo </tag>
            
            <tag> hugo_encryptor </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu编译gnucash</title>
      <link href="/posts/366c20ff/"/>
      <url>/posts/366c20ff/</url>
      
        <content type="html"><![CDATA[<h2 id="工作目录"><a href="#工作目录" class="headerlink" title="工作目录"></a>工作目录</h2><p>直接在内存里编译：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd $(mktemp -d)</span><br></pre></td></tr></table></figure><h2 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h2><p>官网<a href="https://www.gnucash.org/index.phtml?lang=zh_CN">安装</a>页面，Linux源码，会跳转到sourceforge下载，是个tar.bz2（例如<code>gnucash-4.5.tar.bz2</code>），放到工作目录里。</p><p>解压得到源码目录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar xf gnucash-4.5.tar.bz2</span><br></pre></td></tr></table></figure><p>此时工作目录应有：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── gnucash-4.5</span><br><span class="line">└── gnucash-4.5.tar.bz2</span><br></pre></td></tr></table></figure><h2 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h2><h3 id="编译依赖"><a href="#编译依赖" class="headerlink" title="编译依赖"></a>编译依赖</h3><p>最简单的办法，把<code>sources.list</code>里所有的deb-src给取消注释，然后就可以让apt自动安装依赖：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt build-dep gnucash</span><br></pre></td></tr></table></figure><p>还缺一个boost：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libboost-all-dev</span><br></pre></td></tr></table></figure><h3 id="运行依赖"><a href="#运行依赖" class="headerlink" title="运行依赖"></a>运行依赖</h3><p>编译出来的虽然带了sql支持，但是要连接mysql的话还需要运行依赖<code>libdbd-mysql</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libdbd-mysql</span><br></pre></td></tr></table></figure><h2 id="编译安装"><a href="#编译安装" class="headerlink" title="编译安装"></a>编译安装</h2><p>新建一个build文件夹，此时工作目录应有：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── build</span><br><span class="line">├── gnucash-4.5</span><br><span class="line">└── gnucash-4.5.tar.bz2</span><br></pre></td></tr></table></figure><p>确定自己要装在哪里，设置<code>CMAKE_INSTALL_PREFIX</code>，比如我装在<code>$HOME/.local/opt/gnucash</code>，命令就是：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake -DCMAKE_INSTALL_PREFIX=<span class="variable">$HOME</span>/.<span class="built_in">local</span>/opt/gnucash ../gnucash-4.5</span><br></pre></td></tr></table></figure><p>注意<a href="https://wiki.gnucash.org/wiki/Building_On_Linux">wiki</a>中的示范<code>cmake -DCMAKE_INSTALL_PREFIX=$HOME/opt  ../gnucash-4.&lt;x&gt;</code>会将<code>$HOME/opt</code>搞得乱七八糟（参考prefix是/usr/local时的情况），如果想要方便直接删除，请务必指定一个专门的文件夹，比如<code>gnucash</code>。</p><p>cmake没问题的话，就可以build了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make -j$(nproc)</span><br></pre></td></tr></table></figure><p>编译完成后安装，记得 strip，毕竟不需要debug：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make install/strip</span><br></pre></td></tr></table></figure><p>安装目录<code>$HOME/.local/opt/gnucash</code>的结构就会是：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">├── bin</span><br><span class="line">├── etc</span><br><span class="line">├── include</span><br><span class="line">├── lib</span><br><span class="line">└── share</span><br></pre></td></tr></table></figure><h2 id="手尾"><a href="#手尾" class="headerlink" title="手尾"></a>手尾</h2><h3 id="命令行启动"><a href="#命令行启动" class="headerlink" title="命令行启动"></a>命令行启动</h3><p>创建一个软链接，把安装目录的<code>bin/gnucash</code>链接到<code>$HOME/.local/bin</code>或者其他在PATH里的目录里面，就可以在terminal里打<code>gnucash</code>启动了。</p><h3 id="desktop-entry"><a href="#desktop-entry" class="headerlink" title="desktop entry"></a>desktop entry</h3><p>把安装目录的<code>share/applications/gnucash.desktop</code>链接到<code>$HOME/.local/share/applications</code>里，就可以在xfce的app finder或者其他类似的里面找到gnucash了。</p>]]></content>
      
      
      <categories>
          
          <category> software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
            <tag> gnucash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据结构</title>
      <link href="/posts/79666db/"/>
      <url>/posts/79666db/</url>
      
        <content type="html"><![CDATA[<h2 id="树"><a href="#树" class="headerlink" title="树"></a>树</h2><p><img src="../images/image-20210512222043266.png" alt="image-20210512222043266"></p><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>度（Degree）：节点拥有的子树数量</p><p>叶（Leaf）：度为0</p><p>树的度：度的最大值</p><p>兄弟（Sibling）：同一Parent的其他Child</p><p>层（Level）：根所在的是第1层</p><p>深度（Depth）：树的最大层数</p><p>森林（Forest）：m棵互不相交的树的集合。树中的每个节点的子树的集合就是森林</p>]]></content>
      
      
      <categories>
          
          <category> 数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Wsl编译openwrt</title>
      <link href="/posts/e0942e65/"/>
      <url>/posts/e0942e65/</url>
      
        <content type="html"><![CDATA[<p>按正常编译，到最后会有个报错，find说某某路径包含在PATH里，execdir不安全（<code>find: The relative path &#39;files&#39; is included in the PATH environment variable, which is insecure in combination with the -execdir action of find. Please remove that entry from $PATH</code>）。原因是wsl的PATH比较特殊，包含了windows的PATH变量，用<code>echo $PATH</code>就能发现不一样的地方：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ echo $PATH</span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/mnt/c/program files (x86)/common files/oracle/java/javapath:/mnt/c/windows/system32:/mnt/c/windows:...</span><br></pre></td></tr></table></figure><p>为了编译通过，需要临时把PATH改成正常的，比如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games</span><br></pre></td></tr></table></figure><p>之后再<code>make</code>就能编译通过了。</p><p>参考<a href="https://github.com/microsoft/WSL/discussions/5099">microsoft/WSL#5099</a>。</p>]]></content>
      
      
      <categories>
          
          <category> openwrt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> openwrt </tag>
            
            <tag> wsl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows的DLL示例</title>
      <link href="/posts/547dc98a/"/>
      <url>/posts/547dc98a/</url>
      
        <content type="html"><![CDATA[<p>官方有个<a href="https://docs.microsoft.com/en-us/cpp/build/walkthrough-creating-and-using-a-dynamic-link-library-cpp?view=msvc-160">WalkThrough教程</a>。有些小东西需要注意。</p><h2 id="sln"><a href="#sln" class="headerlink" title="sln"></a>sln</h2><p>首先是dll的header开头的那几个ifdef。原文是这样的：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> MATHLIBRARY_EXPORTS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MATHLIBRARY_API __declspec(dllexport)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MATHLIBRARY_API __declspec(dllimport)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>第一行的<code>MATHLIBRARY_EXPORTS</code>要特别注意，如果自己的示范库不是叫MathLibrary，比如叫DemoDLL，那么就应该改成<code>DEMODLL_EXPORTS</code>。具体是什么EXPORT，可以看项目属性（Alt+Enter）的<code>C/C++</code>-<code>预处理器</code>的<code>预处理器定义</code>里面的值。</p><p>否则就会在编译时报错<code>C4273</code>（inconsistent DLL linkage）,因为编译器会当成是dll import。</p><p>第二个是client app，直接右键引用，把dll那个项目给引进，就可以了。</p><p>完整的例子在<a href="https://mirgit.huaj.tk/sfadsewqwrqv/WindowsDLLDemo">WindowsDLLDemo</a>。</p><h2 id="cmake"><a href="#cmake" class="headerlink" title="cmake"></a>cmake</h2><p>相比sln，cmake定义<code>ifdef</code>就自由得多，只要跟<code>CMakeLists.txt</code>里面<code>target_compile_definitions</code>的一致即可。例如<code>CMakeLists.txt</code>是这样：</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">target_compile_definitions</span>(dlldemo PUBLIC MATHLIBRARY_EXPORTS)</span><br></pre></td></tr></table></figure><p>那么<code>ifdef</code>就设置成：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> MATHLIBRARY_EXPORTS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MATHLIBRARY_API __declspec(dllexport)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MATHLIBRARY_API __declspec(dllimport)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>另外，需要在顶层<code>CMakeLists.txt</code>里面设置两个OUTPUT_PATH，否则生成的dll不在exe的目录，运行不了：</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置dynamic link library的输出位置</span></span><br><span class="line"><span class="comment"># 如果是static link，设置的是ARCHIVE_OUTPUT_DIRECTORY</span></span><br><span class="line"><span class="keyword">set</span>(CMAKE_LIBRARY_OUTPUT_DIRECTORY <span class="variable">$&#123;CMAKE_BINARY_DIR&#125;</span>/bin)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置exe的输出位置</span></span><br><span class="line"><span class="keyword">set</span>(EXECUTABLE_OUTPUT_PATH <span class="variable">$&#123;PROJECT_BINARY_DIR&#125;</span>/bin)</span><br></pre></td></tr></table></figure><p>更加理想的情况是将<code>CMAKE_ARCHIVE_OUTPUT_DIRECTORY</code>、<code>CMAKE_LIBRARY_OUTPUT_DIRECTORY</code>、<code>CMAKE_RUNTIME_OUTPUT_DIRECTORY</code>设置一下<a href="%E6%9B%B4%E5%8A%A0%E5%AE%9E%E9%99%85%E7%9A%84%E4%BE%8B%E5%AD%90%E6%98%AF">^1</a>：</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span>(CMAKE_ARCHIVE_OUTPUT_DIRECTORY <span class="variable">$&#123;CMAKE_BINARY_DIR&#125;</span>/lib)</span><br><span class="line"><span class="keyword">set</span>(CMAKE_LIBRARY_OUTPUT_DIRECTORY <span class="variable">$&#123;CMAKE_BINARY_DIR&#125;</span>/lib)</span><br><span class="line"><span class="keyword">set</span>(CMAKE_RUNTIME_OUTPUT_DIRECTORY <span class="variable">$&#123;CMAKE_BINARY_DIR&#125;</span>/bin)</span><br></pre></td></tr></table></figure><h2 id="dllexport添加的位置"><a href="#dllexport添加的位置" class="headerlink" title="dllexport添加的位置"></a>dllexport添加的位置</h2><p>对于function：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 非template</span></span><br><span class="line">__declspec(dllexport) <span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">// template</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">__declspec(dllexport) <span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">(T var)</span></span>;</span><br></pre></td></tr></table></figure><p><em>注意对于模板函数，export的位置要放在template关键词之后。</em></p><p>对于class（没错，class也要export），要放在class关键字之后、类名之前：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> __<span class="title">declspec</span>(<span class="title">dllexport</span>) <span class="title">foo</span>&#123;</span>&#125;;</span><br></pre></td></tr></table></figure><h2 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h2><ul><li>参考<a href="https://stackoverflow.com/questions/3742090/custom-directory-for-cmake-library-output">stackoverflow</a>。</li><li>完整的例子在<a href="https://mirgit.huaj.tk/sieveLau/CMakeDLLDemo">CMakeDLLDemo</a>。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> dll </tag>
            
            <tag> visualstudio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Wsl2使用systemd</title>
      <link href="/posts/14582612/"/>
      <url>/posts/14582612/</url>
      
        <content type="html"><![CDATA[<p>今天升级到Windows 20H2，据说wsl2比较牛逼，就试试。但是发现它虽然是基于Hyper-V的类似虚拟机的环境，但是依然不支持systemd。查了一下，发现要用骚操作来实现systemd托管服务的功能。</p><p>主要依靠<a href="https://github.com/arkane-systems/genie/tree/v1.40">arkane-systems /<br>genie</a>来“伪造”一个存在systemd的环境，进入这个环境需要用<code>genie -c bash</code>或者<code>genie -c command</code>来执行需要systemd的命令。与此同时，正常使用wsl没有问题，互不干扰。</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>在<a href="https://github.com/arkane-systems/genie/releases/tag/v1.40">Release</a>里下载deb包，放到wsl里安装。随后退出wsl，在windows的命令行下运行<code>wsl --shutdown</code>来关掉它，再运行<code>wsl</code>来实现重启的效果。</p><h2 id="首次配置"><a href="#首次配置" class="headerlink" title="首次配置"></a>首次配置</h2><p>由于始终不是一个完整的普通Linux，所以systemd-genie也有<a href="https://github.com/arkane-systems/genie/wiki/Systemd-units-known-to-be-problematic-under-WSL">不支持的服务</a>。在重启了wsl之后，执行以下命令来mask掉不支持的服务：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo genie -c systemctl mask auditd</span><br><span class="line">sudo genie -c systemctl mask multipathd</span><br><span class="line">sudo genie -c systemctl mask systemd-modules-load</span><br></pre></td></tr></table></figure><p>以及编辑/etc/fstab，把根分区的那一行注释掉。执行<code>findmnt /</code>可以确定根分区是/dev/多少，再注释/etc/fstab。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ findmnt /</span><br><span class="line">TARGET SOURCE   FSTYPE OPTIONS</span><br><span class="line">/      /dev/sdb ext4   rw,relatime,discard,errors=remount-ro,data=ordered</span><br></pre></td></tr></table></figure><p>搞定之后再“重启”一次wsl，就好了。</p><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>主要包括<code>-s</code>、<code>-l</code>和<code>-c</code>。</p><p><code>genie -c 命令</code>就跟<code>bash -c</code>一样，将命令放在有systemd的环境里运行。</p><p><code>genie -s</code>类似ssh登录，是登录到有systemd的环境里。</p><p><code>-l</code>没看懂。</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> systemd </tag>
            
            <tag> wsl2 </tag>
            
            <tag> wsl </tag>
            
            <tag> systemd-genie </tag>
            
            <tag> genie </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Journald设置空间占用上限</title>
      <link href="/posts/96685388/"/>
      <url>/posts/96685388/</url>
      
        <content type="html"><![CDATA[<p>今天登录ssh的时候，shell提示根目录已经用了79%了。第一反应是log太多了没清，检查一下，果然，占了1.8G：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  journalctl --disk-usage</span><br><span class="line">Archived and active journals take up 1.8G <span class="keyword">in</span> the file system.</span><br></pre></td></tr></table></figure><p>自然是要去找怎么压缩日志文件的空间。<del>当然，最简单的办法就是清空/var/log/journal目录</del></p><p>查了一下，<a href="https://askubuntu.com/questions/1012912/systemd-logs-journalctl-are-too-large-and-slow">askubuntu</a>论坛上有解决方法。</p><p>单次清理日志，清理到只剩200M的话，用这个命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">➜  journalctl --vacuum-size=200M</span><br></pre></td></tr></table></figure><p>如果是想让系统自动控制大小，就要改<code>/etc/systemd/journald.conf</code>了。当然，按照传统，应该在<code>/etc/systemd/journald.conf.d/</code>里新建一个配置文件，填以下内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SystemMaxUse=200M</span><br></pre></td></tr></table></figure><p>还有其他参数可以设置，参考<a href="https://manpages.debian.org/testing/systemd/journald.conf.d.5.en.html">journald.conf.d(5)</a>。</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> journald </tag>
            
            <tag> linux </tag>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu Set Default File Manager</title>
      <link href="/posts/d44a86c5/"/>
      <url>/posts/d44a86c5/</url>
      
        <content type="html"><![CDATA[<p>参考<a href="https://askubuntu.com/questions/628973/how-do-i-set-thunar-as-my-default-file-manager-in-15-04">askubuntu</a>。</p><p>但是由于时过境迁，正确的程序是gio，所以查询现在的默认应用的命令是：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gio mime inode/directory</span><br></pre></td></tr></table></figure><p>在我的电脑上这个命令输出如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">用于“inode/directory”的默认应用程序：pcmanfm.desktop</span><br><span class="line">已注册的应用程序：</span><br><span class="line">code.desktop</span><br><span class="line">pcmanfm.desktop</span><br><span class="line">org.gnome.Nautilus.desktop</span><br><span class="line">org.gnome.baobab.desktop</span><br><span class="line">推荐的应用程序：</span><br><span class="line">code.desktop</span><br><span class="line">pcmanfm.desktop</span><br><span class="line">org.gnome.Nautilus.desktop</span><br><span class="line">org.gnome.baobab.desktop</span><br></pre></td></tr></table></figure><p>如果要修改成别的，比如改成code，那就执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gio mime inode/directory code.desktop</span><br></pre></td></tr></table></figure><p>不需要像原文一样–query和–set。</p>]]></content>
      
      
      <categories>
          
          <category> posts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> new post </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Openwrt配置记录</title>
      <link href="/posts/fd7aa5a6/"/>
      <url>/posts/fd7aa5a6/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="4672e692fdf933b45a25ec3a3cb583512fdeee56502f1a299eca3300a000ddc0">7c0a83fe2b8c6d15df4dacf507370bde3c1fbf704667ea3937b03aea1429eef05584b8c3cb64fa9c13d86065e4434a1ac91af5e0cb02ffdd11347baf5117be8da8956c7330d7edc042ef1e31a389d732e93ab3325db339fd3856fa79da4c123133f098432a70130eaeeefb29136cf65a69dae9a1dae41a2207c29415dbcc8b1de83c69605e4b886134cea81797dc1a88b7ac8164da32b51d9a6381afea754393261a8a5c97cc0c0ca799bd19544d0aefb8b9805e682a0388aac34192a9fc7964b8778b97eeaed8cae10828fce265e69c54ce536167661bf1d8f6c5d69231b103dce935af9f20f8d5abf0f4c14ec1ed412c4877d5983d9cce7275f16b648263cee192543633726473923b5b64d3642a5165fdde43c692e3d494dfa8deb94542fb7dcead32bc63b226caf3478a73bdce69d72b13d7d2d9edde4a8b22c2e088f981d52d41a87168d552c8939cbb6ea5efd96527b12d949998b122b4237a712ca996013f914c96bd87ed0ddf37101836c54bdae9cd03116e9685a828063f3d5fea387c86cee423275f79a462b02e4e527399764a08485e99c53d6240a6601720abeefbd2d77ddc27dba74b97f66a6adee5d54df205a7cc3126f1b6fe6c37561eea680486b367ed84ab207c36cc7b8a0900994783620821d8023c81071978e2f9236838e162e2397216c50f8526b34b3351e3f9233a91ebd989f0381d974ca82b285810eb16ee37025555f50efcd924d173f6e68611767ebb2505f18f71dcc53a1992ea11709a888635a065189d930ae33807fe0f61c825096c1179ffa8ddb7ba7c3bbe7decf34779aa15e342f1237660b9c8bec6f6ca4aa44f7e917a496bfd522ae9ab8a69367f9a4b9236f028df5165dd29369caa28b4a5f26612a0eec5a3680cad44b9ba784fea382a8a170194d0dc2b55e54213c8d1a954c3558e5db88f45b95ce7f3ce26e216b8222f947253619ca8b0fb409f8e10a53ed9829e951847e3833b68023855eaf6f60eaaa66ba09fb5b8fec1108bc496ec4c7c1a83fb9c3b03b8e68a336399a9d522b1295bbf2a3d37b0a900d7457924cc3ef51a5b45e740afaa0d8ccb19ed7c045e7de9ad37e6b7b13a751d360cc67134a7578876ef27794b2b957c876cff5f8fd1bfa57bcb6ab3a42b8e247b4b3e289292998f85a7c3cdd125b4aa3272140b7de6e2844791c8e60338af24084a6f41a24e4801830246e072f4af82c8e81f425a373621cb6a846adcc511c399546ea7e27f361b3262dcaaaaf6259fdda77525a8d13da7af598524fb9a482ee47b79e5a106cf4afea60402535c159d0b55baffaf1c5a24200604bad0c4481599848aba057fe683a6039ecd717cef7adbad48d0a7c8cc299547c13345ddc7a02686d58fd311540e08a30187b544f6ef7502ae7fc7f413e45cba559981dd003a7cce6beec9ee4014dcf07933b3fd85c8681e365df8b7036e32f1e7758fddad903ec4f1308dcb87be5df44fc770ee65ca52ae30704acff9bf9d5635156d44a772d324105c57cf8c8d70556850da4bf346383bf8b36406c395284db510d9cb655dcc896fb2f637650ad535ea5b575da61b8bffed726a8c8e60f45286de5a0140da7fa691a87444de9ac7e911bf85ca81c320862026823f08e9d859cbdb37ca7dcfb03555fcf29287c02a4e95d653bf9804307ee82a43afd24ba25277211c21c35ffcbc906f1544c0be15dd3c11bff923530fad3d669ed4f6f46335e3e6ce542102c8a457d453220b0c0ef160af013d9d98d5704afa032a1219c35111cb67333ff33d413b28f3765e969721cba3d126b9aed055952ca3f91c6bd6b6f58e955e8da89a45116b3d974f68cc4d4505b3eb80fa2ae66b5cf24074ce6745cb19da05f3e4bfd67dd3f6e476b7d85188437b159ef89a2ea5bbf180deabdd96bac156e0ca71ee79caeb675d874265b6516d1cf2e3e07176b9123a3868f609e424f5b7054aa2b4ff5a6ae2d7de993789a6cb70dd632f87d898eade1cb6baad79ff41ec26415b560d579c9e16e621b7842ff6ed12a41d76cb87bcf961ead516da7af0cd56d07a9d6a1f989973842abf853b04e127d60932da05c77ee1ff831b2fc229a642817b81166e6f0c9b6265aa4a1d8e1ea0cc792210ae01c828990b807100dff0d045e43a9a9505b98a9890ce0da180d63cbc4f86c7d2813fdb3b199b0b78804e2e5e1ac3981f5f48f36844c33332c1bd9910d6fb83e48d42d3163f43ed5a0afb92652badf3773f4db916cc98eac555f750c114eabd5b68b60a4471412027ff67c545cb152947df87739cbb46bf715fa9286950eef0da93ddd3542f1874b489964d25a25dd5c25ddb93c44a80210913b1a90cbd25bf42f7841660cd065e66f4a0ebe10a9438bf65193dd5ddd111eb877a8f4f9a0802cc0b9e0c44e0e36a76e3463a7e9494abba3d53afc01fda04bf79ca3d492aef4d735b54fa10626a37df137a0022f27fa608486a9124b5c5e70620fd2e41c1144640b6b7dec2aa8b6b3145b6da0eb03ff5abe9bad20fabea276d394c60ccc5b977b4a9c95120014f5fc3e70a703856047c39e2ee76466dcdacddd6b25bbbd867da3413fe1a61cdf9508b91569ca3e9f0773abef292b658a2075c67a7ea8c84a30065fd2c6bddc7d875307a24e73fab3aecab76318ab7fa7f4dcb5a036cecfd45f5d15b2dee19f94dede07a2325f9552366bac8b29c02285fe66481e8adf5bf48fc9a5070f131d4e71776a59ce24a04ca0263e5649cf034544c56b2119a03920050b0397aeeb86192f77f254c65bfb85d93d0196c444be21679c26d15ac8ba3d021ba43ab86bee618009f042484a8601d2ac5688cba5ba9bf85b2dc8c17a2b60bfbcd9ea9e6650e25753ebf5bd404ef598a81ec93f4f10a1c8b369dddbf37381d14d3efdd89bd4c836a0cb965bf144ddd2ae376904abc7be2801fc8a15f4a8f45d3df1004a7b420dd72cae7201edcc5f8d38915a9066b41018ad5a61b070e0a81bb0810d6cef2502b842bafbd38f03819bf3724f5775fc3326016994c8d458c2857da52654cff444277430fb2699321662db18c1142f6e2a7ee5626abbe8c9435a47624d8fd052757bd5510f0808de260547d464e6e204031582956edea2ce59aea106d6b54ebed927404653ae7c19deea743b2b3f6ac1f7534f1d679910c8e36d56946527963c41b41586b9a81e56d0f641a30353ce1a73a7256b89d8fef1b3b6ed9355b8fc397b264905c1ff52c0d8575349f9a2d88e66287a4dc03843887550ebd65881a924578cbadda0e2b155030bc56b4ecda4ea1303d1338baf87ad5539e88c053b6bde4930f6c62214519fbc0c17f8061812c05db0628f73be80d7d8a34a960f1083f5553dcff38c5417be054797da8aec838b0d9ab0cfb7a4d96efe02b58b5b546c398a7e187dd0a659f1ea40bc6853a464c9e1e24132a977503f6837ea7ed708d4840ca111fa6f63cb59d5930972b47e2386adcd03cd931a66468314a3bdfa7f8e811cccce3fac8e8c428c7c8d3de2c257ab90e0252d3c696a15901d00862ce3ee7dfeca3b44d2bd6ccc55177cdc75ad62034aa99abc8c3c7b3db37d9b4ed8e7c5cffc10d26f9f11acf5bc2dced795391ef75bb9a72c993038c9b8faa52a0beabf7895902f49aa031d297ea1b4a9d43c04d10e992b13faaf331a7ed87ae5964bd32fa20b97fc96e43145654c5d18b05ff9bc8e927fb857cfcd43b4153a1673d69dcda56cbb15e620d1c9d66043fafbe0b92bb9d3c8ce5ce352fed25d96335241793f6946cbcfaeaf1e17889893839c05c0a541310852dd0e6334d84005f6699c5dd88beef64a9978293cfa1d6f76ba98d8a8edb9ad363bb233594986c6745ae4454e4ab36ab3812d9101b363966854494ed8fd784c73c69c9ca161ba4c3da3b1e4a0a2a0630ddf41b5ef7ad8e86c3f918ed5194e35c42567d4565869db9c2cf42fb384df47a61b6c701ec5c00102c00d23f7fa7318905a653a23791ec2386e81dfd753bdcf23cb63622096e79e4402e4452ae336a2413e2d8049302bb3a9cf787d81492440ded6e3bf66743c1d4b518f0cec55a21ddf5659c2021d4e33a2d5ba687c9a374ad2fe68295d60747c8ba1a5fbe1ccd0873ef6cdb2ec783e66da9373fdfeee68a2de635cd1f96eacd980009e61f8f4b057de261e0691182f03307d6e1cb3d91ff9e44d755e4dc7f71e667a4c9d01a2f9fb57e66311a75ff86579d0c4d7c79a92dbbc9bac47b3c5780a29dc4912c377ebbcad5ba6b9dedbe60fb5aee4faee97495fa173ce49bc493e40ac2d30bceec6f1c97dce5b7b48598093e09bae0482e4cf79fa44831165f29ef4f2d498a7e2eab8702e2fb69c73de3c6bd232763a113dd609d6e762f870865f6e654eeddd622e4496ef996f6ebd4d7768e227e6cfdb6fb90b7ddeaf35058bfe9468ff202c33e0d5f39537d5c04f0004eca0cfbf2bb5289033a001d290e6f575c784566d0ba53c884ef9e5fdc4ead39ee5ef03efdae80f1406542ad6251fb4eb8beb4b5058932e3aa6595f5526e86169348bb25171574efa360a13105865983875c538f65432d70a24c470839859e390ba272fac8f949238235691676915f5ab1e3fadf364cb906e097f2328edd2b4182e8fde484ef7430229b4cfeb527ba41e298b94f751e5432241d438fb1d9c04205ccc83588d34268702eaebe1aa7624727ff093cb200afe279d5bed03bcb1d146b3081818808404bc44659719b06b4de5156ce740f152910a0386ee06c05127433cb541ec539b4363d6fd0a4b06f3112125683f77ff01aebbc9bd8fa8d241ba964a0fcdda96d438603edfda197b2728a6852721c69163f9b791097cfedafec84099af184ae07a2024afd6a93984bde2ac4caf7f09bc301f64eaec96ed4ab5c25115583b17a13485cf27e9e9e21a2e41b3738a1fb35a72b72573e421f3c185bd28f2122886682c3c35d6924affe767fbbde4559f4559715f683c2c6c5f85743dfd64f01953f13c23d206aa14b694da9e597de8021d9458c093c1ff3deaf550db3211d6baf6123efd57208758f4bc8fdb5632a64664b1b5370ea4ce5de551a5d312a2733f1bca816e4b8b7f588799a2cf62dfea565b0d372c2e837a5e122acef1bc00464c33365ba4a88532eea411423ad22463a7567ad625e47e106191c9418128736baad5ceb141516639c08310ee52376bb5b5ac6618bff34116ded9d0235a80f032aaf4cde6ac10b95e2c16cd9f514cbe93cd26dbd684e9eaa9ab9a07220378ad07f5d74b80913b7418ba19e783e1ea68b9dd7544beada560b1280c60beff9d3e09aa5d7d9bc9e14e9bd462785f49aa3f9f834215533c0f41d79a32269</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">您好, 这里需要密码.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> openwrt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> openwrt </tag>
            
            <tag> 加密 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>.desktop文件标准格式</title>
      <link href="/posts/cea006d1/"/>
      <url>/posts/cea006d1/</url>
      
        <content type="html"><![CDATA[<p>.desktop文件的文档链接是：<a href="https://developer.gnome.org/integration-guide/stable/desktop-files.html.en">gnome|desktop files</a>。简单来说，一个合格的.desktop文件需要定义至少四个内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Name=快捷方式显示的名字</span><br><span class="line">Exec=双击快捷方式时执行的命令</span><br><span class="line">Icon=就算没有也要制定一个，比如application.png</span><br><span class="line">Type=Application</span><br><span class="line">Categories=GTK;GNOME;Utility;</span><br></pre></td></tr></table></figure><p>显示在桌面上的快捷方式的名字是由Name决定的，跟.desktop文件的名字没有关系。</p><p><del>所以写一个Name是Intel但是文件名是AMD的.desktop也不是不可以</del></p><p><em>实际上这跟hugo的特点是一样的，hugo也是文件名跟实际标题可以完全不一样</em></p><p><em>hugo居然拒绝渲染.开头的文件，真是无语了</em></p>]]></content>
      
      
      <categories>
          
          <category> 文件格式 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> desktop </tag>
            
            <tag> gnome </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>虚拟机搭载KMS服务</title>
      <link href="/posts/d0e7f43f/"/>
      <url>/posts/d0e7f43f/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> posts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> new post </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2021拜山</title>
      <link href="/posts/776d29ef/"/>
      <url>/posts/776d29ef/</url>
      
        <content type="html"><![CDATA[<p>上星期六去了妈妈那边拜山，今天去拜爷爷。地方不太记得是哪里，可能是南海殡仪馆？是去火葬场的纪念楼拿的骨灰。</p><p>去到的时候被告知，2019年新规定，不能再拿骨灰出来拜，以后都只能拿个牌位出来。这次因为是新规定之后的第一次，所以就最后一次可以拿出来拜。</p><p>点上香烛之后，突然开始下雨，就跟爷爷去世那天一样的大雨。不得不说有一种奇怪的感觉。撑了伞挡雨，等烧完之后，我和爸爸一起去办事大厅交钱先做个牌位。大家都很不满，觉得要去西樵的墓园买个墓地，一方面好让奶奶也来拜，另一方面也不用受这鸟气。</p><p><em>听说要十几万一个，确实挺贵的</em></p><p>下午吃完饭，再去旧屋烧纸钱。虽然不给在火葬场烧，但是仪式还是要的。今天大风，烧起来烟不大；但是因为以前没遇到风这种情况，所以我挑起还没烧完的灰想让它们接触空气继续烧的时候搞到到处都是，被骂了一顿。姑妈和姑丈给旧屋打扫了一下，但是后边也不会经常有人来，可能下次来又会满了灰尘。</p><p>很累，回到家之后睡了一个半钟，超沉，就像模拟人生里的一个描述：睡得跟死人一样（形容吸血鬼睡了个好觉的心情）。</p>]]></content>
      
      
      <categories>
          
          <category> 杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 拜山 </tag>
            
            <tag> 祭祖 </tag>
            
            <tag> 拉跨 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>修改virtualbox共享文件夹的权限</title>
      <link href="/posts/1931c7f6/"/>
      <url>/posts/1931c7f6/</url>
      
        <content type="html"><![CDATA[<p>virtualbox可以方便地分配共享文件夹，但是文件权限默认是777，owner也不太好看。为了修改默认权限，需要用mount -o。</p><p>假设分配的文件夹名字是nugo，挂载点是/mnt/nugo，那么用到的挂载命令是：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -t vboxfs -o fmask=133,dmask=0222,uid=你的用户的uid nugo /mnt/nugo</span><br></pre></td></tr></table></figure><p>用7减去fmask和dmask的值就是chmod中的权限值，r=4，w=2，x=1。</p><p>可以写一个systemd unit file来在开机时设定好权限：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=fix share folder permission</span><br><span class="line">After=network.target</span><br><span class="line">[Service]</span><br><span class="line">Type=oneshot</span><br><span class="line">ExecStart=/usr/bin/mount -t vboxsf -o fmask=133,dmask=022,uid=你的用户的uid nugo /mnt/nugo</span><br><span class="line"># disable timeout logic</span><br><span class="line">TimeoutSec=0</span><br><span class="line">#StandardOutput=tty</span><br><span class="line">RemainAfterExit=yes</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 虚拟机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> virtualbox </tag>
            
            <tag> vboxfs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MathJax与Hugo</title>
      <link href="/posts/7078fec4/"/>
      <url>/posts/7078fec4/</url>
      
        <content type="html"><![CDATA[<p>Markdown里显示公式一般用的是MathJax。用中文搜索Hugo上的MathJax，都是比较老的教程，比如<a href="https://zhuanlan.zhihu.com/p/109284344">知乎|使用了静态网页生成器：从WordPress 到 Hugo</a>。</p><p>MathJax是发布在Github上的，项目地址：<a href="https://github.com/mathjax/MathJax">MathJax</a>。根据它的README.md可知可以把需要用到的js放到服务器上，用自己的服务器来提供所需的组件。</p><p><del>还不是因为不喜欢让cdn加载</del></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/mathjax/MathJax.git mj-tmp</span><br><span class="line">mv mj-tmp/es5 &lt;hugo的static目录&gt;/mathjax</span><br><span class="line">rm -rf mj-tmp</span><br></pre></td></tr></table></figure><p>随后，在主题提供的header-addtion或者类似的提供往html的header里添加代码的文件里添加script。比如对于官方推荐的ananke主题，这个添加header的文件是themes/ananke/layouts/partials/head-additions.html。往该文件中添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">id</span>=<span class="string">&quot;MathJax-script&quot;</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">&quot;/mathjax/tex-chtml.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>即可让博客实现显示公式的功能。</p><p>$$<br>1+1=2<br>$$</p>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hugo </tag>
            
            <tag> mathjax </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 34</title>
      <link href="/posts/8213fd81/"/>
      <url>/posts/8213fd81/</url>
      
        <content type="html"><![CDATA[<p>有一说一，把Ubuntu架在HyperV上作为服务器，给Windows服务，那是真的爽。Jupyter可以直接设置监听内部ip，然后允许远程访问，再添个systemd服务，开机启动Jupyter，就可以在Windows上用Notebook了，不用每次都手动开或者看着一个黑框在那里不爽。同理，各种适合作为服务存在的app也可以挂在虚拟机上，虚拟机只允许本地地址入站，安全得不行。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 吹水 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ssh的config文件</title>
      <link href="/posts/611b9985/"/>
      <url>/posts/611b9985/</url>
      
        <content type="html"><![CDATA[<p>格式如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Host 昵称</span><br><span class="line">    HostName 远端的域名 或者 IP</span><br><span class="line">    IdentityFile ssh私钥路径</span><br><span class="line">    Port 端口</span><br></pre></td></tr></table></figure><p>保存之后，运行”ssh 昵称”就可以连接到目标服务器了，节省输入量。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ssh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iptables的After和Before network.target</title>
      <link href="/posts/defb5fc9/"/>
      <url>/posts/defb5fc9/</url>
      
        <content type="html"><![CDATA[<p>如果规则文件有除了ip之外的规则，比如开放端口的规则，那iptables在载入规则的时候会发送DNS请求。如果在service文件里的Unit部分写的是Before=network.target，因为此时还没有网络，所以无法进行DNS请求。这样的话iptables-restore就会808错误码退出，结果就是规则恢复失败，无防火墙。</p><p>为了实现重启后自动恢复规则，但是又不留下可乘之机，就要创建一个最简单的防火墙规则：禁止incoming，允许outgoing（这里不更改forward，有需要的自己改）。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Generated by iptables-save v1.8.7 on Sat Apr  3 15:30:35 2021</span><br><span class="line">*filter</span><br><span class="line">:INPUT DROP [1426:454948]</span><br><span class="line">:FORWARD ACCEPT [0:0]</span><br><span class="line">:OUTPUT ACCEPT [177:12694]</span><br><span class="line">COMMIT</span><br></pre></td></tr></table></figure><h1 id="Completed-on-Sat-Apr-3-15-30-35-2021"><a href="#Completed-on-Sat-Apr-3-15-30-35-2021" class="headerlink" title="Completed on Sat Apr  3 15:30:35 2021"></a>Completed on Sat Apr  3 15:30:35 2021</h1><p>保存成rules.v4.startup。然后复制一份iptables.service为iptables-startup.service。把iptables.service的Before=network.target改成After=network.target，把iptables-startup.service的rules.v4改成rules.v4.startup。然后enable一下iptables-startup.service就完成了。</p><p>ip6tables同理。</p>]]></content>
      
      
      <categories>
          
          <category> iptables </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iptables </tag>
            
            <tag> systemd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 2004打Patch实现FullCone Nat</title>
      <link href="/posts/c18b695b/"/>
      <url>/posts/c18b695b/</url>
      
        <content type="html"><![CDATA[<p>参考：<a href="https://www.jianshu.com/p/88e7cd6a0c95">Centos 7当网关启用Fullcone nat</a>。</p><p>第一步，安装kernel header，对于Ubuntu来说就是linux-headers-generic。如果内核不是linux-generic，根据uname -ar的内容确定自己要安装哪个header。</p><p>第二步，安装一些必备工具，包括但不限于autoconf、libmnl-devel、libtool。如果报错PKG_CHECK_MODULES syntax error，还要装pkgconf。</p><p>第三步，编译libnftnl。别以为官方库里面有libntfnl-dev就能用，一样炸，就是报PKG_CHECK_MODULES syntax error。</p><p>cd /usr/src<br>git clone git://git.netfilter.org/libnftnl.git<br>cd libnftnl<br>./autogen.sh<br>./configure<br>make<br>make install</p><p>第四步，编译netfilter-full-cone-nat模块，得到xt_FULLCONENAT.ko。</p><p>cd /usr/src<br>git clone <a href="https://github.com/Chion82/netfilter-full-cone-nat.git">https://github.com/Chion82/netfilter-full-cone-nat.git</a><br>cd netfilter-full-cone-nat<br>make</p><p>可以选择此时载入模块，但是要先手动加载nf_nat：</p><p>modprobe nf_nat<br>insmod xt_FULLCONENAT.ko</p><p>第五步，编译支持FULLCONE的iptables：</p><p>cd /usr/src<br>git clone  git://git.netfilter.org/iptables.git<br>cd iptables<br>cp ../netfilter-full-cone-nat/libipt_FULLCONENAT.c extensions<br>./autogen.sh<br>PKG_CONFIG_PATH=/usr/local/lib/pkgconfig<br>export PKG_CONFIG_PATH<br>./configure –prefix=/usr<br>make</p><p>这里将prefix写到/usr，是准备完全替换系统的iptables。所以别急着install，先把系统的iptables给卸了。</p><p>sudo apt remove iptables</p><p>注意，在Ubuntu上这会卸掉ubuntu-standard，导致autoremove不再可靠，小心别乱用apt autoremove。之后就可以make install安装了。</p><p>第六步，补上基本的iptables规则：</p><p>iptables -P INPUT   DROP<br>iptables -P OUTPUT  ACCEPT</p><p>iptables -A INPUT -i lo -j ACCEPT<br>iptables -A OUTPUT -o lo -j ACCEPT<br>iptables -A INPUT -m conntrack –ctstate ESTABLISHED,RELATED -j ACCEPT<br>iptables -A OUTPUT -m conntrack –ctstate ESTABLISHED -j ACCEPT<br>iptables -A INPUT -m conntrack –ctstate INVALID -j DROP<br>for i in {80,443};do<br>iptables -A INPUT -p tcp –dport $i -m conntrack –ctstate NEW,ESTABLISHED -j ACCEPT<br>iptables -A OUTPUT -p tcp –sport $i -m conntrack –ctstate ESTABLISHED -j ACCEPT<br>done</p><p>iptables -A INPUT  –match state –state ESTABLISHED,RELATED –jump ACCEPT<br>iptables -A OUTPUT –match state –state ESTABLISHED,RELATED –jump ACCEPT</p><p>iptables -A INPUT  –proto udp –sport 53 –jump ACCEPT</p><p>在for循环那一行里，可以把其他比如ssh端口添加到括号里，用逗号分隔开，就可以开放这些端口了。搞定之后，首先新建文件夹/etc/iptables，然后保存到文件：</p><p>mkdir -p /etc/iptables<br>iptables-store &gt; /etc/iptables/rules.v4</p><p>第七步，编写一个systemd服务文件，让规则可以在开机时自动载入。根据<a href="https://bbs.archlinux.org/viewtopic.php?id=192505">archlinux的iptables.service</a>，新建一个文件/etc/systemd/system/iptables.service，内容如下：</p><p>[Unit]<br>Description=Packet Filtering Framework<br>After=network.service<br>[Service]<br>Type=oneshot<br>ExecStart=/sbin/iptables-restore /etc/iptables/rules.v4<br>ExecReload=/sbin/iptables-restore /etc/iptables/rules.v4<br>RemainAfterExit=yes</p><p>[Install]<br>WantedBy=multi-user.target</p><p>然后启用它：systemctl enable iptables.service</p><p>可以检查一下是否成功：systemctl status iptables.service</p><p>注意，不需要使用命令行restore时的”&lt;”，直接指定规则文件名字，iptables-restore就会载入它。</p><p>第八步，开机自动载入FULLCONNAT模块。首先更改/etc/modules文件，添加一行xt_FULLCONNAT：</p><p>echo ‘xt_FULLCONENAT’ &gt;&gt; /etc/modules</p><p>将ko文件复制到内核模块文件目录/lib/modules/`uname -r`/kernel/drivers，比如放在net目录下，然后运行depmod分析模块依赖（一般不会有输出内容）：</p><p>cp /usr/src/netfilter-full-cone-nat/xt_FULLCONENAT.ko /lib/modules/`uname -r`/kernel/drivers/net<br>depmod</p><p>随后就可以reboot一下，启动之后通过lsmod grep ‘xt_FULLCONENAT’来确定是否加载了模块。</p><p>第九步，添加FULLCON规则，假设对外网卡是eth0：</p><p>iptables -t nat -A POSTROUTING -o eth0 -j FULLCONENAT<br>iptables -t nat -A PREROUTING -i eth0 -j FULLCONENAT</p><p>如果需要开机应用这条规则，那就仿照上边iptables-store一下。</p>]]></content>
      
      
      <categories>
          
          <category> iptables </category>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iptables </tag>
            
            <tag> Full Cone </tag>
            
            <tag> nat1 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>机器人诱捕器</title>
      <link href="/posts/b35aed3b/"/>
      <url>/posts/b35aed3b/</url>
      
        <content type="html"><![CDATA[<p>总是有阿里云的地址的机器人，UserAgent是Chrome/57的，在那里访问根本不存在的/cron/目录。写了个小程序自动屏蔽这些机器人。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>今日份跑路</title>
      <link href="/posts/ebf7b5e/"/>
      <url>/posts/ebf7b5e/</url>
      
        <content type="html"><![CDATA[<p>今天跟栗子酱去了南校上课（不是）。</p><p>论炸鸡，那还是肯德基爷爷比较会搞，炸起来比麦当劳的好吃多了。</p><p>中大还是一如既往的在搞建设……中大附近感觉都在搞建设，到处都是工地，路也不好走，连网约车师傅都卡在红绿灯口十多分钟才过来。</p><p>经历了城规+地铁两个多小时，接近十点才到家之后，深感当初珠海工行把我转回佛山是多么仁慈。</p><p>吃了饭堂的椰子冻，真的挺好吃，有外边满记的水准，但是便宜很多，才12块一杯。据说杨枝甘露也很好，下次试试。</p><p>今天把联通的套餐改成了8块保号套餐，开个新的移动宝藏卡比较合适。移动作为老大哥就是好，连客服都好说话一点。</p>]]></content>
      
      
      <categories>
          
          <category> 日常 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>今日份折腾</title>
      <link href="/posts/97cc5d10/"/>
      <url>/posts/97cc5d10/</url>
      
        <content type="html"><![CDATA[<p>耗时3个钟，从Apache2切换到Nginx。拥抱新时代（多重含义）</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>国考面试</title>
      <link href="/posts/b042acd8/"/>
      <url>/posts/b042acd8/</url>
      
        <content type="html"><![CDATA[<p>没有想到居然是结构化小组面试。</p><p>因为从早上等到下午才面试，脑子有点不太清醒，搞到有些环节理解不透。输了一点点。</p><p>不过表现上来看还不错，比其他两个说话流畅得多。</p><p>希望得到青睐。</p>]]></content>
      
      
      <categories>
          
          <category> 日常 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>template template parameter</title>
      <link href="/posts/aa4c931d/"/>
      <url>/posts/aa4c931d/</url>
      
        <content type="html"><![CDATA[<p>想要写一个模板function，只接受元素类型是string的容器，那就要用到这个究极晦涩的语法（连StackOverFlow老哥都说很少用到的语法）：</p><p>template&lt;template&lt;typename…&gt; typename T&gt;<br>       auto add(std::string label, const T<string>&amp; origin) -&gt; bool<br>       {<br>           auto container = data_[label];<br>           for (string&amp; e : origin) {<br>               container.data.push_back(e);<br>           }<br>            return true;<br>       }</p><p>文档可以看<a href="https://en.cppreference.com/w/cpp/language/template/_parameters#Template\_template\_parameter%EF%BC%88%E4%BD%86%E6%98%AF%E6%A0%B9%E6%9C%AC%E7%9C%8B%E4%B8%8D%E6%87%82">https://en.cppreference.com/w/cpp/language/template\_parameters#Template\_template\_parameter（但是根本看不懂</a></p>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
            <tag> template </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>番|月色真美</title>
      <link href="/posts/2c8a1efa/"/>
      <url>/posts/2c8a1efa/</url>
      
        <content type="html"><![CDATA[<p>最近看完了2017年出的《月色真美》，感觉是一部叙事紧凑而治愈的好番剧，细节也非常丰富和到位，最爽的是有情人终成眷属的结局。</p><p>男女主是同班同学，而且正好是在初三准备中考的阶段。众所周知，根据新海诚定律（凡是高中毕业前开始的恋爱，都不会走到一起），这种爱情故事必然让人胃痛。男主喜欢写小说，但是成绩比较一般；女主是田径队成员，而且成绩很好。</p><p>为什么两个人会谈上恋爱呢，这个问题无论是现实还是这作品都没有给出确切的回答，可能就是缘分到了，就火星撞地球了——虽然女主被同学们问到这个问题的时候，她给出了一个模糊的回答“和他在一起有一种安全感”。</p><p>这部番不像某2020年10月新番开局8集都在水日常，而是把两个人恋爱过程的关键事件安排到每一集中，往往是这集刚讲完两个人初生暧昧，下集就讲和朋友们一起去游乐园然后男主果断站出来宣示主权。紧凑的叙事让整个感情发展和支线发展都能够有充分的的时间铺开，为结局进行铺垫。</p><p>除了叙事安排之外，剧本对于刚谈恋爱时的小心翼翼不想让别人发现、初吻的时候面红耳赤（特别是耳朵都红了这一点）、因为误会所以生闷气却说“才没有生气”然后冷战、想要跟女朋友考一个学校所以很努力但是突击并不能弥补之前的差距所以还是落榜了、面临异地恋产生的焦虑等等，这些非常细节的东西都写了出来、表现在画面上，属实动人心弦，让我想起了自己刚和妹子谈恋爱的时候的种种。</p><p>最让人惊喜的是每集的ED都有两个人（初中毕业）之后的聊天记录，无论是给对方的备注——从一开始的对方的名字，到后面类似“猪猪”这样的爱称，到后来的“夫”和“妻”，还是聊天内容——从“明天发工钱了这周可以来和你玩”到“发烧了”，简直是全方位无死角喂糖，顺便告诉大家这个番是Happy Ending。ED后边的两个人的同学、老师的小剧场，也是非常搞笑的。</p><p>至于为什么这部番成功逃脱新海诚定律，那可能要归功于一个漂亮的伏笔回收、各位配角的助攻以及两个主角的坚定了。伏笔回收是指男主虽然写小说不太行，被编辑打击了；但是好朋友神助攻，让他试试投网络小说，为后边女主看到以自己和男主的故事为原型的小说做铺垫。男主知道女主要搬家，而且自己没办法考上女主所在的学校，感到很颓废的时候，又有好朋友助攻说让他把故事写下来可能会好受点。最后女主准备上新干线的时候，女主的朋友们又恰好推荐了男主写的这本小说，男主又恰好更新了最后一章，“我永远爱你”。天时地利人和，简直让人一边胃痛一边快乐。</p><p>不禁让人感叹，但凡秒速五厘米的男主没那么脸黑，新干线准时达，都不会有这么悲伤的结果。</p><p>整部剧总结下来就是一句话，好就是好！</p>]]></content>
      
      
      <categories>
          
          <category> 动漫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 月色真美 </tag>
            
            <tag> 番剧 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>raw.githubusercontent.com被墙的解决办法</title>
      <link href="/posts/f48eb092/"/>
      <url>/posts/f48eb092/</url>
      
        <content type="html"><![CDATA[<p>用<a href="https://www.jsdelivr.com/github%E6%9D%A5%E7%94%9F%E6%88%90cdn%E9%93%BE%E6%8E%A5%E3%80%82">https://www.jsdelivr.com/github来生成cdn链接。</a></p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 简单的废话 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cmake Cannot determine link language for target</title>
      <link href="/posts/a8569972/"/>
      <url>/posts/a8569972/</url>
      
        <content type="html"><![CDATA[<p>或许只是因为某个library只有头文件，没有cpp，所以cmake不知道到底是什么语言。</p><p>然而实际上就算手动设置link language，由于不是把这个library设置为interface library（或者什么其他东西），所以linker一样不会生成lib，导致链接失败。</p><p>摸鱼的解决办法：新建一个空的cpp文件，就只有一行，#include这个头文件，就完事了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmake </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 33</title>
      <link href="/posts/1c776822/"/>
      <url>/posts/1c776822/</url>
      
        <content type="html"><![CDATA[<p>CMake在Windows上提示找不到include的文件，有可能不是因为真的不存在……</p><p>建议更改配置，到WSL试试看，Linux上的CMake可能会告诉你是链接器报错……</p><p>然后就会发现是自己忘了设置target_link_library……</p><p>至于为什么互相link的两个target都能编译成功，这要问CMake……</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmake </tag>
            
            <tag> C1083 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu之访问Host的端口</title>
      <link href="/posts/5a835ee0/"/>
      <url>/posts/5a835ee0/</url>
      
        <content type="html"><![CDATA[<p>首先需要新建一个内部网络，具体不多说。</p><p>然后需要在Host上有一条防火墙规则，允许端口连接，然后远程地址填写虚拟机所在的网段（或者直接给虚拟机定个ip也行）。</p><p>然后需要在虚拟机上用nmcli添加一个静态ip：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmcli con add <span class="built_in">type</span> <span class="string">&quot;ethernet&quot;</span> ifname <span class="string">&quot;网卡&quot;</span> con-name <span class="string">&quot;连接名字&quot;</span> autoconnect <span class="string">&quot;yes&quot;</span> ip4 <span class="string">&quot;192.168.0.2/24&quot;</span> gw4 <span class="string">&quot;192.168.0.1&quot;</span></span><br></pre></td></tr></table></figure><p>网卡名字可以通过ip link看。ip4后边的是给虚拟机设定的静态ip地址。gw4是gateway ipv4的意思，一般会设置成192.168.0.1。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
            <tag> 备忘录 </tag>
            
            <tag> 根本不是完整的教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 32</title>
      <link href="/posts/6b7058b4/"/>
      <url>/posts/6b7058b4/</url>
      
        <content type="html"><![CDATA[<p>今天大年初七开工，回到公司同事们都在派利是，收获了好多利是。</p><p>今日新增担心的事：不知道领导批不批living的实习。要是不通过的话就好为难，毕竟当时一口答应了她。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐事 </tag>
            
            <tag> 碎碎念 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gogs的SSH配置</title>
      <link href="/posts/53bb2d32/"/>
      <url>/posts/53bb2d32/</url>
      
        <content type="html"><![CDATA[<p>完全不建议使用Built-in，因为连上了也不会认证。使用系统自带的openssh的sshd认证会流畅很多。（不得不吐槽，官方documentation简直是一坨屎，根本不能用，连教程都是论坛补充的）</p><p>首先按照官方论坛的指引：<a href="https://discuss.gogs.io/t/how-to-config-ssh-settings/34">https://discuss.gogs.io/t/how-to-config-ssh-settings/34</a>，配置SSH_DOMAIN和SSH_PORT。有必要的话可以配置<code>SSH_ROOT_PATH</code>，如果不配置就会是gogs可执行文件所在目录的.ssh文件夹。</p><span id="more"></span><p>然后新建一个独立user用于gogs：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd -U -M git</span><br></pre></td></tr></table></figure><p>注意：一定要让git的登录shell是可以用的，比如bash或者zsh，不能是nologin，否则做git操作的时候会报错protocol错误。</p><p>修改gogs的安装目录的权限为git，用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown -R git:git gogs的安装目录</span><br></pre></td></tr></table></figure><p>还需要对配置文件（app.ini）以及systemd服务文件进行相应的修改，这里不多说。</p><p><strong>关键的一步</strong>，将git用户的home目录更改为gogs的安装目录，否则ssh认证不成功：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -d gogs的安装目录 git</span><br></pre></td></tr></table></figure><p>之后按照正常流程，生成ssh的公钥私钥，将公钥通过gogs的界面添加到gogs上面就可以了。注意千万不要自己编辑<code>authorized_keys</code>文件。</p><p>有需要的话可以配置本地的~/.ssh/config，将主机和私钥配对起来：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Host gogs</span><br><span class="line">    HostName git.example.com</span><br><span class="line">    IdentityFile ~/.ssh/id\_rsa\_gogs</span><br><span class="line">    IdentitiesOnly Yes</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ssh </tag>
            
            <tag> gogs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在Ubuntu上编译gcc</title>
      <link href="/posts/2f6a081e/"/>
      <url>/posts/2f6a081e/</url>
      
        <content type="html"><![CDATA[<p>新建一个文件夹用于打包deb，我用的文件夹名字是gcc_10.2.0-1：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/gcc_10.2.0-1</span><br><span class="line">mkdir -p gcc_10.2.0-1/usr/local</span><br><span class="line">mkdir -p gcc_10.2.0-1/DEBIAN</span><br></pre></td></tr></table></figure><span id="more"></span><p>新建一个文件夹用于存放gcc源码和编译目录，这里是gcc-compile：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/gcc-compile</span><br></pre></td></tr></table></figure><p>然后从阿里云上面找到gcc的源码包，所有gcc源码包的存放地址是<a href="https://mirrors.aliyun.com/gnu/gcc%EF%BC%8C%E5%90%84%E4%B8%AA%E7%89%88%E6%9C%AC%E5%8F%B7%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%E7%9B%AE%E5%BD%95%EF%BC%8C%E6%AF%94%E5%A6%82%E6%88%91%E4%BB%AC%E8%A6%81%E7%BC%96%E8%AF%9110.2.0%EF%BC%8Cgcc-10.2.0%E7%9A%84%E6%BA%90%E7%A0%81%E5%8C%85%E5%B0%B1%E5%9C%A8https://mirrors.aliyun.com/gnu/gcc/gcc-10.2.0/%E9%87%8C%E9%9D%A2%E3%80%82">https://mirrors.aliyun.com/gnu/gcc，各个版本号就是一个目录，比如我们要编译10.2.0，gcc-10.2.0的源码包就在https://mirrors.aliyun.com/gnu/gcc/gcc-10.2.0/里面。</a></p><p>执行以下命令下载和解压源码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> gcc-compile </span><br><span class="line">wget 源码包（xz格式）地址</span><br><span class="line">tar xvf gcc-*.xz</span><br></pre></td></tr></table></figure><p>获得目录gcc-10.2.0。调用gcc-10.2.0自带的脚本下载依赖包：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc-10.2.0/contrib/download_prerequisites</span><br></pre></td></tr></table></figure><p>在gcc-compile目录下，新建一个objdir来进行编译：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir objdir</span><br><span class="line"><span class="built_in">cd</span> objdir</span><br></pre></td></tr></table></figure><p>gcc的configure有一些配置项，比较有用的是：</p><p>--prefix=：安装目录前缀，这里使用<code>~/gcc_10.2.0-1/usr/local</code></p><p>--build=：编译类型，这里用x86_64-linux-gnu</p><p>--host=：编译的主机类型，可以理解成本机的系统类型，这里用x86_64-linux-gnu</p><p>--target=：编译出来的gcc运行的目标平台类型，因为是用在本机上，所以是x86_64-linux-gnu</p><p>--enable-checking=：release</p><p>--enable-languages=：编译的gcc支持的语言类型，我只用c和c++，所以就是c,c++</p><p>--disable-multilib：因为只打算支持x64，所以就禁用对x32的支持</p><p>所以进行configure的命令就是：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/gcc-compile/gcc-10.2.0/configure --prefix=~/gcc_10.2.0-1/usr/<span class="built_in">local</span>  --disable-multilib --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu --enable-checking=release --enable-languages=c,c++</span><br></pre></td></tr></table></figure><p>之后就make和install就好了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">make -j8</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
            <tag> gcc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在Hyper-V上安装xUbuntu</title>
      <link href="/posts/6f573bcc/"/>
      <url>/posts/6f573bcc/</url>
      
        <content type="html"><![CDATA[<p>实现的效果：</p><ol><li> xUbuntu运行正常</li><li> 增强会话（enhanced session）功能正常</li><li> 共享文件夹</li></ol><p><em>install.sh可以去<a href="https://github.com/microsoft/linux-vm-tools/pulls%E7%9C%8B%E7%9C%8B%EF%BC%8C%E5%AE%98%E6%96%B9%E6%B2%A1%E6%9C%89%E7%BB%B4%E6%8A%A4%E7%9A%84%E8%84%9A%E6%9C%AC%E6%9C%89%E7%88%B1%E5%A5%BD%E8%80%85%E6%8F%90%E4%BE%9B%E4%BA%86%E4%BF%AE%E6%94%B9%E7%89%88%E3%80%82">https://github.com/microsoft/linux-vm-tools/pulls看看，官方没有维护的脚本有爱好者提供了修改版。</a></em></p><h2 id="安装Ubuntu"><a href="#安装Ubuntu" class="headerlink" title="安装Ubuntu"></a>安装Ubuntu</h2><p>镜像是xUbuntu 2004LTS桌面版。</p><p>第一步，创建虚拟机。</p><p>打开Hyper-V管理器，新建一个“虚拟机”：</p><p><img src="https://blog.huaj.tk/wp-content/uploads/2021/01/image.png"></p><p>在“指定代数”步骤，要选择<strong>第二代</strong>。“配置网络”建议选择未连接，避免Ubuntu安装中下载文件（非常慢）。“安装选项”选上之前下载好的iso。</p><p>完成新建之后不要急着开机，选中刚新建的虚拟机，点击右侧“设置”，选择“安全”，关掉安全启动。</p><p><img src="https://blog.huaj.tk/wp-content/uploads/2021/01/image-1.png"></p><p>现在可以开启虚拟机，双击小画面打开图形界面，按正常步骤安装Ubuntu。</p><p><img src="https://blog.huaj.tk/wp-content/uploads/2021/01/image-6.png"></p><h2 id="共享文件夹"><a href="#共享文件夹" class="headerlink" title="共享文件夹"></a>共享文件夹</h2><p><em>为什么要做这一步：增强会话脚本是放在<a href="https://raw.githubusercontent.com/microsoft/linux-vm-tools/2282027e99c0e56b0ebb215f562b632bd52a8123/xubuntu/20.04/install.sh">githubusercontent</a>上的，但是需要爬墙才能下载，所以要让主机帮忙做这一步。</em></p><p>在主机的“程序与功能”中，打开Windows功能的“SMB 1.0/CIFS 文件共享支持”，如果需要重启就先重启。</p><p><img src="https://blog.huaj.tk/wp-content/uploads/2021/01/image-3.png"></p><p>开始菜单搜索“管理高级共享设置”，在“所有网络”中打开“启用共享以便……”的选项。</p><p><img src="https://blog.huaj.tk/wp-content/uploads/2021/01/image-4.png"></p><p>在主机上新建一个文件夹用于共享。新建之后右键属性，在“共享”选项卡下点击“共享”，弹出来的对话框直接点击右下角“共享”，会显示已经共享，注意记住\\开头的地址——一般是“\\计算机名字\共享文件夹名字”。</p><p>在虚拟机关闭的情况下，点击“设置”，将网络适配器的虚拟交换机选择为“Default Switch”，让虚拟机能够联网。</p><p><img src="https://blog.huaj.tk/wp-content/uploads/2021/01/image-2.png"></p><p>启动虚拟机，安装cifs-utils。新建一个文件夹用于挂载共享。</p><p>将前面提到的“\\计算机名字\共享文件夹名字”中所有的“\”换成“/”，用以下命令在Ubuntu中挂载共享文件夹：</p><p>sudo mount.cifs //计算机名字/主机共享文件夹名字 Ubuntu中的共享文件夹路径 -o user=主机上的用户名字</p><p>会要求输入主机上的用户的密码，输入正确之后就挂载完成了。在主机上的共享文件夹里放文件进去，就可以在虚拟机中看见。但是虚拟机重启之后要重新挂载。</p><h2 id="增强会话"><a href="#增强会话" class="headerlink" title="增强会话"></a>增强会话</h2><p>在主机上下载脚本<a href="https://raw.githubusercontent.com/microsoft/linux-vm-tools/2282027e99c0e56b0ebb215f562b632bd52a8123/xubuntu/20.04/install.sh">https://raw.githubusercontent.com/microsoft/linux-vm-tools/2282027e99c0e56b0ebb215f562b632bd52a8123/xubuntu/20.04/install.sh</a>，放入共享文件夹里。</p><p>在Ubuntu中将脚本复制到用户文件夹下，sudo运行它。脚本会检查软件更新，如果更新完需要重启虚拟机会提示手动重启，重启完虚拟机再运行脚本，就会安装xrdp。等运行完，可能会报错，但是不管。</p><p>完成以上步骤后，关闭虚拟机。打开PowerShell（管理员），输入以下命令：</p><p>Set-VM -VMName 虚拟机名字  -EnhancedSessionTransportType HvSocket</p><p>其中虚拟机名字是Hyper-V管理器中显示的名称，比如：</p><p><img src="https://blog.huaj.tk/wp-content/uploads/2021/01/image-5.png"></p><p>完成之后就可以启动虚拟机了，打开界面就会用增强会话模式启动了。增强会话可以共享剪贴板，直接粘贴文字等等，基本感觉不到延迟。</p><p>虽然知乎上很多说Hyper-V垃圾的，但是实际用起来图形界面性能足够（完全感觉不到卡顿或者粘滞），CPU性能更是吊打VirtualBox，用来写代码是很OK的，占用资源和对主机的性能影响也根本没有传说中的那么差（就是完全感觉不到）。对于AMD Ryzen的支持也没有问题（我的是Ryzen 3100）。</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
            <tag> hyperv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为什么要用std::less</title>
      <link href="/posts/9ea7f2b6/"/>
      <url>/posts/9ea7f2b6/</url>
      
        <content type="html"><![CDATA[<p>两个原因，一是你不能把操作符传给函数，所以要用函数对象，而std::less简化了这个步骤（但是要比较的对象还是要实现operator&lt;的）；二是如果比较的是指针，operator&lt;不能保证预期结果，但是std::less是标准化了一定会strick-weak ordering的。</p><p>关于第一点，可以参考这个网页：<a href="https://www.fluentcpp.com/2019/10/29/stdless-and-its-modern-evolution/">https://www.fluentcpp.com/2019/10/29/stdless-and-its-modern-evolution/</a></p>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
            <tag> std::less </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>良心应用推荐</title>
      <link href="/posts/c01b2e2c/"/>
      <url>/posts/c01b2e2c/</url>
      
        <content type="html"><![CDATA[<h2 id="右键菜单管理"><a href="#右键菜单管理" class="headerlink" title="右键菜单管理"></a>右键菜单管理</h2><p>BluePointLilac的**<a href="https://github.com/BluePointLilac/ContextMenuManager">ContextMenuManager</a>**</p><h2 id="链接大师"><a href="#链接大师" class="headerlink" title="链接大师"></a>链接大师</h2><p>有时候需要对文件做软链接、硬链接等等，如果用命令行就不符合Windows的风格，所以有大佬开发了<a href="https://schinagl.priv.at/nt/hardlinkshellext/linkshellextension.html">Link Shell Extension</a>把这种功能集成到右键菜单里了。很牛逼！</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>std::move的真正含义</title>
      <link href="/posts/2a0623d2/"/>
      <url>/posts/2a0623d2/</url>
      
        <content type="html"><![CDATA[<p>std::move虽然名字是move，但是做的只是static_cast&lt;T&amp;&amp;&gt;，即将左值变成右值。真正做出移动操作的是移动构造器和移动赋值操作符。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> std::move </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt使用的记录</title>
      <link href="/posts/b3a7d44b/"/>
      <url>/posts/b3a7d44b/</url>
      
        <content type="html"><![CDATA[<p>在Visual Studio中用Qt的东西非常多坑。</p><p>1. 把项目放到Git上再clone回来，直接build就会报错。Qt的VS Tool像个弱智一样不会重新补回需要的信息。首先用Qt要在项目配置中加include和附加库目录。第二是需要把文件中的#include改成完整路径，比如<QString>要改成&lt;QtCore/QString&gt;。这样就不会出现Git的问题了。</p><p>2. 非成员函数也要通过“添加-Add Qt Class”来添加一对.h和.cpp，然后再把class代码删掉，再写非成员函数。不然自己新建.h和.cpp就会在build的时候报错，找不到Qt的文件。（这么弱智的东西是谁搞出来的）</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> visual studio </tag>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows的shell环境变量设置方法</title>
      <link href="/posts/1749ab75/"/>
      <url>/posts/1749ab75/</url>
      
        <content type="html"><![CDATA[<p>在linux上，对当前shell设置环境变量是用export。windows对应的是<strong>set</strong>或者<strong>setlocal</strong>。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> shell </tag>
            
            <tag> 环境变量 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>美国动乱</title>
      <link href="/posts/e38aff23/"/>
      <url>/posts/e38aff23/</url>
      
        <content type="html"><![CDATA[<p>特朗普任期即将结束，他搞的事情却是一件比一件离谱。对中国疯狂重拳出击，我们已经见怪不怪了。在美国国内居然还搞到支持者冲击国会、中断大选结果认证，还被警察打死了4个支持者。虽然不如香港那么规模庞大的暴动，但是在“民主灯塔”发生这样的事情，放在十年前是根本不敢想象的。一个王朝也不过两百多年，美国是否已经开始走下坡路了呢——美式民主的内耗，可以通过大选经费年年增长来看见，也可以通过这次两大候选人之间超越党本身、发展到全国各地民间的对抗来看见——真是期待未来的走向。</p><p>和支持者暴动一起的，是反华的在美华人因为感染新冠病毒接连去世，实在是大快人心。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
            <tag> 杂谈 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wordpress提示MP4上传失败的解决方法</title>
      <link href="/posts/34319f9a/"/>
      <url>/posts/34319f9a/</url>
      
        <content type="html"><![CDATA[<p>wordpress本来应该允许mp4上传的，但是无论如何都说不是安全的文件类型。后来看到<a href="https://www.minglang.org/3241">一篇博客</a>，了解了可能是php的模块fileinfo的问题，就想着怎么禁用fileinfo。</p><p>由于使用的ubuntu，提供了phpdismod命令，所以直接phpdismod fileinfo然后重启apache2就可以了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> fileinfo </tag>
            
            <tag> mp4上传 </tag>
            
            <tag> php-fileinfo </tag>
            
            <tag> 不是安全的文件类型 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>珠海长隆一日游</title>
      <link href="/posts/5b5f2340/"/>
      <url>/posts/5b5f2340/</url>
      
        <content type="html"><![CDATA[<p>珠海的长隆主题是海洋王国，主要展馆是鲸鲨馆、海豚馆、北极熊馆、企鹅馆等，还有其他比如海象、海豹之类的景点。早上十一点多我们进场，一直玩到晚上七点最后一个节目“海洋保卫战”结束才离开。</p><p>进公园首先就是有音乐喷泉的一个湖。我们没有看地图，所以直接走到了距离入口最远的鲸鲨馆前面，这个时候音乐喷泉开始了表演。不得不说风有点大，喷泉射得有点高，水滴溅了一脸。但是有人造彩虹，幸福感突然提高：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01589-1-1024x682.jpg"></p><p>湖旁边有些奇怪的香港风格的模型，小黎要求拍一张：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01592-1024x682.jpg"></p><p>鲸鲨馆和其他馆都比较像博物馆，有个窗口来看鱼，然后旁边有个牌子介绍是什么鱼、有什么习性。比如下面的花园鳗：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01602-1024x682.jpg"></p><p>因为灯光太暗，很难拍清。还有珊瑚和小丑鱼：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01607-1024x682.jpg"></p><p>接下来是各种鲼，有几只特别喜欢贴着玻璃露出肚皮：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01615-1024x682.jpg"></p><p>海洋馆肯定少不了水母，水母箱为了营造梦幻的氛围，专门装了彩色灯，透明的水母在不同颜色的灯的照映下非常梦幻：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01619-1024x682.jpg"></p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01622-1024x682.jpg"></p><p>接下来就是最壮观的大水族箱了，鲸鲨和其他大型鱼都在这里；我们到的时候刚好有解说员在介绍各种鱼类，让游客也能学到一点知识而不只是“哇哇哇”。鲸鲨真的很震撼，其他的鱼比如锤头鲨之类的都被抢尽风头：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01625-682x1024.jpg"></p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01627-1024x682.jpg"></p><p>在鲸鲨馆出口，有工作人员介绍说接下来有白鲸表演。但是我们没有找到位置，误入白鲸馆了解了白鲸的信息，而且看见白鲸们总是跑过来玻璃这边观看“两脚兽”，非常友善。其实我不怎么喜欢看鲸鱼和海豚的表演，它们的智商跟人类青少年差不多，也很有灵性，感觉强迫它们表演是很不人道的行为。但是小黎要看，那就只能去了。最后我们终于找到了白鲸剧场，观看了演出。</p><p>出来之后沿着路走，就去到了北极熊馆。莫名其妙的在北极熊区外边有棕熊区，放了几只棕熊，憨憨熊：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01640-1024x682.jpg"></p><p>北极熊区让人很是难过。北极熊是独居动物，正常情况下一年见不到几只同类，所以为了避免它们打架，园区将两只北极熊分开在两个房间里。一只在玻璃面前走来走去，一直看着外边；另一只放弃人生，泡在水里目光呆滞。</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01642-1024x682.jpg"></p><p>除了北极熊还有北极狼，一公一母在房间里；北极狐们都盘成一团在睡觉。北极熊馆对面是企鹅馆，一进去就扑鼻而来的、穿透玻璃传来的鸟屎的味道——“臭臭馆”——实在是令人震撼。企鹅数量和种类都很多，常见的帝企鹅当然是有的，不过大多都在睡觉。还有一些活跃的小企鹅在水里穿来穿去，很是灵活。而且我们第一次见识到企鹅上岸的灵活，从水里飞出来刚刚好的高度站到岸上，稳稳当当。下面是一只在睡觉的企鹅，屁股特别圆：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01644-1024x682.jpg"></p><p>以及挠挠头：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01648-1024x682.jpg"></p><p>逛完这边回去公园中心的湖会穿过一个叫做英雄岛的区域，其实是小孩子向的商店，也有吃饭的地方。</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01651-1024x682.jpg"></p><p>在旋转木马旁边被抓住拍了个照：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01652-682x1024.jpg"></p><p>休息的时候遇到了一场水上飞人表演，是晚上的节目的预热活动，据说是法国团队：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/DSC01660-1024x682.jpg"></p><p>之后去看了海象馆和海豚馆。海象馆里面有一个玻璃穹顶水下走廊，刚好阳光透过水面，折射出彩虹一样的波纹，非常梦幻：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/IMG_20201221_163307-766x1024.jpg"></p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/IMG_20201221_163408-766x1024.jpg"></p><p>以及非常多鱼：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/12/IMG_20201221_163931-1024x766.jpg"></p><p>海象馆是模拟热带雨林的水环境来建造的，所以图片里有这些枯树。也不知道能吃到些什么，总有鱼在啄泥。也有一个池子专门养娃娃鱼，不过它们就跟企鹅一样在睡觉。</p><p>不知不觉就天黑了，虽然有很多人已经回家了，但是也有足够绕湖两圈的人在等晚上的节目。节目主要是烟花表演，水上飞人队是配合表演。一进园就能看见的鲸鲨馆上的大鲸鲨像，是用来投影的，鲸鲨头顶还有射灯来做灯光秀。整个表演是实打实的，不是小打小闹，砰砰声让心脏都被震到的大烟花、几十上百台无人机组成的空中图案，以及射灯和烟花爆炸后的烟雾配合起来形成的光环图案，都体现出这300块一张的门票的价值所在。</p><p>整个游园经历，印象比较深的是长隆将保护环境、保护海洋的理念融合在各种表演之中，无论是海狮表演之前的“水獭教你垃圾分类”，还是压轴表演所讲述的“海洋保卫战”，都有寓教于乐的味道在，将枯燥的说教变成好玩的项目，让来这里的大人和小孩都学到环保知识。确实是很好的一种形式。而且长隆自己也是承担起繁育海牛、白鲸的任务，功绩也很多，甚至拍成了纪录片放在对应的场馆里展示。让人很有好感的一个公园。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Powershell不可以用来mysqldump</title>
      <link href="/posts/749eb3dd/"/>
      <url>/posts/749eb3dd/</url>
      
        <content type="html"><![CDATA[<p>powershell以为自己很牛逼，mysqldump出来的sql是utf16，然后之后恢复的时候导入就会爆炸。千万不要相信微软搞的新东西。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> powershell </tag>
            
            <tag> 垃圾 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>服务器又搬家</title>
      <link href="/posts/cfe4ab51/"/>
      <url>/posts/cfe4ab51/</url>
      
        <content type="html"><![CDATA[<p>Nginx个毛，换成Apache了。</p><p>主要原因是CentOS属实老古董，仓库里的Nginx都不知道是什么年代的。自己编译的Nginx想要添加模块难上天。反正就是各种不方便。所以就换成Ubuntu 20.04了。中间还去Vultr开了个“钟点机”，拿来临时放备份。</p><p>迁移里面最大的坑就是MySQL了，Ubuntu安装的8.0跟5.7导出的备份不兼容，连密码都改不了。只能各种骚操作降级回5.7.32。降级之后倒是好了，配置完Apache之后所有网站都无痛启动了。</p><p>装官方仓库的Apache就是好，什么a2enmod、a2ensite、apache2ctl用起来真顺手，想要添加组件直接apt就完事。哪还需要手动ln -s啊。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 服务器 </tag>
            
            <tag> apache </tag>
            
            <tag> 网站 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mediawiki的VisualEditor、Parsoid与Nginx的故事</title>
      <link href="/posts/ce1bdff1/"/>
      <url>/posts/ce1bdff1/</url>
      
        <content type="html"><![CDATA[<p>这mediawiki虽然是维基百科背后的技术基础，但是自己的document实在是写得太坑爹。它默认大家都是用Apache建站，所以对于Nginx需要做什么配置就会混在一堆杂乱的信息里，要自己摸。</p><blockquote><p>上来就是一个wget、一个tar、一个nginx reload，我全放出去、全放出去了啊……然后我:wq退出vim，F5放在它首页上没按下去，按传统网站的点到为止它已经装完了。就在这时间，它一个Parsoid/RESTBase server (HTTP 404)，我大意了，没有闪。我说停停，怎么回事。</p><p>马保国语录</p></blockquote><p>Google自然是要安排上的，但是搜出来的东西都是在吐槽，也没个解决方案。我寻思，既然内置的Parsoid爆炸了，那就试试自己装一个Parsoid看看怎么样。因为最后发现问题不是在Parsoid上，所以就不细讲了。装好了之后自然就是要让Visual Editor连接这个自己装的Parsoid了。</p><p>然后再看看<a href="https://www.mediawiki.org/wiki/Extension:VisualEditor#Installation">Visual Editor的维基</a>，有一句：</p><blockquote><p><strong>If you set <code>$wgVirtualRestConfig[&#39;modules&#39;][&#39;parsoid&#39;]</code> then you will also need to manually install Parsoid</strong>, either on a separate server or via <a href="https://www.mediawiki.org/wiki/Parsoid#Linking_a_developer_checkout_of_Parsoid">the developer instructions on the Parsoid page</a>.</p></blockquote><p>点开这个链接，跟着配置了一堆，结果看见这句话的时候我整个人都懵逼了：</p><blockquote><p>If you’re serving MediaWiki with Nginx, you’ll need to also add something like this to your server conf:</p></blockquote><p>location /rest.php/ {<br>    try_files $uri $uri/ /rest.php?$query_string;<br>}</p><p>加到Nginx的conf里面再reload，突然就可以了，把自己装的Parsoid和相应的配置全都恢复原状，依然可以。</p><p>靠了，只需要加这个就完事了，mediawiki的安装文档又不好好写这个……真是恶心人。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 坑爹 </tag>
            
            <tag> mediawiki </tag>
            
            <tag> nginx </tag>
            
            <tag> parsoid </tag>
            
            <tag> visualeditor </tag>
            
            <tag> 垃圾文档引发的血案 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于路由器共享的一些事</title>
      <link href="/posts/24b5e9ea/"/>
      <url>/posts/24b5e9ea/</url>
      
        <content type="html"><![CDATA[<p>近几天因为要大量打印文件，所以父亲建议我把文件提交到路由器上的硬盘。但是路由器由于固件版本，认证用的是smb1；而现在linux的smbclient默认的是smb2以上，windows也默认关闭对smb1的支持，所以需要重新打开。</p><p>linux的配置是在/etc/smb.conf添加一行option，详细可以查google。</p><p>windows则是在控制面板-程序-windows功能里面，打开“对SMB1的支持”。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> smb </tag>
            
            <tag> smbclient </tag>
            
            <tag> smb协议版本 </tag>
            
            <tag> 共享文件 </tag>
            
            <tag> 路由器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntu上安装python re2</title>
      <link href="/posts/533e95ac/"/>
      <url>/posts/533e95ac/</url>
      
        <content type="html"><![CDATA[<p>直接用pip安装总是报错，看了<a href="https://stackoverflow.com/questions/46792200/using-re2-in-python3">stackoverflow</a>才知道原来是re2发布到pip的库的版本是不兼容python3的，要用git源才行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install git+https://github.com/andreasvc/pyre2.git</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pip </tag>
            
            <tag> python3 </tag>
            
            <tag> re </tag>
            
            <tag> re2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windirstat——windows下的文件空间占用浏览器</title>
      <link href="/posts/89cfa7cb/"/>
      <url>/posts/89cfa7cb/</url>
      
        <content type="html"><![CDATA[<p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/11/image-1024x549.png"></p><p>能够根据文件大小在下方画图显示，会根据选中的文件夹高亮显示属于图里的哪个部分；移到图上也会显示是哪个文件。很直观。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日胡思乱想</title>
      <link href="/posts/b3b062a0/"/>
      <url>/posts/b3b062a0/</url>
      
        <content type="html"><![CDATA[<p>今天早上起来，简单吃了点蛋糕之后，把旧电脑装上了ubuntu2004.早上比较大风，屋内有点冷，不得已穿上了长裤。差不多十一点半，妹子说要出门了，虽然还没来得及吃午饭，但是也只能出门。</p><p>又是麦当劳，昨天才说不要吃垃圾食品了，还骂了我一顿，今天就真香了。</p><p>坐地铁一个多小时才去到她面试的地方。在她面试的时候去附近转了转，到至胜茶餐吃了一碗通心粉。令人沉思的是明明中午吃了东西，下午三点多就饿了，能吃下一整碗通心粉。等妹子出来，去买了她之前说要吃的hallo kity蛋糕，这个时候收到了佛山工行的面试邀请短信，看了一下要带的资料，心里开始焦急。就业推荐表这种东西，刚刚交给学校，哪有那么快能够弄到——现在想一下，感觉也没什么好担心的，既然缺资料，那就当自己已经失败了，那即使是群面这样的死亡现场，也不会更糟糕了。所以为什么会有群面这种东西，真是令人烦躁。</p><p>明天有两个面试，珠海工行和泰隆银行的。如果不是群面，那还是不错的。群面真的太吓人了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 吐槽 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>不root治理小米浏览器毒瘤</title>
      <link href="/posts/7fb6d4b0/"/>
      <url>/posts/7fb6d4b0/</url>
      
        <content type="html"><![CDATA[<p>新买了个红米10X Pro，是MIUI12，今天在短信里面打开链接的时候，系统用小米浏览器打开，但是我想改用Chrome。然而设置app里面没有修改默认浏览器的功能（不禁让人沉思，这个功能是什么时候被取消掉的呢），所以只能走歪门邪道了。</p><p>根据v2ex老哥的说法，用adb来禁用app是不需要root的：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm disable-user com.android.browser</span><br></pre></td></tr></table></figure><p>这个就是把小米自带的浏览器禁用掉的adb命令。同理，只要知道某个app的名字是什么（全名，不是显示在屏幕上的名字），就可以把它禁用掉了——虽说都可以禁，但是最好别把应用商店和手机管家禁了，不然就卡开机了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 禁用app </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>新闻联播2020年10月26日</title>
      <link href="/posts/d02e96f2/"/>
      <url>/posts/d02e96f2/</url>
      
        <content type="html"><![CDATA[<h2 id="抗美援朝出国作战70周年"><a href="#抗美援朝出国作战70周年" class="headerlink" title="抗美援朝出国作战70周年"></a>抗美援朝出国作战70周年</h2><p>（10月23号，大会）《重要讲话》出版。</p><p>“华龙一号”。</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/10/image-1-1024x59.png"></p><p>供给体系对国内需求的适应性，供需体系转变。“电厂合一”，直播。工厂直接到消费者，快速回笼资金。消费者和工厂直接对接。“零库存”。工业互联网。</p><p>高质量、多元化……</p><p>行业数字化升级，工业互联网。</p><h2 id="十三五成就巡礼"><a href="#十三五成就巡礼" class="headerlink" title="十三五成就巡礼"></a>十三五成就巡礼</h2><p>区域发展战略引领中国经济高质量发展。</p><p>长三角一体化战略。新增长极多点开花。2019粤港澳、长江三角区一体化。</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/10/image-2.png"></p><p>要素的便捷流动。东莞……接纳深圳外溢企业。区域间优势互补。</p><p>京津冀区域发展。效率、质量和动力变革，双循环相互促进。</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/10/image-3.png"></p><p>新发展大局，新发展理念，新发展格局。第二个百年奋斗目标。</p><h2 id="扶贫"><a href="#扶贫" class="headerlink" title="扶贫"></a>扶贫</h2><p>西藏农牧民，种（牧）草，增收致富。（艾玛乡）</p><p>农牧民专业合作社。</p><h2 id="秋收"><a href="#秋收" class="headerlink" title="秋收"></a>秋收</h2><p>北方抢收，南方收割尾声。</p><p>改造的高标准农田建设，保证粮食供应。</p><p>丰收已成定局。</p><h2 id="滴滴"><a href="#滴滴" class="headerlink" title="滴滴"></a>滴滴</h2><p>就业蓄水池。2012年成立。年运送100亿人次。</p><p>就业是最大的民生。上下游就业1360万。多元化发展，出租车……单车、加油充电。智慧交通自动驾驶领域，加大投入。</p><h2 id="湛江"><a href="#湛江" class="headerlink" title="湛江"></a>湛江</h2><p>徐闻港开通，和海南连接。湛江交通改革。</p><h2 id="拉合尔橙线开通"><a href="#拉合尔橙线开通" class="headerlink" title="拉合尔橙线开通"></a>拉合尔橙线开通</h2><p>中巴经济走廊，27公里，26座站点。</p><p>70个项目，6332中国员工。</p><h2 id="疫情"><a href="#疫情" class="headerlink" title="疫情"></a>疫情</h2><p>新增20例（全部境外输入），265例现有。</p><h2 id="快讯"><a href="#快讯" class="headerlink" title="快讯"></a>快讯</h2><p>38项举措支持民营企业发展。</p><p>首都机场向大兴机场转场基本完成。大兴850个日均，首都1054架次。</p><p>第二节中医药互联网产业大会闭幕。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>今日新闻联播</title>
      <link href="/posts/904fbae7/"/>
      <url>/posts/904fbae7/</url>
      
        <content type="html"><![CDATA[<p>规模性纾困政策和直达机制。</p><p>常态化财政资金直达机制。</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/10/%E5%9B%BE%E7%89%87-1024x182.png"></p><p>保基层运转。</p><p>告知承诺制。信用修复前不适用告知承诺制</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/10/%E5%9B%BE%E7%89%87-1-1024x245.png"></p><p>放管服改革，市场在资源配置中起决定作用。</p><h2 id="优先发展教育"><a href="#优先发展教育" class="headerlink" title="优先发展教育"></a>优先发展教育</h2><p>城乡统一标准教学。</p><p>贫困家庭辍学学生——初中阶段技能培训。</p><p>2019年5万亿投入。</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/10/%E5%9B%BE%E7%89%87-2.png"></p><p>辍学学生60万降到2400多。</p><p>94.8是发达国家的水平。</p><p>职业教育，混合所有制院校试点。（企业主导的人才培养方案）</p><p>高等教育：毛入学率50多。</p><p>7月，海燕10619米深潜纪录（国外6000米）。</p><p>长周期评价机制。</p><h2 id="抗美援朝70周年"><a href="#抗美援朝70周年" class="headerlink" title="抗美援朝70周年"></a>抗美援朝70周年</h2><p>精武精神。</p><p>不怕苦，不怕死，勇往直前，敢于牺牲。</p><p>邱少云。</p><h2 id="财政收支"><a href="#财政收支" class="headerlink" title="财政收支"></a>财政收支</h2><p>1~9，一般公共预算好转（依然是累计同比下降），6月以来连续四个月正增长。</p><h2 id="快讯"><a href="#快讯" class="headerlink" title="快讯"></a>快讯</h2><p>东北地区国资国企改革开会</p><p>49个新冠病毒检测试剂</p><p>秋冬季交通安全整治百日行动</p><p>400公里可变轨动车（适应不同国家的轨道）吉林下线</p><p>义务小商品博览会（直播元素第一次）今天开始</p><p>贝多芬诞辰250周年</p><p>世卫组织，4025万1950例新冠，美欧地区尤为严重。美国82274797例，死22万。白宫在一周前就已经知道全国疫情激增，但是隐瞒。</p><p>土耳其和希腊关系紧张，希腊要求欧盟终止土耳其的关税联盟。</p><p>俄罗斯在北极地区试验岸基反舰导弹系统。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 新闻联播 </tag>
            
            <tag> 要闻 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>onenote突然没办法粘贴图片</title>
      <link href="/posts/d94cc29e/"/>
      <url>/posts/d94cc29e/</url>
      
        <content type="html"><![CDATA[<p>之前一直有这个问题，不过昨天确实导致了很大的不便，所以上网查到底是为啥。得出结论是之前曾经在粘贴文字的时候顺手将默认粘贴方式设置成了只保留文本，导致图片粘贴出来就一个空格。</p><p>解决办法就是复制一个文字（不能是图片，不然贴不出来），原地粘贴，然后选择保留源格式而且设置成默认粘贴，就修好了。</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/10/image.png"></p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
            <tag> onenote </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>绕过outlook垃圾分类误判的方法</title>
      <link href="/posts/ce1ef601/"/>
      <url>/posts/ce1ef601/</url>
      
        <content type="html"><![CDATA[<p>总体参考：<a href="https://www.v2ex.com/t/684677?__cf_chl_jschl_tk__=b7ce7de211dea23f01241c299fa9e6a5904335b2-1600940120-0-ARFCXprFLw52K9o0y8IjKuy8JrJzU5pokx0Y0gwtg4UlWO1iyfD_5qcyMdEri8RovtO7aQwiF6dOlR1yWrao2en0z3Ajnnqu1AZqhvsECZufs5P95jhfJ7R-4lBKEPsTr5hD8zQvel-ckQRlG9RkEK7mFAwuo2ruJMQObN0--wc02_2r9cc08176nWx1ncRo-Hq3p4SPpJg-XtruvrwpuaU6TkM7excNk-_G1QwE4V2qrvROZqRo3vMn0T5vgJmtlzz2VMfg8enIHA5TzvWYA1AGqHHlhxTeGyV_Zwh3LqXRHKMQD6s0rRzGGr0CaD4-AXdBlncdMOUe24t4kdD0KyA">v2ex</a>。</p><p>首先去<a href="https://asia.flow.microsoft.com/zh-cn/">Microsoft Power Automate</a>，在左侧点击“我的流”：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/09/%E5%9B%BE%E7%89%87-edited.png"></p><p>然后“新建”-“自动”：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/09/%E5%9B%BE%E7%89%87-1.png"></p><p>新出来的界面，触发器搜索“如果有新电子邮件到达”，注意因为是穷鬼，所以没有365，选择outlook.com的项：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/09/%E5%9B%BE%E7%89%87-2-1024x655.png"></p><p>创建之后，文件夹改成“垃圾邮件”。然后点击“新步骤”，搜索“移动电子邮件”，选择不是365的那个：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/09/%E5%9B%BE%E7%89%87-4-1024x661.png"></p><p>消息ID就选“消息ID”，文件夹选“收件箱”：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/09/%E5%9B%BE%E7%89%87-5.png"></p><p>如果有必要还可以添加一个发送到其他邮箱的并行步骤：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/09/%E5%9B%BE%E7%89%87-6.png"></p><p>搜索“发送电子邮件通知V3”，对照着写成这样：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/09/%E5%9B%BE%E7%89%87-7.png"></p><p>附件之类的不会转发，所以还是要看看outlook的收件箱的。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> outlook </tag>
            
            <tag> 垃圾邮件检测是垃圾 </tag>
            
            <tag> 歪门邪道 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>瞎bb</title>
      <link href="/posts/1e95459e/"/>
      <url>/posts/1e95459e/</url>
      
        <content type="html"><![CDATA[<p>今天中财摄影终于开门，老板兼摄影师态度还不错，拍出来效果也挺好。终于解决了心头一事，投简历的时候会比较pro一点了。</p><p>今天中午的饭菜不合胃口，只要了一两饭和两个半份肉菜，快吃完的时候突然反胃，差点吐出来。不得不怀念南海农商行的饭堂，真的是天堂。</p><p>晚上叫外卖，吃炸鸡，肉质一般般，三个人吃不饱，所以只能泡面。虽然泡面保质期居然已经过了，但是吃起来还没什么事。最后一包了，该补货了。这个学期都不可能跟学校里的超市打交道的，假货太多，服务员又司马脸。</p><p>申请出校到现在还没人理，监狱程度日渐升级。这几天日益对学校失望，觉得当年果然应该选个985，而不是这个只剩下名声响的垃圾211.可惜人生不能重来。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 碎碎念 </tag>
            
            <tag> 吐槽 </tag>
            
            <tag> 日记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Access denied for user &#39;root&#39;@&#39;localhost&#39; error的解决办法</title>
      <link href="/posts/8451c90f/"/>
      <url>/posts/8451c90f/</url>
      
        <content type="html"><![CDATA[<p>参考askubuntu的<a href="https://askubuntu.com/questions/766334/cant-login-as-mysql-user-root-from-normal-user-account-in-ubuntu-16-04?noredirect=1&lq=1">这个帖子</a>，但是不仅要改localhost的密码，还要改127.0.0.1的密码才能让phpMyAdmin之类的能够打开。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> access denied </tag>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日份插件排除</title>
      <link href="/posts/9b30f5f0/"/>
      <url>/posts/9b30f5f0/</url>
      
        <content type="html"><![CDATA[<p>本来写文章就是想图个轻松愉快，打开编辑器速度要够快，结果某天wordpress插件更新之后，打开文章编辑器的时间都足够拉泡屎了。属实不行，打开Chrome的F12看看，发现一个从fast.wistia.com加载的E开头的js一直卡住，导致编辑界面一直白屏。</p><p>2020年了，还有block住渲染的js，我真的服啦！</p><p>但是只发现了犯罪分子，没有找到幕后主使，解决不了问题。后来的一段时间主要还是靠防火墙把wistia给屏蔽了，凑合着用。</p><p>今天认真看看到底是哪个扑街搞的这么多屁事，参考了一下wp support上<a href="https://wordpress.org/support/topic/wp-asset-clean-up-is-loading-3rd-party-javascript-fast-wistia-com-e-v1-js/">一个老哥的问题</a>，安装了<strong>Query Monitor</strong>插件，然后把wistia从黑名单里放出来，等加载完之后打开monitor一看，发现居然是<strong>smush</strong>这个插件产生的请求。狗日的，一万年不用一次的图片大小优化插件，在这里给我作妖？二话不说直接关掉插件。</p><p>世界清静了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wordpress </tag>
            
            <tag> wistia </tag>
            
            <tag> 爬 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一个好用的nginx配置生成网站</title>
      <link href="/posts/f5c48be0/"/>
      <url>/posts/f5c48be0/</url>
      
        <content type="html"><![CDATA[<p>属于DigitalOcean的<a href="http://nginxconfig.io/">nginxconfig.io</a>，非常多配置项，可以生成（基本可以照抄的）配置。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>将LAMP的MySQL改成官网Binary版|Centos 7（新坑）</title>
      <link href="/posts/eb32c1ed/"/>
      <url>/posts/eb32c1ed/</url>
      
        <content type="html"><![CDATA[<p>起因是想装<a href="http://gogs.io/">gogs</a>，但是一直报错，<a href="https://github.com/gogs/gogs/issues/4894#issuecomment-348861978">查github</a>发现MySQL版本要至少5.7.7。用<a href="http://lnmp.org/">lnmp一键包</a>升级脚本无法成功升级，而且从source编译实在太费劲，所以选择用官方Binary来装。</p><h2 id="备份数据库"><a href="#备份数据库" class="headerlink" title="备份数据库"></a>备份数据库</h2><p>假设是有数据库root权限，那么用mysqldump来备份：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -p --all-databases &gt; database-bak.sql</span><br></pre></td></tr></table></figure><p>将备份文件通过SFTP或者移到一个安全的地方，以供稍后恢复使用。</p><h2 id="添加MySQL二进制源"><a href="#添加MySQL二进制源" class="headerlink" title="添加MySQL二进制源"></a>添加MySQL二进制源</h2><p>首先将原来的/etc/my.cnf改名为my.cnf.bak，因为更新之后直接用这个配置文件会无法启动mysqld。</p><p>根据MySQL的<a href="https://dev.mysql.com/doc/mysql-installation-excerpt/5.7/en/linux-installation-yum-repo.html">官方文档</a>，有以下步骤：</p><h3 id="添加二进制源"><a href="#添加二进制源" class="headerlink" title="添加二进制源"></a>添加二进制源</h3><p>首先要在<a href="https://dev.mysql.com/downloads/repo/yum/%E4%B8%8B%E8%BD%BDrpm%E6%A0%BC%E5%BC%8F%E7%9A%84%E6%BA%90%EF%BC%8C%E6%AF%94%E5%A6%82CentOS">https://dev.mysql.com/downloads/repo/yum/下载rpm格式的源，比如CentOS</a> 7就是RHEL 7的社区版，所以下载这个：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/08/%E5%9B%BE%E7%89%87-5.png"></p><p>放到服务器上之后，用这个命令安装：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum localinstall mysql80-community-release-el7-3.noarch.rpm</span><br></pre></td></tr></table></figure><h3 id="启用需要的版本"><a href="#启用需要的版本" class="headerlink" title="启用需要的版本"></a>启用需要的版本</h3><p>首先看有哪些选项可以开/关：</p><p>yum repolist all  grep mysql</p><p>大概会有这样的列表：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/08/%E5%9B%BE%E7%89%87-6.png"></p><p>一般是默认启用了mysql80-community，为了安全我要装mysql57-community，用下面的命令开关就好了：</p><p>yum-config-manager –disable mysql80-community<br>yum-config-manager –enable mysql57-community</p><p>这些命令运行的时候会输出一堆东西，忽略就行。完成之后检查一下：</p><p>yum repolist enabled  grep mysql</p><p>确认无误就可以开始下一步了。</p><h2 id="安装MySQL"><a href="#安装MySQL" class="headerlink" title="安装MySQL"></a>安装MySQL</h2><p>要把lnmp装的init.d脚本删掉，在/etc/init.d/mysql。</p><p>安装MySQL：</p><p>yum install mysql-community-server</p><p>会自动判断依赖而且装上，无脑y就是了。装完先别启动服务，编辑/etc/my.cnf，在[mysqld]添加一行skip-grant-tables，再加一行default_password_lifetime = 0，然后启动服务并检查是不是成功启动：</p><p>service mysqld start<br>service mysqld status</p><p>然后直接mysql进入mysql的命令行，改密码：</p><p>ALTER USER `root`@`localhost` IDENTIFIED BY ‘new_password’, `root`@`localhost` PASSWORD EXPIRE NEVER;</p><p>比起官方文档里多出来的这PASSWORD EXPIRE NEVER是为了避免莫名其妙的密码过期导致服务器爆炸，参见：<a href="https://stackoverflow.com/a/44475051%E3%80%82">https://stackoverflow.com/a/44475051。</a></p><p>如果提示因为开了skip-grant-tables没办法ALTER，那就改用这个命令：</p><p>update mysql.user set authentication_string=password(‘xxx’) where user=’root’ ;</p><p>update这个命令是可选的，ALTER命令是必须要执行的。如果首先尝试alter但是报错，那就执行update命令，然后改my.cnf注释掉skip-grant-tables，重启mysqld服务，再执行alter。</p><h2 id="恢复数据库"><a href="#恢复数据库" class="headerlink" title="恢复数据库"></a>恢复数据库</h2><p>修改my.cnf重新打开domain socket，为了适应lnmp默认的配置，my.cnf里需要有下面几行：</p><p>[client]<br>port            = 3306<br>socket          = /tmp/mysql.sock<br>[mysqld]<br>port            = 3306<br>socket          = /tmp/mysql.sock</p><p>用phpmyadmin导入备份文件，还要执行mysql_upgrade -u root -p来完成数据升级。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> CentOS 7 </tag>
            
            <tag> 建站 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>文章部分内容加密</title>
      <link href="/posts/2423f4e9/"/>
      <url>/posts/2423f4e9/</url>
      
        <content type="html"><![CDATA[<p>默认的公开程度是影响整篇文章的，从<a href="https://zhaoshuquan.com/2019/09/13/wordpress-%E5%86%85%E5%AE%B9%E9%83%A8%E5%88%86%E5%8A%A0%E5%AF%86/">JKooll</a>那里抄了个方法来加密段落。</p><p>首先在<strong>主题</strong>的functions.php里面加上一个function：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Usage: \[secret key=&quot;密码&quot;\]加密内容\[/secret\]</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">e</span>\<span class="title">_secret</span>(<span class="params"><span class="variable">$atts</span>, <span class="variable">$content</span>=<span class="literal">null</span></span>) </span>&#123;</span><br><span class="line">extract(shortcode\_atts(<span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="literal">null</span>, <span class="string">&#x27;tip&#x27;</span> =&gt; <span class="literal">null</span>), <span class="variable">$atts</span>));</span><br><span class="line"><span class="keyword">if</span> (</span><br><span class="line"><span class="keyword">isset</span>($\_SESSION\[hash(<span class="string">&#x27;md5&#x27;</span>, <span class="variable">$key</span>)\]) </span><br><span class="line">(<span class="keyword">isset</span>($\_POST\[<span class="string">&#x27;e\_secret\_key&#x27;</span>\]) &amp;&amp; $\_POST\[<span class="string">&#x27;e\_secret\_key&#x27;</span>\] == <span class="variable">$key</span>)</span><br><span class="line">) &#123;</span><br><span class="line">$\_SESSION\[hash(<span class="string">&#x27;md5&#x27;</span>, <span class="variable">$key</span>)\] = <span class="variable">$key</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&#x27;&lt;div class=&quot;e-secret&quot;&gt;&#x27;</span> . <span class="variable">$content</span> . <span class="string">&#x27;&lt;/div&gt;&#x27;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($\_POST\[<span class="string">&#x27;e\_secret\_key&#x27;</span>\])) &#123;</span><br><span class="line"><span class="variable">$tip</span> = <span class="string">&#x27;&lt;p class=&quot;secret\_tip&quot;&gt;密码输入错误！&lt;/p&gt;&#x27;</span> . <span class="variable">$tip</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&#x27;&lt;form class=&quot;e-secret&quot; action=&quot;&#x27;</span>.get\_permalink().<span class="string">&#x27;&quot; method=&quot;post&quot; name=&quot;e-secret&quot;&gt;&lt;label&gt;输入密码查看加密内容：&lt;/label&gt;&lt;input type=&quot;password&quot; name=&quot;e\_secret\_key&quot; class=&quot;euc-y-i&quot; maxlength=&quot;50&quot;&gt;&lt;input type=&quot;submit&quot; class=&quot;euc-y-s&quot; value=&quot;确定&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;div class=&quot;euc-clear&quot;&gt;&lt;/div&gt;&lt;/form&gt;&#x27;</span> . <span class="string">&#x27;&lt;p class=&quot;secret\_tip&quot;&gt;&#x27;</span> . <span class="variable">$tip</span> . <span class="string">&#x27;&lt;/p&gt;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">add\_shortcode(<span class="string">&#x27;secret&#x27;</span>, <span class="string">&#x27;e\_secret&#x27;</span>);</span><br><span class="line"></span><br><span class="line">用法就是，如果在新式编辑器里，要添加一个html区块，然后这样把内容包起来：</span><br><span class="line"></span><br><span class="line">\[secret key=<span class="string">&quot;密码&quot;</span> tip=<span class="string">&quot;我是提示信息&quot;</span>\]加密内容\[/secret\]</span><br><span class="line"></span><br><span class="line">最后添加css样式优化一下外观：</span><br><span class="line"></span><br><span class="line">.e-secret &#123;</span><br><span class="line"> margin: <span class="number">20</span>px <span class="number">0</span>;</span><br><span class="line"> padding: <span class="number">20</span>px;</span><br><span class="line"> background: <span class="comment">#f8f8f8;</span></span><br><span class="line">&#125;</span><br><span class="line">.e-secret input.euc-y-i\[type=<span class="string">&quot;password&quot;</span>\] &#123;</span><br><span class="line"> <span class="keyword">float</span>: left;</span><br><span class="line"> background: <span class="comment">#fff;</span></span><br><span class="line"> width: <span class="number">100</span>%;</span><br><span class="line"> line-height: <span class="number">36</span>px;</span><br><span class="line"> margin-top: <span class="number">5</span>px;</span><br><span class="line"> border-radius: <span class="number">3</span>px;</span><br><span class="line">&#125;</span><br><span class="line">.e-secret input.euc-y-s\[type=<span class="string">&quot;submit&quot;</span>\] &#123;</span><br><span class="line"> <span class="keyword">float</span>: right;</span><br><span class="line"> margin-top: -<span class="number">47</span>px;</span><br><span class="line"> width: <span class="number">30</span>%;</span><br><span class="line"> margin-right: <span class="number">1</span>px;</span><br><span class="line"> border-radius: <span class="number">0</span> <span class="number">3</span>px <span class="number">3</span>px <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">input.euc-y-s\[type=<span class="string">&quot;submit&quot;</span>\]&#123;</span><br><span class="line">background-color:<span class="comment">#3498db;</span></span><br><span class="line">color:<span class="comment">#fff;</span></span><br><span class="line">font-size:<span class="number">21</span>px;</span><br><span class="line">box-shadow:none;</span><br><span class="line">-webkit-transition: <span class="number">.4</span>s;</span><br><span class="line">-moz-transition: <span class="number">.4</span>s;</span><br><span class="line">-o-transition: <span class="number">.4</span>s;</span><br><span class="line">transition:<span class="number">.4</span>s;</span><br><span class="line">-webkit-backface-visibility:hidden;</span><br><span class="line">position:relative;</span><br><span class="line">cursor:pointer;</span><br><span class="line">padding: <span class="number">13</span>px <span class="number">20</span>px;</span><br><span class="line">text-align: center;</span><br><span class="line">border-radius: <span class="number">50</span>px;</span><br><span class="line">-webkit-box-shadow: none;</span><br><span class="line">-moz-box-shadow: none;</span><br><span class="line">box-shadow: none;</span><br><span class="line">border: <span class="number">0</span>;</span><br><span class="line">height: auto;</span><br><span class="line">outline: medium;</span><br><span class="line">line-height: <span class="number">20</span>px;</span><br><span class="line">margin: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">input.euc-y-s\[type=<span class="string">&quot;submit&quot;</span>\]:hover&#123;</span><br><span class="line">background-color:<span class="comment">#5dade2;</span></span><br><span class="line">&#125;</span><br><span class="line">input.euc-y-i\[type=<span class="string">&quot;text&quot;</span>\],input.euc-y-i\[type=<span class="string">&quot;password&quot;</span>\]&#123;</span><br><span class="line">border:<span class="number">1</span>px solid <span class="comment">#F2EFEF;</span></span><br><span class="line">color:<span class="comment">#777;</span></span><br><span class="line">display:block;</span><br><span class="line">background: <span class="comment">#FCFCFC;</span></span><br><span class="line">font-size:<span class="number">18</span>px;</span><br><span class="line">transition:all <span class="number">.5</span>s ease <span class="number">0</span>;</span><br><span class="line">outline:<span class="number">0</span>;</span><br><span class="line">box-sizing:border-box;</span><br><span class="line">-webkit-border-radius:<span class="number">25</span>px;</span><br><span class="line">-moz-border-radius:<span class="number">25</span>px;</span><br><span class="line">border-radius:<span class="number">25</span>px;</span><br><span class="line">padding:<span class="number">5</span>px <span class="number">16</span>px;</span><br><span class="line">margin: <span class="number">0</span>;</span><br><span class="line">height: auto;</span><br><span class="line">line-height: <span class="number">30</span>px;</span><br><span class="line">&#125;</span><br><span class="line">input.euc-y-i\[type=<span class="string">&quot;text&quot;</span>\]:hover,input.euc-y-i\[type=<span class="string">&quot;password&quot;</span>\]:hover&#123;</span><br><span class="line">border:<span class="number">1</span>px solid <span class="comment">#56b4ef;</span></span><br><span class="line">box-shadow:<span class="number">0</span> <span class="number">0</span> <span class="number">4</span>px <span class="comment">#56b4ef;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p.secret\_tip &#123;</span><br><span class="line">clear: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wordpress </tag>
            
            <tag> 部分加密 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>（三）周年纪念|七夕</title>
      <link href="/posts/8a5cc8fc/"/>
      <url>/posts/8a5cc8fc/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="357fc554f0c1a047edcb0bdfde9d17caf0969d91586eea2f1fca0bd870ce9c69">7c0a83fe2b8c6d15df4dacf507370bde148a3496a8e6375d04efe64f914d8319da373fd965cd37c9fffc6c8f719897a86720012d71f5e8a1cfb4125df51be317149f87a39a927dee659b0c9bb045b0e4004393e6627024c38178ac99482d55bae2b8dc1c665e3203f7bef5ff7e9ac23d50b009823465a6ca9c0cb458f6d3ed91fbe2da60e4fb7a3a75b8cdf4344215092a9ab04ad2adc4a13f264698f5d96904109e4a94dd32924c235dcadcbc9e427fdec113c1ddcde159c84cff5ab8158a2fdf6f57a58856375a1eccfb113e2dcaa2bab1982e3b68c44d6253c2bdc1a28cd071f8ffd281b8804015445a6ce9b59f5d300d9d8f49e0180c6e9b1f201069db7a4b7c5b22cd1eca5226b414659387a02f36fc9bf86fa897e360d1296ccf9d97bd6831cdd43a716b09b55349b203afc5d310e52c31a2c96eb2db811042adfb8e52b9d7556d56d3d1f00d35ae0926cda97a08061f672fcf531838a03e376ad19787d984ace56fae4520aaf2b2f4de400e5e02d2b3ec5fc592cef54ec16590ee17274b763e45448d767884842bf252567149e05b0826328e130015bfee5b4071c3d649fc5af00923813b5912a5cbc4896adf99a6416a6d395811f132b191dcad33c3c45249f8a699c4fccc6ee662a349fff6ef9c54d029922e89e4884a9d605988bd822046c2f4754a3e34b7f64149e8fc401e41c5e5d5b63299353bb77a7a10c023faf951bd98007e9f53b57aa0b1a2ba07d75d37415a8edd01754614bfe5dcb6770bbd4a1a6652786c5dc12ea518a68c6ceb0ed41a3590adb78e2acd1d52a652bf371cea244ec3ecdaa8fb4e28539b783c34f479b47a274cdced98ff7d97dcff5970e165596c14d6d204279910236589d169dca7a81350b771ebc8c48116ad324a731fc7a733825db48857d3266b12c81488286f816332662d88fce7d19da4671cfd0fc83b4c5672dea43d77fc77016d839cc47422c4aeb1ba44fc73e286eecf9babf19329c1924b569c74e283a678b53d565da3efedf3f240b33e837c336051f54f9d9333e3c217f3232a98c2fc6ae9801e9d4a8abfbb962acecf8f41a3c92047a2a1749be53b20f7ea5befd00622c461f8196f3c6513e25e7714c5cab74b44eec7d289df87f0baf196b333fd870328b635c4ae8181cfba44231ea0408118a51482ac42735aab785a798268badacfd1e1346690d59ddf71fd82bc2e19f7384aa25acdfb2209cda29c6aeb375b1145026b6a8ce62a7266c7a030532b3cac975cbe56fac1cc1694ad42c11afa96a6ada248c7980b70931b33c191b8930001a890ee1fabf31932da29970a38d73aaa74556ad2ffbc43ea0e8ec4b9777a9fa25b421c2ea28c780c092ed570a164d3f39266ab49c2b8cf728bcdf57cfda8bb23ed752f44af1b47b2ac7d5284f7a1cbeefc7eef06db550a33b37a2b38816ac0c9263c69c47a778c99c11fe8601bc6935e726a106f78a95575608c5e500eadd7f66246e73545d23d93436119c448ded68fd0a22fb7e8cec87ff31f84aa4be75253ebbc763e54d66ad93aaa3e4468814d4fee725646a3e455e920b60bc9aa628b8242ebcc631c36b627b35eb94e2f507baa6059b8d278a506abb8bc104d1220687f4c7afb0ba40affe33ad2101defc2fe1bd6439e6c981fc7efd40b67f0b6ed35f696737b992394fad7ae27d1ab1c9b33c22eac5e9a62134c8492d36b435b10cca83c9b9eeb0a1593bb2f0735295d2302635a7fb0157b06d01e51d4e8b0d867e48630ff4c2c7b55e40ff70c3290ccf582a403a501d43a689eb88ffbfcccbc58aa94b24f5a6a303a72e57943179d498f9104cf894ab1d137baca16cc9d421b61c63cdd7758e26b4b224dfad86a9ec44b6cdbf11126dd4eb1f8d15d6b71a99bc6375552c0879ef1310816b282cecc25b0b54f15c262840ec4c56190b40cd6e6d0f87f7c709ec17569373cf35484f164c6b9f02355094686a73f6ec10f00573deb13ef7a752458b060b44eb3527eeb51f5792ae41f75fdb0215c6782f4e44fcde623f2c6c99a34026998080cd3eb9440aff90319b7afd0308e6909adf4ea0595f05cb07d5bfc7b0f77124b6370134c30952ef85810263abc1a87a84611d9d39600385a2dabda712f57f9a687f146e7bb61f25ec3beeca1fbfd15f9b5beb7a835be2df71199f531b43592cd6cfaa28d65682bbbed80af10d3a6ad5827b622c44f41dfc873f7b265eef065df0a55f66bc1697c24a5e6bf701cf9e2daea8a5e88a6dd895733725e20e53c2733df8b9a43ac2caebc43f04554794b6c734b74dc47f1165738217636c562181978194c7b1d501dca9e82a06ae4e019421f94cf58cf0bd8a2bd7f22c52c08c15d3b8d51b56ca012c5e7e02d38d6d61b77a61382f916c74941227a08b542827967eae4ce7b50ed4daeeac3c7fcb0930651bbc9de0268a8e30329dec8223d9ec272ddaf6a093260895e438e31d0c1498d1b691a12f9863e5390533f9d92abc757af6748e808a479b1ff5cf9d6d5ac33f8f1d10e4770dcfe333b9226fe387ad98efc87e9abc8f7474b762ba4afd5515664e2b3ecad7cf8bd8dcf730b4daee30d2be4059d908240cd849f71032211b032e36d26e1a33d793a896228ed643397fc322408686274a86fe93e7a55454a88cda3ac9b9cc19126372055624cf0f8f26556ea961f5d315b19246d5081775cda7c07dd5058e730eabe68af2dbe3df7ef03716f7e03f99256de61030d2f370c4cebfa15e83a00fcbeb24b8ffd22c731e63023f9ad4a6e49c1214518e4c7c1212dc8ef2dbdbaec85966d95018173c5caa9978a304e34d6b1d192d5b685ce97e4bb3b6e50ea34ee9aacad4c621525192c86a6fa0c62237294bc22f3877c1b1d5589cb976823279e63494846dc1382fbb8ec2fc6851cb9655630c4d27fe486c371365543c05813551d1d993355f054a25703ffe350d319531ee7eefcc51329b8af9a48614b8f360ee7383df53fc838c8338220d49d136b3faa02860a1424a2ef3af3be4d87dac25e74c8872519806e9029b5283cbff7ec084e4046d284b901be249197b8549aedf7a9146c85a7a1411298a50973d813c2093dadc454a5cceea76553e5c72f81313b4085d847264f153733dadc0e7200f908d16fa387fd6a80acec8803e038a60dda40ab5eac72a8e4ff48e72d15762f2e901ac5ed612944c62bc65c31d8b62c1604c68ee57cf1915fabc5d86b75ada844c3fa94f7c68d9c7a6e5d5cc9f2b7279729ebd3b5099034a40d89fc6facf401b517ca263e745a6a3e5ba7678617de9a51be1e7c789e227fd2acd4aced2c9360bd23b7d83e002a060a66b1f4b7ec2d22bc441dd2bb5f51a025719012116ea9ab19a7c25be0f6d9d14fce45d934bc36325029416f992a949563187a20eb89637b1214833bed466013904dc1aca1a22014e1d9c695e805dde0de3089c1ea565d94c036b31b34cb96a1898335ea4a1d1b4de25aff5fe36042777e4d4eb1da2a4c2239ff56da19e322df6c6293fd93c9a3849aa7b320fb2918d47d45dcf5b5dfa4a7effed74573acb1e0bb2e642fcbe0608f51dfc42af978f979183b311a037ebac3f007b322afd045947dda5b60cf69a9162e081bba7dfafa7c1d229f5e4690f120ccd32bbb542c4f9ad0cdeaaf7de9a355cd10dc4e30363f9403d32d6e9351ce1c9606e334ea05b6d5d94620bd173b8e749abfda9670717045c5e33eb07f73428b9120c2fcd518782eaa9428b45391287d864a2847aa3129679db633e411d80bb4e062a47c2f79c7271c0c727f8a91b6c4bc081cde1a0ce4a8187fb7bb2601ed7b18951581f6bfb3c3aaddb8b5cc2e2c5dd5be63a11708da5c5395385efc572a703c65080514b0cfcea4db44e899c33b4f79459239faae7650960bcc5f7bc7bc8ae4708e7f502267297b24587b0e13ca12a3bdc8243245bab72201c3218027ec6320c5e57f24c79019fbfa3fcabb0ddf4c79ac654e75cd76ceef7c1994c438af0058633b75ee0103d92efc8c86d06f7f42805d0b8f26231ca91cc3e8504ce2b9bb149f9b4e037d0131658be1107644727fafa2648af7aabd374b1a4241a9d35307d0861e977789b7a0171bf268872d4d53b99d2b32aeb71825dfe0a6ee17e2ac7a0e6d3afefbb255cb30eb99bbcde4f2986e07988ccd56828de9d70ac8814fcbdfbab2601b5cb22a0a3d06254959742a126240a994cfd8211f555df24748991ed8c7202efa2f2c0007b3f3f7e21d412274932296c63f65fd0f9f78191a2fbc8eda4e0db7c37fa91f762a3d0bd51bd5fd8caa17edbde3988f4b1d7eda099da1f9126a03045cc24f49d743fe00b6bd6a6e12b4f065d0b699b3e91d730587fe9ac7fbfb20db6661f6db7253d691e54e9bef47ba2060d994e00121a0e6392dd127889611858d17a0c6bbf10c4732b014e1b19503ddf54a4d24beacb90b4787430660551676b4f8f82712549b0734a4be51c4dae7001a98bb35acc3f22a169c79c7281fb7627b0e8fca850d04663675953f29f889d9fe7858c44aba4925baeb6eca634e1722c66090e76272e7b7113d8d88e38c9454ba2d237a5f938c180a2b5ce0ee60dfd59e4ffb0e8cdf11754a7a1ada254dc0236863723903eb8310f286f7c0c7b851e6244b602ab8da2a0992541c18569b465aae5d123b03f27e3e128074a0faa140f848438f6996cc80475d754a6b6ca5cfd849ef5fec9e89e2a68bf764bbefbf656dd28d09a95f13c9a54b663593b5bcbf8f6d714c7540af82fbb2f58bd4c7b8d8c363546fe3a716b05d7813953a28d7ad0125afde08f223230d2f8853496a187c3496cb275a572f407b99ba71170e728af7dca97de0fc97f629ee1da7598d09c51bec8a707ad710a10c22a791a9eebd8415cb6d47501d90db1d21c27fff5b889775733385567bbe2cc2bad7d0bb6cf2bc244b455e8644f91e21b4d9296bc71b6893d23c14aeb5ed128e498b5cbcba266e3afead64e9ddc761e24ca87586ad354f73dcac1463c166174df32266730661a21aaed27579cebed5eb48798c3f20f3a20106410245927741f4d10a61eae3657fda317c20337910ac7d2e4dd0fbe6f74b2f4d8d52906ae7e37940a2fe1a6a5f098a824d119efaad2153ce1382169a3237585f5fb9744268557710c665105cf4bff375d0cc532d168720c33089fa428e37b6b207707f7d8d8c2733c873ef8ceaec4982ae41c8c2e36cae2a3af0b592256e6eb148681e79b600f4aef3cef388ca3c9faf826b290e77b4e81e16ed2ffc4b42273ecaf707fa52f75a5866db7500537a08f749a930eb994e0d5a49f8490ed4799bc20ed1310e65f62a5bcb0d79a90858a8e19c3cc7b07cf69f37da59441c164a5f1831a1dd14b22f99a982da657baf3a8f129368af7303181bd48fcef5adb8d77416ef6f3b8724497d828da38d300dfb8737930acba1f01546cdce1de7361282704c8bdacacd91cf07806b092353d8fc0417423eabde5b2799dc83181538940884aca2f13f495d1c7db504053fd96badce2fb301ea693480d099793787e8ed680b368c28d11c9745c215589b7564aae1307a99fcf9926d6a58515338f066f73dc6418233a43e19f7725a37bf2df16143e8f9b4e699f379108cb032306f1f488d9c0c52ef025a796058cf780c5752a4c8d075935e94186a56c8cfc236d958a53c88def974c92a60238eab2f53300a9032b175772a341307c11e58b92d0c1c0a729f3b619e92ee4f1fa5ed</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">您好, 这里需要密码.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 加密 </tag>
            
            <tag> 恋爱 </tag>
            
            <tag> 纪念 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>“西门子 贝库茨”是谁</title>
      <link href="/posts/8528f8f1/"/>
      <url>/posts/8528f8f1/</url>
      
        <content type="html"><![CDATA[<p>今天看知乎关于恐怖组织的一个回答的时候，看见提到了德国的一个恐怖组织“红军派（RAF）”曾经刺杀过西门子的总裁“贝库茨”，处于警惕，决定去查一下：1. 西门子是不是真的有这个总裁；2. 如果有，他是不是真的死在红军派手下。</p><p>可能是答主的文章写得太好，上网一搜全都是他的回答：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/08/%E5%9B%BE%E7%89%87-1.png"></p><p>即使是404搜索引擎也是一样的结果。所以可信度再次降低了——这么多回答都没有这个人的生平信息出现，这真的不是人造人？</p><p>既然中文搜不到，就需要用英文来试试。西门子的英文很容易，Siemens。贝库茨是个德国人，德文就比较难搞了。如果直接搜索“贝库茨”，会出来一堆垃圾信息，但是：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/08/%E5%9B%BE%E7%89%87-3.png"></p><p>然后去404引擎查一查“Siemens Beckurts”，终于找到了人：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/08/%E5%9B%BE%E7%89%87-4.png"></p><p>生平里面写了：</p><blockquote><p>“</p></blockquote><p><strong>Karl Heinz Beckurts</strong> (born 16 May 1930 in <a href="https://en.wikipedia.org/wiki/Rheydt">Rheydt</a>; murdered 9 July 1986 in Straßlach near <a href="https://en.wikipedia.org/wiki/Munich">Munich</a>) was a German physicist and research manager.</p><p>……</p><p>Along with his driver, Eckhard Groppler, Beckurts was murdered by a roadside bomb at 7:32 AM on 9 July 1986 in <a href="https://en.wikipedia.org/wiki/Stra%C3%9Flach">Straßlach</a>…… The <a href="https://en.wikipedia.org/wiki/Red_Army_Faction">Red Army Faction</a> claimed responsibility under the name “Kommando <a href="https://en.wikipedia.org/wiki/Margherita_Cagol">Mara Cagol</a>“ but the identity of the perpetrators is still unknown.</p><p>……</p><p>From 1980 until his assassination in 1986 he was a member of the Executive Board and Head of Corporate Research and Technology of <a href="https://en.wikipedia.org/wiki/Siemens_AG">Siemens AG</a>.</p><blockquote><p>“</p><p>— Wikipedia</p></blockquote><hr><p>所以贝库茨这个人确实是存在的，确实是被红军派刺杀了；他也确实曾经任职于西门子，但是职位是执行董事（之一），而不是总裁。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Beckurts </tag>
            
            <tag> Siemens </tag>
            
            <tag> 知乎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>中国特供版firefox属实恶心</title>
      <link href="/posts/514d51de/"/>
      <url>/posts/514d51de/</url>
      
        <content type="html"><![CDATA[<p>直接上火狐官网下的是中国特供版，通过这个链接自己找才是真的国际版<a href="http://ftp.mozilla.org/pub/firefox/releases/">http://ftp.mozilla.org/pub/firefox/releases/</a></p><p>相关链接：<a href="https://zhuanlan.zhihu.com/p/104291339">知乎分清国内版FireFox和国际版FireFox</a></p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Firefox </tag>
            
            <tag> 中国特供 </tag>
            
            <tag> 坑爹 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在LNMP的基础上改Redis为UDS连接</title>
      <link href="/posts/d2805c7e/"/>
      <url>/posts/d2805c7e/</url>
      
        <content type="html"><![CDATA[<p>使用<a href="https://lnmp.org/">lnmp</a>一键包安装redis，它会默认开放本地回环来让其他应用连接。更加高效的方法是用Unix Domain Socket来连接，那就要修改相关的配置文件。</p><p>如果不知道配置文件在哪，用locate命令来找。</p><h2 id="设置redis-conf"><a href="#设置redis-conf" class="headerlink" title="设置redis.conf"></a>设置redis.conf</h2><p>参考<a href="https://www.digitalocean.com/community/tutorials/how-to-install-redis-from-source-on-ubuntu-18-04">digitalocean的教程</a>，修改redis.conf，将</p><p>supervised no</p><p>改成</p><p>supervised systemd</p><p>以便之后写systemd unit来管理redis。然后将dir改成：</p><p>dir /var/lib/redis</p><p>来让redis 的数据库放在这个文件夹里，符合FHS规范，方便管理。</p><span id="more"></span><p>然后去掉unixsocket和unixsocketperm前面的注释，修改成：</p><p>unixsocket /var/run/redis/redis.sock<br>unixsocketperm 770</p><p>第一行设定socket文件在哪，第二行设定socket的权限。关于权限的讨论，看github的这个issue：<a href="https://github.com/NodeRedis/node-redis/issues/204">enable redis connection via unix domain socket instead of tcp #204</a>。</p><h2 id="设置socket目录开机创建"><a href="#设置socket目录开机创建" class="headerlink" title="设置socket目录开机创建"></a>设置socket目录开机创建</h2><p>为了保证/var/run/redis在开机时存在而且权限正确，需要新建一个<a href="https://serverfault.com/questions/74796/directory-in-var-run-gets-deleted-after-hard-reboot">tmpfile.d文件</a>：</p><p>touch /usr/lib/tmpfiles.d/redis.conf</p><p>里面写：</p><p>d /var/run/redis 0770 redis redis</p><h2 id="systemd-Unit文件"><a href="#systemd-Unit文件" class="headerlink" title="systemd Unit文件"></a>systemd Unit文件</h2><p>创建一个redis.service文件：</p><p>touch /etc/systemd/system/redis.service</p><p>如果里面有东西，就先清空。里面要写：</p><p>[Unit]<br>Description=Redis In-Memory Data Store<br>After=network.target<br>[Service]<br>User=redis<br>Group=redis<br>Type=notify<br>ExecStart=/usr/local/bin/redis-server /etc/redis/redis.conf<br>ExecStop=/usr/local/bin/redis-cli shutdown<br>Restart=always<br>[Install]<br>WantedBy=multi-user.target</p><p>注意Type=notify，DigitalOcean没有提到这一点，但是因为supervised写了systemd，如果不指定这一项会导致unit启动失败。</p><h2 id="创建redis用户-组"><a href="#创建redis用户-组" class="headerlink" title="创建redis用户/组"></a>创建redis用户/组</h2><p>创建系统用户，且创建同名的组，但是不在/home里创建目录：</p><p>useradd –system -U -M redis</p><p>然后创建/var/lib/redis和/var/run/redis，并且设置好权限：</p><p>mkdir /var/lib/redis /var/run/redis<br>chown redis:redis /var/lib/redis /var/run/redis<br>chmod 770 /var/lib/redis</p><h2 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h2><p>启动redis：</p><p>systemctl start redis</p><p>其他需要连接redis的需要加入redis用户组：</p><p>usermod -a -G redis &lt;user_name&gt;</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> domain socket </tag>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>空欢喜</title>
      <link href="/posts/6a7aaffb/"/>
      <url>/posts/6a7aaffb/</url>
      
        <content type="html"><![CDATA[<p>早上小黎突然转了条推送，居然是央财开学报到时间的通知：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/08/image-2.png"></p><p>心跳加速，双手微颤，呼吸急促，赶紧打开携程开始查机票：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/08/image-4-603x1024.png"></p><p>飞机比高铁学生票还便宜一半，史无前例好吗！然后准备订票的时候，群里兄弟提醒：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/08/image-5.png"></p><p>“未接到学院通知……”当场手也不抖了，心也不跳了（大误）。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 吐槽 </tag>
            
            <tag> 生活 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>通过域名查ASN再反查IP-CIDR</title>
      <link href="/posts/b3ceacf1/"/>
      <url>/posts/b3ceacf1/</url>
      
        <content type="html"><![CDATA[<p>首先用<a href="https://ip.sb/">IP.SB</a>根据域名或IP来查ASN：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/08/image.png"></p><p>然后用<a href="https://hackertarget.com/as-ip-lookup/">hackertarget</a>来根据ASN查IP-CIDR：</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/08/image-1.png"></p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> asn </tag>
            
            <tag> ip </tag>
            
            <tag> ip-cidr </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>按文件大小降序显示（linux）</title>
      <link href="/posts/ad650cd0/"/>
      <url>/posts/ad650cd0/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.cyberciti.biz/faq/how-do-i-find-the-largest-filesdirectories-on-a-linuxunixbsd-filesystem/">有个网站</a>提供了不同的写法，我觉得比较好用的是这个：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /path/to/some/<span class="built_in">where</span></span><br><span class="line">du -hsx -- \*  sort -rh  head -10</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日小记</title>
      <link href="/posts/7b51a00c/"/>
      <url>/posts/7b51a00c/</url>
      
        <content type="html"><![CDATA[<p>第一次装机难免被坑。比如虽然第三和第二代锐龙都是AM4接口，但是老的主板比如B450m，因为BIOS 的ROM芯片储存容量太小，装不下那么多驱动，所以为了兼容需要刷新的BIOS来支持第三代锐龙。但是很多奸商，就是京东那些，会表面上写着支持，实际上发过来的是旧BIOS，然后点不亮。以后要多上网了解情况再买。现在知道了，带Max结尾的就是更新过的，ROM更大的主板，就能够原生支持新锐龙了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 电脑 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020深圳之旅</title>
      <link href="/posts/16bd3fb1/"/>
      <url>/posts/16bd3fb1/</url>
      
        <content type="html"><![CDATA[<p>2020年7月20日</p><p>子莹的雅思考点在深圳赛格人才培训中心。酒店也要在附近找。去深圳的时间是30到2号，总共4天3夜。</p><p>星期三前看好酒店，周末跟子莹讨论好要怎么去。</p><p>星期五和老板请假。</p><p>2020年7月30日</p><p>今天下午1点半左右到了深圳站，下车之后就被深圳地铁坑了，地上写着深圳通专用通道，实际上扫码那边也能进，搞到绕了一个大圈。地铁四个站就到了科学馆，很快就到了酒店。酒店情况还好，不过比以前住过的公寓式酒店小一点。休息之后叫了个外卖，港式茶餐厅的外卖，滑蛋牛肉饭挺不错的，但是扬州炒饭更棒，总的来说对得起那个价。晚上去吃八合里海记，买了个团购券，肉质比起中午的外卖差了点，不过吃完之后还算饱，可惜那个饮料实在太逊，喝几口就没了。服务员也还算友善。</p><p>2020年7月31日</p><p>今天早上和她一起走路去考雅思的地方。酒店不远处有个美宜佳，因为不知道附近还有哪里有早餐卖，而且时间不好控制，所以就在便利店买了个早餐蛋糕。走过去只需要半个钟，路上的店因为时间很早，还没开门。虽然是这样，但是已经有点闷热了。把小黎送到考点之后回酒店，打车，刚上车就开始下雨——接下来的三天都在下雨。回去之后睡了一下，把觉补回来了，因为前一晚上不敢打扰她休息，所以睡觉很少动，结果姿势太僵硬没办法睡着。</p><p>去接她的时候，去的时间还是太早了，12点三个字才出来，然后就开始乱逛。问她考得怎么样，但是她一开始不愿意说，那是因为她的一个表姐因为过于喜欢立flag导致霉运连连，所以她很少会说自己怎么样。但是大概也是知道她考得不错的，果然三年的英语专业的课还是有很大提升的。</p><p>中午吃的是探炉，但是比起探鱼来说，味道还是太淡了。金针菇是单独的一个盘子上来的，本来鱼的调味就淡，再加上单独下金针菇，不入味，结果吃起来就像是在吃草一样。</p><p>那天下午去了大家推荐的华侨城，结果去错地方了……去了地铁的华侨城站，但是真正的华侨城可不在那里。我们逛了一圈商场，买了牙线，然后就回酒店了。洗了个澡，过了一阵去老街那边的木屋烧烤吃了一顿，其实价格不算贵，但是比较吵闹，上菜也有点慢。之后坐车去车公庙的commune清吧喝酒，尝试了mojito，因为是薄荷酒，所以就是一股漱口水味道。一点点酒的微醺就是好玩，对小黎说了好多奇怪的话。小黎喝的是蜜桃乌龙，后来嗷呜觉得一杯不过瘾，又加了一杯。</p><p>那天晚上小黎没有好好睡觉，跟我说了一个奇怪的男生的事情，我觉得那个男生对小黎图谋不轨，所以迷迷糊糊的还是要小黎不要和那个男孩子交流。就是迷迷糊糊的就说到两点多了。所以第二天就睡到很晚。</p><p>2020年8月1日</p><p>早上玩过一阵之后，去了附近的城市广场找东西吃，本来想吃什么忘记了，但是后来去了刚开门的寿司店吃。总的来说味道一般，价格中等，回转寿司直到我们快吃完才到，大概是11点40左右才开始有。半生蛋牛丼是要那一碗的饭才能刚好拌好的，所以小黎分了一个小碗来拌的结果就是蛋泡饭，就吃不了了。那家的寿司的饭比较软，夹起来很容易掉。</p><p>吃完寿司决定去所谓的客家小镇玩。小黎专门穿了格子裙就是为了去拍照。深圳的公交车实在太飘，不过也可能是因为它是长途公交车，所以起步刹车都很重。下车之后我缓了好一会儿才缓过来。虽然天气是雨天，但是什么客家小镇的，其实就是江南风格，那雨天就刚好合适了。</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/08/DSC01472-1-1024x683.jpg"></p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/08/DSC01474-1-1024x756.jpg"></p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/08/DSC01473-1-1024x683.jpg"></p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/08/DSC01475-1-683x1024.jpg"></p><p>如果说单独算这个小镇的话，其实就是一个人造景观。但是带上妹子来拍照的话，就还算可以。阴天让光线柔和了，拍起来就很不错。但是真的没什么好玩的。</p><p>拍完之后已经3点多，去哪都不合适。所以就开始回程，决定去华侨城创意园看看。是一个模仿北京798的地方，但是比较无聊，毕竟没有798那种积淀，就是一个类似岭南新天地的存在，比较奇葩。甚至不值得开相机。所以逛了两圈就走了。</p><p>晚上去了车公庙的木屋烧烤吃，这家就是自己独立店面的了，环境好了很多，而且上菜也快，甚至快到一些串串都放凉了。点了生蚝，但是小黎吃的那只是半生的，结果小黎就拉肚子了。吃完之后去了对面的commune喝，这次喝的是僵尸和莫斯科之骡，还挺好玩的~但是小黎喝冷的一下子又拉肚子了，就没有喝完。</p><p>牵着手在深圳逛逛，其实就和在北京、在珠海的差不多。主要和她去玩，就会很开心，即使景点不怎么样，但是在她身边就会自然而然的开心。可惜只有短短四天。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>实习记录</title>
      <link href="/posts/68170671/"/>
      <url>/posts/68170671/</url>
      
        <content type="html"><![CDATA[<p>2020年7月15日</p><p>今日开始是税期，流动性开始紧张，同事说这两天央行就会放水。</p><p>2020年7月17日</p><p>除了大办公室，旁边的两个小房间，一个是交易室，另一个是结算室。交易室做交易拿出来成交单，然后将成交单交给结算室，结算室拿出来审批单、划款单等交给运营管理部做审批和划账。</p><p>今天银保监突然接管6家保险公司，办公室里突然说那些二级资本债完蛋了。主要是因为一旦被接管，他们的债就会没人要，就很难出手了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实习记录 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>无题</title>
      <link href="/posts/9b44950b/"/>
      <url>/posts/9b44950b/</url>
      
        <content type="html"><![CDATA[<p>和很优秀的人在一起，往往会被伤害得遍体鳞伤，但是这种伤害却不被允许倾诉，这是很痛苦的一件事情。</p><p>主流文化期望的是面对强者，要想着成为他们。但是经历、机遇都是不可复制的，硬要比较只会让自己卑微卑微卑微到尘里去，失去继续前行的勇气。</p><p>最难过的是那个人是自己最亲密的人，连倾诉都没有了地方。</p><p>心里好乱。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>纪念|买了个新键盘</title>
      <link href="/posts/fdfc367a/"/>
      <url>/posts/fdfc367a/</url>
      
        <content type="html"><![CDATA[<p>抛弃以前的键盘的原因：服役了很久的罗技键鼠套装，甚至鼠标都不知道飞到哪里去了。服役年龄长带来的问题：</p><ol><li> 键面有点黏，粘了一些尘，手感很差</li><li> 按下去的时候很硬，反弹的时候又黏滞，导致错漏很多；最严重的是尾指控制的键，由于尾指的力量本来就弱，按z和ctrl的时候手掌也没办法辅助给力，经常漏按这两个键。</li></ol><p>所以看知乎的建议，买了个达尔优的87键茶轴。初步体验感觉不错：</p><ol><li> 87键没有了数字区，刚好适合面积有限的桌面，鼠标再也不需要和键盘抢位置了</li><li> 有背光，虽然是无法更改颜色的普通背光，但是至少照明效果有了（可以调亮度，多级）</li><li> 茶轴的两段式手感没特别的感觉，但是比起原来的键盘实在是好太多了，打起来带劲</li><li> 声音还是有点出乎意料的（大）</li><li> 有Fn键，可以控制媒体播放（这条出乎意料，解决了听歌的各种问题）</li></ol><p>总而言之，109块买到一个这样的键盘，确实是小确幸。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 杂谈 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Visual Studio|Error HRESULT E_FAIL</title>
      <link href="/posts/e9d6feee/"/>
      <url>/posts/e9d6feee/</url>
      
        <content type="html"><![CDATA[<p>这个神秘的bug从VS2012开始到2019都还有。其他可能的后果不知道，但是会直接导致加载解决方案的时候之前打开的标签页显示错误。按照<a href="https://stackoverflow.com/a/29859730/10616985">Stack Overflow的Tim Hall</a>的解决办法，先关掉VS，把解决方案根目录下的.vs文件夹内的.suo文件删掉，再打开解决方案，就不会报错了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HRESULT E_FAIL </tag>
            
            <tag> visual studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++|auto的坑</title>
      <link href="/posts/eab8dae2/"/>
      <url>/posts/eab8dae2/</url>
      
        <content type="html"><![CDATA[<p>auto是复制，auto*是指针，auto&amp;是引用。该写*就写，不能偷懒。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
            <tag> auto </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vscode使用clangd（Makefile）</title>
      <link href="/posts/22400197/"/>
      <url>/posts/22400197/</url>
      
        <content type="html"><![CDATA[<p>clangd最大的特点是需要一个json格式的<a href="http://clang.llvm.org/docs/JSONCompilationDatabase.html">compilation database</a>，通过这个文件才能让其他的lint、智能补全之类的功能正常运作。关于如何生成“compilation_database.json”，官方有针对<a href="https://sarcasm.github.io/notes/dev/compilation-database.html">不同的build工具对应的文档</a>。</p><p>类似CMake这类的高级工具自然是不需要其他插件，它内置了这个功能。对于其他类型的构建工具，比如Makefile，就要借助额外的工具来生成这个文件了。</p><p>这里使用的是<a href="https://sarcasm.github.io/notes/dev/compilation-database.html#specialized-tools">scan-build工具</a>来辅助，这东西是用python来写的，所以要用pip安装：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install scan-build</span><br></pre></td></tr></table></figure><p>而调用的命令的名字是intercept-build，结合make的调用方法是：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">intercept-build make</span><br></pre></td></tr></table></figure><p>其实就是在正常的make命令前面加个intercept-build就可以了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>vscode的libstdc++的debug问题</title>
      <link href="/posts/fdd4650/"/>
      <url>/posts/fdd4650/</url>
      
        <content type="html"><![CDATA[<p>今天用linux下的vscode，通过gdb和lldb做debug，在单点调试的时候总是会在new一个对象的时候报错，表示找不到libstdc++-v3之类的文件在哪，没法debug。解决这个问题的办法之一是把/usr/lib/libstdc++.so.6的debug symbol给strip了，debug的时候就不会尝试去解析标准库了，问题就解决。</p><p>由于strip会导致很多应用崩掉，所以建议在tty下面做这个：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo strip /usr/lib/libstdc++.so.6</span><br></pre></td></tr></table></figure><p>解决方案来源于<a href="https://unix.stackexchange.com/questions/246143/gdb-throws-error-on-arch-linux">stackexchange</a>。第二种方法没有成功，不知为何。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>CMake的一些基础写法</title>
      <link href="/posts/fb153907/"/>
      <url>/posts/fb153907/</url>
      
        <content type="html"><![CDATA[<p>不要想着骚操作。基本参考维基教科书：<a href="https://zh.wikibooks.org/wiki/CMake_%E5%85%A5%E9%96%80">CMake入门</a>。然而因为这个教科书已经停止更新了，所以参考CMake官方网站的教程<a href="https://cmake.org/cmake/help/v3.17/guide/tutorial/index.html">CMake Tutorial</a>。</p><h2 id="最简单的编译一个源文件的CMakeLists-txt"><a href="#最简单的编译一个源文件的CMakeLists-txt" class="headerlink" title="最简单的编译一个源文件的CMakeLists.txt"></a>最简单的编译一个源文件的CMakeLists.txt</h2><p>天才第一步，“Hello world”。写一个输出hello world的main.cc（这里用的是谷歌代码规范的命名规则）。然后同目录放一个包含以下内容的CMakeLists.txt：</p><p>cmake_minimum_required (VERSION 2.6)</p><p>project(helloworld)<br>add_executable(helloworld main.cc)</p><p>第一行指示要求的cmake最低版本，没有也行；第二行是project名字；第三行是指示编译一个可执行文件helloworld涉及的源代码文件是main.cc。</p><p>在这个目录下cmake .，cmake就会输出一个包含makefile的build文件夹，在build文件夹里make，就会输出可执行文件helloworld。</p><p>这种叫做In-source build（虽然实际上已经有点out-source的感觉了）。</p><h2 id="Out-Source-Build"><a href="#Out-Source-Build" class="headerlink" title="Out-Source Build"></a>Out-Source Build</h2><p>为了不污染源代码，首先把main.cc和CMakeLists.txt放到src文件夹里，然后在src文件夹同目录自己建一个build文件夹，然后build文件夹里cmake ../src，这样就把cmake生成的build需要的东西和源代码分开了。</p><p>如果需要调整什么，只需要把build里面的直接删掉，重新cmake就可以了，不会影响源代码那边。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmake </tag>
            
            <tag> 学习笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markdown页面内跳转</title>
      <link href="/posts/9cc1a1ed/"/>
      <url>/posts/9cc1a1ed/</url>
      
        <content type="html"><![CDATA[<p>今天想看看markdown怎么实现在页面内跳来跳去。虽然是没有onenote那么方便可以在不同笔记本之间跳来跳去，但是页面内跳转也是很切实的需要。</p><p>其实这是基于html的特性，来源于<a href="https://stackoverflow.com/questions/6695439/how-to-link-to-a-named-anchor-in-multimarkdown">stackoverflow</a>。首先要用a标签来设置一个anchor（锚点）：</p><p><a name="后面要用到的名字">可能是一些要显示的文字</a></p><p>然后就可以在后文中使用markdown语法来跳回来了：</p><p>[回到上边](#后面要用到的名字)</p><p>评论里说用id=也可以，尽可以试试。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NextCloud手动升级版本</title>
      <link href="/posts/128b62e4/"/>
      <url>/posts/128b62e4/</url>
      
        <content type="html"><![CDATA[<p>首先进网站根目录，把nextcloud的维护模式打开：</p><p>sudo -u www-data php occ maintenance:mode –on</p><p>然后手动运行updater/updater.phar：</p><p>sudo -u www-data php updater.phar</p><p>它会提示你它会做什么，然后问你要不要继续，按y回车就会开始。</p><p>如果一切顺利，就会问你要不要马上运行occ upgrade来完成升级维护，但是在我的配置里它调用的function被禁用了，所以只能手动运行occ，选n。</p><p>然后会问是否保持维护模式打开，因为要手动运行occ，所以选y，然后updater就会退出了。</p><p>回到网站根目录，完成occ upgrade：</p><p>sudo -u www-data php occ upgrade</p><p>等它做完事情就可以了，一般不会问其他东西的。最后把维护模式关掉：</p><p>sudo -u www-data php occ maintenance:mode –off</p><p>updater只会一次升级一个大版本号，比如13到14，而不是一次直接跨到18，所以如果要从低版本跨几个版本号升级到最新，就要重复前面的过程一级一级升，一次一次occ upgrade。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>nextcloud的php升级暴毙问题</title>
      <link href="/posts/cded3a50/"/>
      <url>/posts/cded3a50/</url>
      
        <content type="html"><![CDATA[<p>今天忍不住不想再看WordPress天天抱怨要升级php，决定升tm的。从5.6升到7.2（因为lnmp 1.6官配支持7.2，1.7才是支持7.3，不敢冒险），然后WordPress无压力运行，nextcloud成功暴毙500.</p><p>面对这个老问题，这次好好查了论坛，终于找到了<a href="https://help.nextcloud.com/t/internal-server-error-going-from-php-7-0-to-php-7-2/35016/10">解决办法</a>：</p><blockquote><p>Had the same issue, was able to load nextcloud with php7.0, and it broke when switching to 7.1 and 7.2; it was an opcache issue.</p><p>I suggest you remove the lines relating to Redis and memcache from your config:</p></blockquote><pre><code>&quot;memcache.local&quot;: &quot;\\\\OC\\\\Memcache\\\\Redis&quot;,&quot;memcache.distributed&quot;: &quot;\\\\OC\\\\Memcache\\\\Redis&quot;,&quot;memcache.locking&quot;: &quot;\\\\OC\\\\Memcache\\\\Redis&quot;,</code></pre><p>就是把config/config.php里面的三行关于OPcache的配置删掉 （如果配置了redis也把redis的删掉）。删了之后果然成功运行起来了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>无聊时的无聊程序</title>
      <link href="/posts/256d0cdc/"/>
      <url>/posts/256d0cdc/</url>
      
        <content type="html"><![CDATA[<p>今天突发奇想——其实也不是突发，是想着一个大project，将写在excel里面的一个计算程序写成C++的。但是因为要涉及比较大的数字的运算，就要考虑用什么类型的变量来装载。又不记得C++的各种类型有多大——倒不如说一直不记各种语言的各种变量有多大。所以就想着写个程序来输出大小。</p><span id="more"></span><p>其实程序很简单，因为有符号的就是无符号的一半大小，所以直接用无符号赋值-1就会溢出成最大数：</p><p>uint8_t int8 = -1;<br>uint16_t int16 = -1;<br>uint32_t int32 = -1;<br>uint64_t int64 = -1;<br>uint_fast8_t fastint8 = -1;<br>uint_fast16_t fastint16 = -1;</p><p>写的时候代码自动提示发现了一个带“fast”的类型，还挺神奇，标准上说这些类型是在这个处理器上运算最快的、至少有N位的类型，看输出结果就比较奇妙。</p><p>输出结果依次是：</p><p>uint8_t: 255<br>uint16_t: 65535<br>uint32_t: 4294967295<br>uint64_t: 18446744073709551615<br>uint_fast8_t: 255<br>uint_fast16_t: 4294967295</p><p>可以见到在我的电脑上，fast8是普通的int8，而fast16却用了int32的类型。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Powershell设置持久性环境变量</title>
      <link href="/posts/825256f2/"/>
      <url>/posts/825256f2/</url>
      
        <content type="html"><![CDATA[<p>本质上是修改注册表，举例来说：</p><p>[Environment]::SetEnvironmentVariable(“PATH”, $env:Path + “;<new path>“, ‘User’)</p><p>这是设置用户的环境变量“Path”，增量添加。因为是修改User的，所以不需要管理员权限。如果是修改全局的，把’User’改成’Machine’，就需要管理员权限。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Crypto++使用（1）</title>
      <link href="/posts/8cdec583/"/>
      <url>/posts/8cdec583/</url>
      
        <content type="html"><![CDATA[<p>之前突发奇想想要用SHA256来生成密码，搜索发现C++主要的加密库是Crypto++。但是api比较晦涩难懂（不像Java的Maven那种清晰明了），所以找了个例子来看。</p><p>首先是加密部分：</p><p>CryptoPP::SHA256 hash;<br>byte digest[CryptoPP::SHA256::DIGESTSIZE];<br>std::string message;<br>hash.CalculateDigest(digest, (byte*)message.c_str(), message.length());</p><p>这里是以字符串作为计算对象。通用的部分是：</p><ol><li> byte数组，长度根据用的算法来确定（有对应的常量），比如SHA256::DIGESTSIZE，MD5的就是MD5::DIGESTSIZE</li><li> 算法的class对象</li><li> 计算Digest，第一个参数是算出来的东西写到哪里去，第二个参数就是计算的内容（byte指针形式给定），第三个是指明计算内容的长度（这里就是字符串长度）</li></ol>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>2020-5-3</title>
      <link href="/posts/d385b7a/"/>
      <url>/posts/d385b7a/</url>
      
        <content type="html"><![CDATA[<p>今日份的快乐，是获得了爸爸的一台显示器，接上笔记本之后把笔记本藏在显示器后边，舒服了很多呢。果然还是屏幕大比较好。</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/05/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20200503233849-1024x683.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>C++ Primer Plus</title>
      <link href="/posts/bc820433/"/>
      <url>/posts/bc820433/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h1 id="iostream"><a href="#iostream" class="headerlink" title="iostream"></a>iostream</h1><h2 id="cin、cout"><a href="#cin、cout" class="headerlink" title="cin、cout"></a>cin、cout</h2><p>提供了<code>cout</code>和<code>cin</code>两个常用stream：</p><p><code>cin</code>：char input流</p><p><code>cout</code>：char output流</p><p>string str;<br>cout &lt;&lt; “Say something”;<br>cin &gt;&gt; str;<br>cout &lt;&lt; “Hi, “ &lt;&lt; str &lt;&lt; “, nice\n”;</p><p>读入（&gt;&gt;）的时候会自动根据变量类型读入需要的东西</p><p>&gt;&gt;可以连续整：</p><p>string a;<br>string b;<br>cin &gt;&gt; a &gt;&gt; b;</p><h2 id="宽字符wcin、wcout"><a href="#宽字符wcin、wcout" class="headerlink" title="宽字符wcin、wcout"></a>宽字符wcin、wcout</h2><p>类型：<code>wchar_t</code></p><p>string和char常量的前缀：<code>L</code>，比如：<code>L&#39;a&#39;</code>就表示宽字符a</p><h2 id="char16-t、char32-t"><a href="#char16-t、char32-t" class="headerlink" title="char16_t、char32_t"></a>char16_t、char32_t</h2><p><code>char16_t</code>：长度16位，对应的char用<code>u</code>前缀</p><p><code>char32_t</code>：32位，<code>U</code>前缀</p><h2 id="控制符"><a href="#控制符" class="headerlink" title="控制符"></a>控制符</h2><p><code>endl</code>：newline，比起”\n”会有flush的效果</p><p><code>hex</code>：&lt;&lt;给cout就会改变数字显示方式为16进制</p><p><code>oct</code>：改成8进制</p><p><code>dec</code>：改成10进制</p><h2 id="通用字符名（Unicode）"><a href="#通用字符名（Unicode）" class="headerlink" title="通用字符名（Unicode）"></a>通用字符名（Unicode）</h2><p><code>\u</code>后边接8个十六进制位</p><p><code>\U</code>后边接16个十六进制位</p><p>使用ISO 10646码点</p><h1 id="头文件"><a href="#头文件" class="headerlink" title="头文件"></a>头文件</h1><p>C++的头文件已经没有了<code>.h</code>结尾，如果是来源于C的，一般会有前导<code>c</code>，比如<code>cmath</code></p><p>其实最大的区别在于.h头文件不能用namespace，而没有.h的可以用</p><h2 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h2><p>C++还是要使用原型</p><h2 id="namespace"><a href="#namespace" class="headerlink" title="namespace"></a>namespace</h2><p>整个包引入：<code>using namespace 空间</code></p><p>只引入某几个：<code>using 空间::名称</code></p><p>不引入，直接干：<code>空间::函数名()</code></p><p>位置可以放在函数里，受到作用域限制</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>模拟键盘或鼠标输入</title>
      <link href="/posts/130f9995/"/>
      <url>/posts/130f9995/</url>
      
        <content type="html"><![CDATA[<p>今天突发奇想想要在linux上实现模拟鼠标右键按住的效果。linux上用按键精灵就完事了，linux上用的是xdotool，看man就知道，比如需要右键按住，就是</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xdotool mousedown 3</span><br></pre></td></tr></table></figure><p>但是mousedown不支持delay，所以需要写成script，在前面加一句sleep来实现延时。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>昨日</title>
      <link href="/posts/2da5e3af/"/>
      <url>/posts/2da5e3af/</url>
      
        <content type="html"><![CDATA[<p>昨天晚饭有一道菜是豆豉鲮鱼，突然想起爷爷还在世的时候我们经常中午饭就开一个鲮鱼罐头、蒸一些腊肠、煮几条菜，然后就在玻璃台那边开饭，一边看有报天天读一边吃饭。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
            <tag> 回忆 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>驾驶证</title>
      <link href="/posts/d560df27/"/>
      <url>/posts/d560df27/</url>
      
        <content type="html"><![CDATA[<p><a href="https://wordpress.huaj.tk/wp-content/uploads/2020/01/IMG_20200119_171656.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads/2020/01/IMG_20200119_171656-225x300.jpg"></a> </p><p>虽然在危险边缘跳舞，但是还是一次考过了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 31</title>
      <link href="/posts/f279090e/"/>
      <url>/posts/f279090e/</url>
      
        <content type="html"><![CDATA[<p>跟一块冰玩了一路</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>今日小记</title>
      <link href="/posts/7b51a00c/"/>
      <url>/posts/7b51a00c/</url>
      
        <content type="html"><![CDATA[<p>今天早上的课果断没有去，据说老师对今天做展示的小组非常不满意。但是我们小组是下星期展示，所以还有时间改报告。等改完的出来之后再做PPT吧。</p><p>下午倒是去上毛概了，这一节是大家说自己从三年的思政课里得到了什么的课。居然还真有内鬼举报了老师，简直憨中之憨。然后这个人发表意见之后，我们班的某个老姐也上去说话了，她下来之后那个脑瘫还和她battle，结果被噎得说不出话，臭弟弟。</p><p>放学之后去了图书馆，把剩下的一点点公司理财第六讲结局了，然后开始看毛概。毛概单看不太给力，不过倒是看穿了套路，需要的是记关键词，所以买了幕布的会员方便导出——为人民服务！</p><p>晚上没有劝动living一起回家，所以明天是只用买两个人的票就行了。</p><p>中午拿到了快递，回宿舍贴膜。宿舍太多毛和尘，冬天静电大，屏幕总是吸住尘，结果成了最烂的贴膜。又不是不能用……</p><p>今天在校道上看见之前见过的母猫带着她的小猫们在玩。母猫还是一如既往的趴在阳光很好的地方，偶尔朝人喵喵一下。四只猫仔里面黑色毛的那只是最活泼的，总是追着其他的玩；黑黄混色的猫仔也比较喜欢玩，和黑色的追着玩（甚至上树了）；其他两只倒是很乖巧。</p>]]></content>
      
      
      <categories>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win7苟延残喘系列|更新根证书</title>
      <link href="/posts/8b9a3475/"/>
      <url>/posts/8b9a3475/</url>
      
        <content type="html"><![CDATA[<p>虽然Win7是个老古董了，但是在某些时候还是比win10更能解决问题。其他东西都可以凑合着用旧的，但是根证书这种东西还是需要好好更新的，现在找到的一个办法是靠win10的certutil来生成roots.sst，然后导入win7。</p><p>用win10的powershell，运行<code>certutil.exe -generateSSTFromWU roots.sst</code>，然后把生成的roots.sst复制到U盘上，到win7上打开mmc添加管理单元，“计算机帐户”添加一个证书管理单元，然后在<strong>受信任的根证书颁发机构</strong>里打开“证书”，删掉原来所有的，再右键“证书”，导入roots.sst就好了。</p><p><a href="http://woshub.com/updating-trusted-root-certificates-in-windows-10/">参考</a></p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> win7 </tag>
            
            <tag> windows </tag>
            
            <tag> 根证书 </tag>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 30</title>
      <link href="/posts/857e3998/"/>
      <url>/posts/857e3998/</url>
      
        <content type="html"><![CDATA[<p>sed实在是比atom在替换文本方面快太多了，基本是秒的速度。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>惊天大瓜</title>
      <link href="/posts/53264316/"/>
      <url>/posts/53264316/</url>
      
        <content type="html"><![CDATA[<p>雷总和林兆宇在一起了……太强了</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
            <tag> 多嘴 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>atom报错找不到uncrustify</title>
      <link href="/posts/b66b03d5/"/>
      <url>/posts/b66b03d5/</url>
      
        <content type="html"><![CDATA[<p>今天看书的时候无意间打开了之前写的一个C程序，按保存的时候突然报错找不到uncrustify。再三确认uncrustify不仅安装了还是安装的最新版本的情况下，甚至指定了绝对路径，atom还是不认。网上搜的全都是“你肯定没有安装，装一个就好”。</p><p>思考再三，感觉和之前的dhcpcd 8.1事件有点类似。首先降级了atom到1.40.1，发现问题没有解决。然后把uncrustify从0.70.0降级到0.69.0，问题就解决了。所以结论就是最新版的uncrustify是有问题的。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
            <tag> atom </tag>
            
            <tag> bug </tag>
            
            <tag> uncrustify </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>体测第二天</title>
      <link href="/posts/69a4f65e/"/>
      <url>/posts/69a4f65e/</url>
      
        <content type="html"><![CDATA[<p>简直是地狱，腹肌大腿肩膀全都痛得不行，人都傻了……</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 29</title>
      <link href="/posts/e5b9b07d/"/>
      <url>/posts/e5b9b07d/</url>
      
        <content type="html"><![CDATA[<p>只是隔了两条街的两家星巴克，风格差异非常大。在海龙大厦的星巴克，基本都是开电脑在办公的商务人士或者学生；而食宝街入口的星巴克，吹比的占了大多数，就比较吵闹。 不是对人有什么偏见，但是吹比的瞎几把吹就很尴尬。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 28</title>
      <link href="/posts/92be80eb/"/>
      <url>/posts/92be80eb/</url>
      
        <content type="html"><![CDATA[<p>这些屑演都不演的，直接就走了。trash。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 吐槽 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 27</title>
      <link href="/posts/2019d7a/"/>
      <url>/posts/2019d7a/</url>
      
        <content type="html"><![CDATA[<p>虽然zdnet的<a href="https://www.zdnet.com/article/around-62-of-all-internet-sites-will-run-an-unsupported-php-version-in-10-weeks/">文章</a>去年十月就说php 5.6在去年12月就会停止支持，很多网站都面临风险；但是php 7对内存的要求高了很多，对于穷鬼来说根本负担不起；更何况即使内存可以压缩出来空间，但是网站底层组件升级不是所谓的“一键升级”就能做好的，会遇到各种bug——比如nextcloud就会因为php升级直接暴毙（白屏）——修复又需要很多时间——最好的情况是捣鼓一轮就重新运行起来了，最差的情况是要重新建立用户和数据库，重新扫描文件（又是你，nextcloud！）——对于非企业用户来说，个人用户很多时候是懒得花这个时间的。有时候技术人员只顾着“安全”和它们自己的“利益”而忽略了用户的“利益”的话，想做的事情是不会按照预想的达成的。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
            <tag> 吐槽 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 26</title>
      <link href="/posts/7506adec/"/>
      <url>/posts/7506adec/</url>
      
        <content type="html"><![CDATA[<p>今天陪living进城，要去的医院对面就是民族剧院，她看见它的时候兴奋得不得了，虽然还是先去干正事了但是眼里放光那是真的。 <a href="https://wordpress.huaj.tk/wp-content/uploads/2019/11/%E6%B0%91%E6%97%8F%E5%89%A7%E9%99%A2.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/11/%E6%B0%91%E6%97%8F%E5%89%A7%E9%99%A2-300x225.jpg"></a></p><p>民族剧院的隔壁就是人民教育出版社，小时候只在课本的封面看见过的名字，这次是真的见到了。 <a href="https://wordpress.huaj.tk/wp-content/uploads/2019/11/%E4%BA%BA%E6%95%99%E5%87%BA%E7%89%88%E7%A4%BE.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/11/%E4%BA%BA%E6%95%99%E5%87%BA%E7%89%88%E7%A4%BE-300x200.jpg"></a></p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 22</title>
      <link href="/posts/726b69f5/"/>
      <url>/posts/726b69f5/</url>
      
        <content type="html"><![CDATA[<p>用惯了游戏鼠标，重带来的沉稳的感觉，鼠标键的清脆和适量阈值，还有这两个配合起来的按键不会让整个鼠标都飞来飞去的效果，实在是离不开了。罗技的那只无线鼠标轻是轻，但是手感是烂得一匹。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>咖啡机滤纸</title>
      <link href="/posts/c11eb656/"/>
      <url>/posts/c11eb656/</url>
      
        <content type="html"><![CDATA[<p>经过不知道多少天的快递（大概4天），从房山寄出来的滴漏式咖啡机的滤纸终于到了。收到取货码的小刘第一次周末主动下床，跑去拿了快递。回来之后发现没有冷水或者温水，只有饮水机99度无敌开水，只好拿咖啡壶装一壶等凉。1个小时之后终于能够开始泡咖啡了，滤纸撑开刚好塞进滤网里面，再倒点咖啡粉——滤纸那个锥形影响了判断，也算是节省咖啡粉的“物理”方法吧——插上电就开始泡。装进去满一壶的凉白开，出来蒸发了三分之一。滤纸的效果还是很牛逼的，没有咖啡渣——真的一点都没有——而且就算加的咖啡粉没有以前多，味道也得劲了。最重要是泡完直接把滤纸提起来扔掉就可以了，咖啡渣不会粘在滤网上难清洗。方便就是好事，方便才能有泡的动力√爽到。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 25</title>
      <link href="/posts/ec0ffc56/"/>
      <url>/posts/ec0ffc56/</url>
      
        <content type="html"><![CDATA[<p>过于懒惰，但是因为摊太久了，听见外边的篮球声，决定去跑步</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 24</title>
      <link href="/posts/9b08ccc0/"/>
      <url>/posts/9b08ccc0/</url>
      
        <content type="html"><![CDATA[<p>今日巨坑：Java的sleep是毫秒的，不像C的是秒的。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> 菜鸡程序员 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 23</title>
      <link href="/posts/56c5963/"/>
      <url>/posts/56c5963/</url>
      
        <content type="html"><![CDATA[<p>昨天跑步，见到了大二的体育老师，聊了一下，发现下一届虽然大一就能选足球篮球之类的课，但是大二就不能选和大一一样的课了，所以足球班里很多大一是打篮球的。老师也抱怨说不知道管理层在想什么。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日小记</title>
      <link href="/posts/7b51a00c/"/>
      <url>/posts/7b51a00c/</url>
      
        <content type="html"><![CDATA[<p>今天上午的课去倒是去了，但是只坚持到听完DOL和DEL就撑不住了，所以大概只记得讲的是财务杠杆和什么杠杆……嗯，还是听了课的啦。至于晚上的投资银行学，毕竟都是展示课，所以直接就没听了。记忆倒还剩一点吧，大概是讲价值股和成长股的……管他呢。</p><p>今天把毛概的文章给抄了，但是照片和校历还是没看。然后拍了点新的照片，一片银杏叶不知道怎么就粘在树干上了，有点好玩，就拍下来了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日小记</title>
      <link href="/posts/7b51a00c/"/>
      <url>/posts/7b51a00c/</url>
      
        <content type="html"><![CDATA[<p>最近偷懒了，相片没有调色，饮料也因为肠胃不好没有继续评。明天先把相片调好色放上来。</p><p>今天早上因为晚上睡觉的时候睡一下就起床拉肚子，整晚没有休息好，又没有去上产业经济学。明明是自己最不擅长的数学类课程，态度却是最不认真的，恐怕这就是我心里不安的来源吧。同样的也有星期五晚上的固定收益证券。虽然很有自信能够自己学会之前的东西，把期末考试考过，但是总是有一种“今天好像又犯下了什么罪行”的感觉。可能在规则内行动的约束力之一就是违反规则的不安感吧。</p><p>今天还和好久没有说话的李奕慧聊了一下心情，被她疏导一下感觉轻松了很多。所以人还是需要朋友听自己说话的……或者说是我这种不能孤独的人十分需要这样的人吧。</p><p>今天还把毛概的文章基本写出来了，明天就把它抄到纸上吧。明天还要看一看校历，把放假时间告诉元创的那个女人。拖了这么久都没有做的事情，虽然人家也不怎么可能记得了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dhcpcd 8.1的bug</title>
      <link href="/posts/79a8627c/"/>
      <url>/posts/79a8627c/</url>
      
        <content type="html"><![CDATA[<p>还找不到原因是什么，只要是联网之后过一段时间，就会dhcpcd进程占100%CPU，kill都kill不掉。reddit上voidlinux也遇到了这个问题，现在只有降级才能避免问题。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>秋天</title>
      <link href="/posts/889488cf/"/>
      <url>/posts/889488cf/</url>
      
        <content type="html"><![CDATA[<p><a href="https://cloud.huaj.tk/index.php/s/dxwmn3Cnm75pX25/preview"><img src="https://cloud.huaj.tk/index.php/s/dxwmn3Cnm75pX25/preview"></a></p><p>又到了叶子变黄的时候。今天下午看见阳光大好，看窗外的时候发现楼下的一棵树在已经西斜的太阳的金黄色光渲染下真的成了黄金树，所以拿起相机出门逛了逛。收获不多，大的拍了一棵树，小的拍了一条枝，也算是不错的收获了。</p><p><a href="https://cloud.huaj.tk/index.php/s/PgdqSeJXod35fnd/preview"><img src="https://cloud.huaj.tk/index.php/s/PgdqSeJXod35fnd/preview"></a></p>]]></content>
      
      
      <categories>
          
          <category> 日常 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 秋天 </tag>
            
            <tag> 黄叶 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>饭堂饮料测评3</title>
      <link href="/posts/cb55ba83/"/>
      <url>/posts/cb55ba83/</url>
      
        <content type="html"><![CDATA[<p><a href="https://cloud.huaj.tk/index.php/s/3psc6TZpdegnkEd/preview"><img src="https://cloud.huaj.tk/index.php/s/3psc6TZpdegnkEd/preview"></a></p><p>用舍友的话来评价就是“这个5块钱就等于2块钱”，意思是味道淡得跟两块钱的矿泉水一样。虽然喝起来还是有一点茶味的，但是重点是没有区别，和之前的<a href="http://www.huaj.tk/2019/10/793/">饭堂饮料试饮1</a>的乌龙茶味道几乎一样。</p>]]></content>
      
      
      <categories>
          
          <category> 日常 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 太监系列 </tag>
            
            <tag> 饮料 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nextcloud|php_fileinfo</title>
      <link href="/posts/897c5767/"/>
      <url>/posts/897c5767/</url>
      
        <content type="html"><![CDATA[<p>虽然应该是很久之前就做过同样的事情，但是已经忘记了，所以还是得重新写下来。Nextcloud搬家完之后会推荐装fileinfo模块，如果用的是lnmp的一键包，就要去到src目录下面，把php的源代码包解压缩，然后cd进ext目录，就会看见fileinfo模块的源码目录，然后是：</p><p>/usr/local/php/bin/phpize<br>./configure –with-php-config=/usr/local/php/bin/php-config<br>make &amp;&amp; make install</p><p>然后需要在php.ini里面把</p><p>extension=fileinfo.so</p><p>那一行取消注释。然后restart一下lnmp就可以了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nextcloud </tag>
            
            <tag> fileinfo </tag>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日摸鱼</title>
      <link href="/posts/a9b63c8c/"/>
      <url>/posts/a9b63c8c/</url>
      
        <content type="html"><![CDATA[<p>今天就是摸鱼了，明天再写测评3</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>饭堂饮料试饮|2</title>
      <link href="/posts/91b1d25c/"/>
      <url>/posts/91b1d25c/</url>
      
        <content type="html"><![CDATA[<p><a href="https://wordpress.huaj.tk/wp-content/uploads/2019/10/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191022204741-2.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/10/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191022204741-2-225x300.jpg"></a>这支水溶C卖5块，虽然根据喝完之后的嘴里留下的感觉知道是有糖的，但是口感巨酸——不管是真的维生素C还是柠檬汁还是只是配出来的酸味，就是很有直接恰柠檬的感觉。如果不喜欢酸的话还是别买了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 太监系列 </tag>
            
            <tag> 饮料 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>饭堂饮料试饮|1</title>
      <link href="/posts/8b883e6/"/>
      <url>/posts/8b883e6/</url>
      
        <content type="html"><![CDATA[<p><a href="https://wordpress.huaj.tk/wp-content/uploads/2019/10/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191022204121.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/10/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191022204121-225x300.jpg"></a></p><p>这个乌龙茶卖5块，口感比较淡，接近无糖饮料的，但是稍有甜味，有一点点康师傅茉莉花茶的那种甜。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 太监系列 </tag>
            
            <tag> 饮料 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用PlayOnLinux装Office 2010的改进方法</title>
      <link href="/posts/f2d5258/"/>
      <url>/posts/f2d5258/</url>
      
        <content type="html"><![CDATA[<p>之前用PlayOnLinux（简称POL）来安装Office 2010的时候，OneNote总是作怪，隔几分钟就崩溃，实在是没法用。当时迫不得已，<a href="http://www.huaj.tk/2019/09/18/sievelau/734/">用wine直接装</a>，用了一段时间，但是某次系统大更新，把wine升级了之后，OneNote就没办法调出中文输入法，又废掉了。结果只能回来研究POL怎么安装才能搞定。直接按照流程来做的话，因为国内网络的问题，十有八九会在下载包的过程中断开连接而fail掉。但是即使是丢了一些包，竟然还能打得开，所以就有了手动修复依赖包的想法。浏览到<a href="https://www.playonlinux.com/en/app-801-Microsoft_Office_2010.html">POL论坛的Office2010</a>的安装script（附在文章结尾了），依赖包有<code>dotnet20 gecko corefonts gdiplus riched20 riched30 msxml6 mspatcha</code>。</p><p><a href="https://wordpress.huaj.tk/wp-content/uploads/2019/10/1571551612859.png"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/10/1571551612859.png"></a>所以如果fail了，点开POL的“配置”，选中Office2010，然后“安装内容”里面先把<code>dotnet20</code>和它的sp1、sp2安装上，然后<code>corefonts</code>对应的是Microsoft Core Fonts，剩下的包名字都能找到，就不多说了。</p><p><a href="https://wordpress.huaj.tk/wp-content/uploads/2019/10/1571551845614.png"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/10/1571551845614.png"></a>安装完还要在“Wine”标签页里面配置Wine，在“函数库”里面确保<code>gdiplus mspatcha riched20 riched30 msxml6</code>全都有而且设置成了“原装优先于内建”（native,builtin）。<a href="https://wordpress.huaj.tk/wp-content/uploads/2019/10/1571551962089.png"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/10/1571551962089.png"></a>最后还需要在“杂项”标签页里选择“在此虚拟盘中运行可执行文件”，把Office 2010的SP1补丁安装上。之后Office就能顺利运行啦。如果掉不出输入法，记得把环境变量LANG设置成zh_CN.UTF-8，而且环境变量已经设置好fcitx作为输入法模块。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">  </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> CHANGELOG</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> [Quentin PÂRIS] (2012-05-05 14-45)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   Wine version <span class="built_in">set</span> to 1.5.3, Outlook 2010 compatiblity</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> [Quentin PÂRIS] (2012-05-05 15-05)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   Check winbind (samba) presence on Linux, required to install</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   Adding gettext support</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> [Quentin PÂRIS] (2012-05-12 18-36)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   Requires 4.0.18</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> [SuperPlumus] (2013-06-09 14-44)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   gettext</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> [Quentin PÂRIS] (2014-07-21 17-09)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   Updating with the latest WineHQ version</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> [rbelo] (2018-07-22 15-50)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   Updating with the latest stable WineHQ version (3.0.2), ver 1.7.52 does not seem to work.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> [Mrjacobarussell] (2018-09-25 20-50)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Updating missing dotnet20 , gdiplus, gecko, corefonts, msxml6</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> [diogoborges14] (2018-12-01)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   mspatcha</span></span><br><span class="line"> </span><br><span class="line">[ &quot;$PLAYONLINUX&quot; = &quot;&quot; ] &amp;&amp; exit 0</span><br><span class="line">source &quot;$PLAYONLINUX/lib/sources&quot;</span><br><span class="line">  </span><br><span class="line">PREFIX=&quot;Office2010&quot;</span><br><span class="line">WINEVERSION=&quot;3.0.2&quot;</span><br><span class="line">TITLE=&quot;Microsoft Office 2010&quot;</span><br><span class="line">  </span><br><span class="line">POL_GetSetupImages &quot;http://files.playonlinux.com/resources/setups/Office/top.jpg&quot; &quot;http://files.playonlinux.com/resources/setups/Office/left.png&quot; &quot;$TITLE&quot;</span><br><span class="line">  </span><br><span class="line">POL_SetupWindow_Init</span><br><span class="line">POL_SetupWindow_SetID 801</span><br><span class="line">  </span><br><span class="line">POL_SetupWindow_presentation &quot;$TITLE&quot; &quot;Microsoft&quot; &quot;http://www.microsoft.com&quot; &quot;Quentin PÂRIS&quot; &quot;$PREFIX&quot;</span><br><span class="line">  </span><br><span class="line">POL_RequiredVersion 4.0.18  POL_Debug_Fatal &quot;$TITLE won&#x27;t work with $APPLICATION_TITLE $VERSION\nPlease update&quot;</span><br><span class="line">  </span><br><span class="line">if [ &quot;$POL_OS&quot; = &quot;Linux&quot; ]; then</span><br><span class="line">        wbinfo -V  POL_Debug_Fatal &quot;Please install winbind (or samba, on Arch Linux) before installing $TITLE&quot;</span><br><span class="line">fi</span><br><span class="line">POL_Debug_Init</span><br><span class="line">POL_System_SetArch &quot;x86&quot;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">POL_SetupWindow_InstallMethod &quot;LOCAL,DVD&quot;</span><br><span class="line">  </span><br><span class="line">if [ &quot;$INSTALL_METHOD&quot; = &quot;DVD&quot; ]; then</span><br><span class="line">        POL_SetupWindow_cdrom</span><br><span class="line">        POL_SetupWindow_check_cdrom &quot;x86/setup.exe&quot; &quot;setup.exe&quot;</span><br><span class="line">        SetupIs=&quot;$CDROM_SETUP&quot;</span><br><span class="line">        cd &quot;$CDROM&quot;</span><br><span class="line">else</span><br><span class="line">        POL_SetupWindow_browse &quot;$(eval_gettext &#x27;Please select the setup file to run&#x27;)&quot; &quot;$TITLE&quot;</span><br><span class="line">        SetupIs=&quot;$APP_ANSWER&quot;</span><br><span class="line">fi</span><br><span class="line">  </span><br><span class="line">POL_Wine_SelectPrefix &quot;$PREFIX&quot;</span><br><span class="line">POL_Wine_PrefixCreate &quot;$WINEVERSION&quot;</span><br><span class="line">  </span><br><span class="line">if [ &quot;$POL_OS&quot; = &quot;Mac&quot; ]; then</span><br><span class="line">    # Samba support</span><br><span class="line">    POL_Call POL_GetTool_samba3</span><br><span class="line">    source &quot;$POL_USER_ROOT/tools/samba3/init&quot;</span><br><span class="line">fi</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">POL_Wine_WaitBefore &quot;$TITLE&quot;</span><br><span class="line">[ &quot;$CDROM&quot; ] &amp;&amp; cd &quot;$CDROM&quot;</span><br><span class="line">  </span><br><span class="line">if [ ! &quot;$(file $SetupIs  grep &#x27;x86-64&#x27;)&quot; = &quot;&quot; ]; then</span><br><span class="line">    POL_Debug_Fatal &quot;$(eval_gettext &quot;The 64bits version is not compatible! Sorry&quot;)&quot;;</span><br><span class="line">fi</span><br><span class="line">POL_Wine &quot;$SetupIs&quot;</span><br><span class="line">POL_Wine_WaitExit &quot;$TITLE&quot;</span><br><span class="line">POL_Call POL_Install_dotnet20</span><br><span class="line">POL_Call POL_Install_gecko</span><br><span class="line">POL_Call POL_Install_corefonts</span><br><span class="line">POL_Call POL_Install_gdiplus</span><br><span class="line">POL_Call POL_Install_riched20</span><br><span class="line">POL_Call POL_Install_riched30</span><br><span class="line">POL_Call POL_Install_msxml6</span><br><span class="line">POL_Call POL_Install_mspatcha</span><br><span class="line"><span class="meta">#</span><span class="bash"> See http://forum.winehq.org/viewtopic.php?f=8&amp;t=23126&amp;p=95555<span class="comment">#p95555</span></span></span><br><span class="line">POL_Wine_OverrideDLL &quot;native,builtin&quot; &quot;riched20&quot;</span><br><span class="line">POL_Wine_OverrideDLL &quot;native,builtin&quot; &quot;riched30&quot;</span><br><span class="line">POL_Wine_OverrideDLL &quot;native,builtin&quot; &quot;gdiplus&quot;</span><br><span class="line">plsy </span><br><span class="line"><span class="meta"> </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Fix a crash when loading a file</span></span><br><span class="line"> </span><br><span class="line">  </span><br><span class="line">POL_Shortcut &quot;WINWORD.EXE&quot; &quot;Microsoft Word 2010&quot; &quot;&quot; &quot;&quot; &quot;Office;WordProcessor;&quot;</span><br><span class="line">POL_Shortcut &quot;EXCEL.EXE&quot; &quot;Microsoft Excel 2010&quot; &quot;&quot; &quot;&quot; &quot;Office;Spreadsheet;&quot;</span><br><span class="line">POL_Shortcut &quot;POWERPNT.EXE&quot; &quot;Microsoft Powerpoint 2010&quot; &quot;&quot; &quot;&quot; &quot;Office;Presentation;&quot;</span><br><span class="line">POL_Shortcut &quot;ONENOTE.EXE&quot; &quot;Microsoft OneNote 2010&quot; &quot;&quot; &quot;&quot; &quot;Network;InstantMessaging;&quot; # No category for collaborative work?</span><br><span class="line">POL_Shortcut &quot;OUTLOOK.EXE&quot; &quot;Microsoft Outlook 2010&quot; &quot;&quot; &quot;&quot; &quot;Network;Email;&quot; # Calendar;ContactManagement; ? :p</span><br><span class="line">  </span><br><span class="line">POL_Extension_Write doc &quot;Microsoft Word 2010&quot;</span><br><span class="line">POL_Extension_Write docx &quot;Microsoft Word 2010&quot;</span><br><span class="line">POL_Extension_Write xls &quot;Microsoft Excel 2010&quot;</span><br><span class="line">POL_Extension_Write xlsx &quot;Microsoft Excel 2010&quot;</span><br><span class="line">POL_Extension_Write ppt &quot;Microsoft Powerpoint 2010&quot;</span><br><span class="line">POL_Extension_Write pptx &quot;Microsoft Powerpoint 2010&quot;</span><br><span class="line">  </span><br><span class="line">if [ &quot;$POL_OS&quot; = &quot;Mac&quot; ]; then</span><br><span class="line">    POL_Shortcut_InsertBeforeWine &quot;Microsoft Word 2010&quot; &quot;source \&quot;$POL_USER_ROOT/tools/samba3/init\&quot;&quot;</span><br><span class="line">    POL_Shortcut_InsertBeforeWine &quot;Microsoft Excel 2010&quot; &quot;source \&quot;$POL_USER_ROOT/tools/samba3/init\&quot;&quot;</span><br><span class="line">    POL_Shortcut_InsertBeforeWine &quot;Microsoft Powerpoint 2010&quot; &quot;source \&quot;$POL_USER_ROOT/tools/samba3/init\&quot;&quot;</span><br><span class="line">    POL_Shortcut_InsertBeforeWine &quot;Microsoft OneNote 2010&quot; &quot;source \&quot;$POL_USER_ROOT/tools/samba3/init\&quot;&quot;</span><br><span class="line">    POL_Shortcut_InsertBeforeWine &quot;Microsoft Outlook 2010&quot; &quot;source \&quot;$POL_USER_ROOT/tools/samba3/init\&quot;&quot;</span><br><span class="line">fi</span><br><span class="line">  </span><br><span class="line">POL_SetupWindow_message &quot;$(eval_gettext &#x27;$TITLE has been installed successfully\n\nIf an installation Windows prevent your programs from running, you must remove and reinstall $TITLE&#x27;)&quot; &quot;$TITLE&quot;</span><br><span class="line">POL_SetupWindow_Close</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
            <tag> office </tag>
            
            <tag> office2010 </tag>
            
            <tag> playonlinux </tag>
            
            <tag> pol </tag>
            
            <tag> 乱搞 </tag>
            
            <tag> 微软确有可借鉴之处 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日小记</title>
      <link href="/posts/7b51a00c/"/>
      <url>/posts/7b51a00c/</url>
      
        <content type="html"><![CDATA[<p>今天进城吃了一顿饭，是石中在央财的人的惯例聚餐。顺便明天是其中一个师兄的生日，所以买了蛋糕一起吃。蛋糕吃起来不错，只是有点融了，所以底有点掉了——所以切蛋糕分的时候非常困难，倒是出了不少搞笑的事情，吐槽寿星公手艺太差。</p><p>同行的妹子对于某位师弟比较忽略我们、不尊重我们这一届有点不高兴，而且因为师兄们太厉害了，所以她比较焦虑。所以另一个妹子和我安慰了她一路。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
            <tag> 出行 </tag>
            
            <tag> 日常 </tag>
            
            <tag> 聚餐 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据结构|linked list</title>
      <link href="/posts/e7b4b974/"/>
      <url>/posts/e7b4b974/</url>
      
        <content type="html"><![CDATA[<p>linked list的元素是node，每个分成data和指向下一个node的reference两部分，而linked list这个变量只拥有head这个元素，head元素指向第一个node．</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/10/VirtualBox_Win10_14_10_2019_16_38_59-e1571042523286-1024x311.png"></p><p>需要记住的是最后一个元素的reference指向的是null，可以通过这个来判断是否到了列表的结尾。</p><p>因为head只有指向第一个元素的ref，所以在头部插入node的时候一定要：先把要插入的node的ref指向原来的第一个node，然后再把head指向新的node；否则原来的整个链都会丢失．</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>《乡土社会》摘抄</title>
      <link href="/posts/7fce81/"/>
      <url>/posts/7fce81/</url>
      
        <content type="html"><![CDATA[<p>让我先说明，礼治社会并不是指文质彬彬……礼并不带有“文明”、或是“慈善”、或是“见了人点个头”、不穷凶极恶的意思。礼也可以杀人，可以很“野蛮”。</p><p>礼是社会公认合式的行为规范。……礼却不需要这有形的权力机构来维持。维持礼这种规范的是传统。……如果我们对行为和目的之间的关系不加推究，只按着规定的方法做，而且对于规定的方法带着不这样做就会有不幸的信念时，这套行为也就成了我们普通所谓“仪式”了。……礼并不是靠一个外在的权力来推行的，而是从教化中养成了个人的敬畏之感，使人服膺；人服礼是主动的。……礼则有甚于道德：如果失礼，不但不好，而且不对、不合、不成。</p><p>礼治的可能必须以传统可以有效地应付生活问题为前提。乡土社会满足了这前提，因之它的秩序可以用礼来维持。在一个变迁很快的社会，传统的效力是无法保证的。</p>]]></content>
      
      
      <categories>
          
          <category> 阅读 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 阅读 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日小记</title>
      <link href="/posts/7b51a00c/"/>
      <url>/posts/7b51a00c/</url>
      
        <content type="html"><![CDATA[<p>凌晨的时候拉肚子，然后躺到两点半都还没睡着。早上半人半鬼，听课也只记得什么“NPV”“IRR”和“MIRR”，都是用来评价投资项目的好坏的。如果是期限不一样的，还有最小公倍数延长和固定年金法来对比。然后中午吃完饭回来睡到两点半就去探索天际省了。今天的外国新闻是NBA的高管说支持莫雷的港独言论，所以央妈直接停播NBA赛事。晚上的投资银行学老师又在吹逼，一点没听就打麻将，只知道作业要做（抄ppt）第1345题就对了。</p><p>明天必须要做公司理财的作业了，大概是抄财务报表分析的作业就好了。应该很快的。安安。</p>]]></content>
      
      
      <categories>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 21</title>
      <link href="/posts/eb62384f/"/>
      <url>/posts/eb62384f/</url>
      
        <content type="html"><![CDATA[<p>今天和舍友去西直门的日本半自助火锅吃饭，加了5次肉（1次1斤），每次都是一样来一份（all in），吃到腻了之后叫甜品，叫了3轮，感觉都要被这家店拉黑了2333333</p><p>但是吃完肉之后，吃第一个巧克力雪糕的时候突然幸福感爆棚，就像clannad里面刻海星的女主那样冒星星</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 20</title>
      <link href="/posts/9c6508d9/"/>
      <url>/posts/9c6508d9/</url>
      
        <content type="html"><![CDATA[<p>本来对魔趣的印象挺不错的，但是无论是windows还是linux，无论是firefox还是chromium，即使把ublock orgin关掉也还是没办法在网页版下载固件；更何况手机版的app更新如果下载全量包总会卡死在96%，然后fail了还没有断点续传，像个憨批一样，所以只能走邪道了。</p><p>首先要参考<a href="https://www.htcp.net/4306.html">大佬的文章</a>，但是时代变了，搜索的是“gen_link”，然后key也变成了filename。总体思路不变，开发者模式里Elements找到gen_link，在Console里面用：  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(&#x27;$.post(&quot;/gen\_link&quot;,&#123;filename:&quot;1e6f1f2c6892f49a5c68103fcd59f679&quot;&#125;,function(data, status) &#123;alert(&quot;下载链接：&quot; + data);&#125;);&#x27;,59000)</span><br></pre></td></tr></table></figure><p>在19年9月27日，稍微阅读一下gen_link附近的js就能够理解，需要的是弹出框里的data，拼接成<a href="https://rom.mk/f/**_data_**%EF%BC%8C%E6%94%BE%E5%88%B0aria2c%E6%88%96%E8%80%85%E4%BB%80%E4%B9%88%E4%B8%8B%E8%BD%BD%E5%99%A8%E9%87%8C%E9%9D%A2%E5%B0%B1%E5%8F%AF%E4%BB%A5%E5%85%A8%E9%80%9F%E4%B8%8B%E8%BD%BD%E4%B8%8B%E6%9D%A5%E4%BA%86%E3%80%82">https://rom.mk/f/**_data_**，放到aria2c或者什么下载器里面就可以全速下载下来了。</a></p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>用inotifywait和rsync同步文件夹</title>
      <link href="/posts/ca9faae9/"/>
      <url>/posts/ca9faae9/</url>
      
        <content type="html"><![CDATA[<p>只需要一条命令就可以了：</p><p>while inotifywait -r -e modify,create,delete /源目录; do<br>    rsync -avz /源目录 /目标目录<br>done</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 19</title>
      <link href="/posts/ce94e3be/"/>
      <url>/posts/ce94e3be/</url>
      
        <content type="html"><![CDATA[<p>和栗子一起在珠海买的u形枕放进洗衣机一直浮在水面，好尴尬</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>今日小记</title>
      <link href="/posts/7b51a00c/"/>
      <url>/posts/7b51a00c/</url>
      
        <content type="html"><![CDATA[<p>宿舍澡堂的双排位日益增加，想起大一的时候西区的宿舍经历过一轮计费器的更新，更新之前好多位置都是能够不插卡就出水，那时候蹭了好多，换掉之后有一段时间没有这种位置了，但是过了半个学期又有了，可能是水汽太重，腐蚀比较厉害。</p><p>搬到东区的那个晚上，从高铁赶回学校已经八点多，回到宿舍发现暑假没有人住所以宿舍水汽也很厉害，到处发霉，只能马上把东西搬到东区新宿舍。大包小包，头顶床垫，袋子的带子勒脖子，搬完已经十一点，虽然理论上已经没有热水了，但是千里迢迢回北京，还满身大汗搬家，即使是冷水也要去拼一拼——结果一插卡，热水淋头……那个澡是有史以来最幸福的澡，直到现在都记忆犹新。</p><p>可惜澡堂永远逃不开水，隔间板子的脚最先沦陷，然后外皮也掉了，在缝隙里甚至长出了蘑菇。不断地衰败，然后被更新，然后衰败，就是循环。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>今日小记</title>
      <link href="/posts/7b51a00c/"/>
      <url>/posts/7b51a00c/</url>
      
        <content type="html"><![CDATA[<p>有时候会想写下一些即时的心态感想，但是感觉又没什么意义。没有意义是因为心总是向往着光明，向往着积极的，所以把一时的负面记忆写下也没有什么意义。以后也不会再体会到当时的心境，也不会有相同的感受，只不过留下了未来的疑惑，甚至是厌恶。可是平时写下的文字又过于平淡，平淡得深刻地打下了“我”的烙印。美的总是悲剧。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>两周年纪念</title>
      <link href="/posts/82da35cb/"/>
      <url>/posts/82da35cb/</url>
      
        <content type="html"><![CDATA[<p>今天是我和栗子谈恋爱两周年的日子。因为恋爱开始的时间是这么一个即将开学的日子，所以每年都是带这一点不舍的心情来庆祝的。去年的今天我们一起看了一场电影，然后一起逛街、吃饭，就各回各家各找各妈了，就像平常出门约会一样没什么特别的。这其实也是我们的心态，无论是远在海角天涯还是近到触手可及，只要爱着对方而且对方知道就可以了，不用讲求形影不离——还是求学奔波的年纪，现在都从异地恋变成异国恋了，说什么”天天在一起“怕不是在想peach。</p><p>说了那么多大道理，来说点小事。</p><p>既然栗子是在珠海读书，那我去找她玩肯定是在珠海附近的。珠海没有地铁，公交车司机开车很猛，以”今天不是你甩出车外就是电池没电“的架势大油门大刹车。然而本人在北京可是背着十公斤书包都能不扶杆子乘地铁的，北京地铁的骚轨道有哪条是省油的灯？无论公交车有多妖，我就是人形扶手，栗子根本不用扶杆子，抓住我就安全了。</p><p>虽然这么说，遇上节假日堵车的话我就会逐渐不耐烦，如果饿了那就更容易暴躁，栗子就总是要安抚我，也是很辛苦的。依靠公交车，我和栗子几乎玩遍了珠海，最后发现华发商圈对面的一家牛杂火锅是最好吃的，物美价廉的，48块一个锅就超多东西吃了，额外点的也是份量很足——所以第一次点了100多块的东西吃到撑都清不了，那是真的too young。</p><p>珠海隔壁的澳门我们也去过。即使澳门不如香港热门，关口依然人山人海，我们花了几近两个小时才过关，然后马上又排队差不多一小时才坐上巴士进城。</p><p>第一次进入“资本主义世界”的阿刘被赌场的奢华迷得晕头转向，连连感叹这里的有钱人才真正知道有钱该怎么玩；而早就在英国留学过的栗子表示，只要有钱，不走出这栋楼都能活一辈子——赌场只是整座建筑的一小部分，二楼是类似佛罗伦萨小镇的购物层，二楼往上是酒店，一楼也有餐厅，衣食住都给你一站式解决。所以小刘一路“哇哇哇”的被栗子带着“开眼界”，然而两个人都没够21岁，无法领略赌徒们的风采。</p><p>穷鬼离开赌场只能去看看澳门屈指可数的几个景点。澳门公交车司机都是一身故事的神人，说话又好听，超喜欢在车里面的：</p><blockquote><p>你看路那么窄，日日塞车，那些做官的怎么会不知道啊！你们说要有路走，那就修一条给你们咯。他们才不在乎塞车，人家下班都有警车开路的。</p><p>香港好就好在名字好，香港喔，好香的啊！去买东西给亲戚，说是香港买的，很香的啊，容易交代嘛！你在澳门买，又不香，怎么够威。</p></blockquote><p>车还是要下的，结果渔人码头只是另一个佛罗伦萨小镇，大失所望。澳门毕竟地方小，景点之间用走的就行，之后我们去看了澳门牌坊。回去关口的路我选择带着她看着地图走。</p><p>天空下起了雨，南方的雨说下就下成泼水一样，伞下只有那么一点地方，基本就是各湿一半；人行道很窄，骑楼只有那么一点，走路就是不断贴着商家的门口走过，市井气息扑面而来。带着她在下雨天的澳门街道上走的时候，我想，在最喜欢的下雨天里牵着最喜欢的人的手回家，所谓幸福就是这样子吧～要是能一直这样就好了……</p><p>上面说的都是在一起的时候做的事情。至于异地的时候，其实就是看见什么搞笑的东西就分享给对方看，什么沙雕表情包、鬼畜视频之类的，一起开心一下。学业繁重，电话也不是天天打，视频聊天更是从来没有过——前置摄像头那么烂，本来挺好看一个人都给拍丑了，还是不要视频了。</p><p>虽然异地的时间很长，但是长时间的分离让小聚的幸福感无限放大。只要有个盼头，人就不会轻易放弃。一年很长也很短，下一年的这个时候栗子就回国了。到时再说吧～</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>今日琐碎</title>
      <link href="/posts/99aa7c50/"/>
      <url>/posts/99aa7c50/</url>
      
        <content type="html"><![CDATA[<p>今天很多小虫羽化了，追着光飞。体育场耀眼的灯光成了昆虫的聚集地。书包放在灯柱下，人去跑一圈回来，书包已经成了虫子们的落脚处。</p><p>蟪蛄不知春秋，短暂的一生只是为了生命循环的话，意义是什么呢。</p>]]></content>
      
      
      <categories>
          
          <category> 奇怪的想法 </category>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java 运行shell命令然后读取结果</title>
      <link href="/posts/2e6fc87f/"/>
      <url>/posts/2e6fc87f/</url>
      
        <content type="html"><![CDATA[<p><a href="http://www.codecodex.com/wiki/Execute_an_external_program_and_capture_the_output">Execute an external program and capture the output</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String argv[])</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">try</span> &#123;  </span><br><span class="line">      String line;  </span><br><span class="line">      Process p = Runtime.getRuntime().exec  </span><br><span class="line">        (System.getenv(<span class="string">&quot;windir&quot;</span>) +<span class="string">&quot;\\system32\\&quot;</span>+<span class="string">&quot;tree.com /A&quot;</span>);  </span><br><span class="line">      BufferedReader input =  </span><br><span class="line">        <span class="keyword">new</span> BufferedReader  </span><br><span class="line">          (<span class="keyword">new</span> InputStreamReader(p.getInputStream()));  </span><br><span class="line">      <span class="keyword">while</span> ((line = input.readLine()) != <span class="keyword">null</span>) &#123;  </span><br><span class="line">        System.out.println(line);  </span><br><span class="line">      &#125;  </span><br><span class="line">      input.close();  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">catch</span> (Exception err) &#123;  </span><br><span class="line">      err.printStackTrace();  </span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java GUI 定时刷新</title>
      <link href="/posts/43474df0/"/>
      <url>/posts/43474df0/</url>
      
        <content type="html"><![CDATA[<p>用到Timer。<a href="https://stackoverflow.com/questions/19727449/java-how-to-update-a-panel-every-second">Java - How to update a panel every second</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Timer timer = new Timer(1000, new ActionListener() &#123;</span><br><span class="line"></span><br><span class="line">@Override</span><br><span class="line">public void actionPerformed(ActionEvent arg0) &#123;</span><br><span class="line">l.setText(new Date().toString());</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">timer.start();</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> GUI </tag>
            
            <tag> Timer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java正则表达式</title>
      <link href="/posts/4ea1809c/"/>
      <url>/posts/4ea1809c/</url>
      
        <content type="html"><![CDATA[<p>测试和生成表达式的网站：<a href="https://www.sojson.com/regex/generate">https://www.sojson.com/regex/generate</a></p><p>Matcher的matches()方法只在整个String都匹配的时候才是true，如果要匹配的是String中的某一部分，就要用find()。</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> regex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日的探索</title>
      <link href="/posts/15704159/"/>
      <url>/posts/15704159/</url>
      
        <content type="html"><![CDATA[<p>tp_smapi已经去世了，如果安装只会导致systemd-modules-load在启动的时候报错。</p><p>只需要用内核自带的thinkpad_acpi就可以了，一样可以控制充电阈值。</p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
          <category> Linux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
            <tag> thinkpad_acpi </tag>
            
            <tag> tp_smapi </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一些乱想</title>
      <link href="/posts/244dcfd3/"/>
      <url>/posts/244dcfd3/</url>
      
        <content type="html"><![CDATA[<p>因为思念，所以即使路途遥远、一路艰辛，也要风尘仆仆赶到心上人身边。牵着她的手，仿佛得到了整个世界，时间也在刹那间停顿。时间已经不重要了，只要她开心，也会由着她的性子到处转转。节假日，人的海洋，摩肩擦踵，汗流浃背，也愿意在“资本主义世界的大门前”等待个把时辰。或者，在冷凝水乱洒的巴士上逐渐晕车，也要去市里玩耍。真好呐。曾经觉得，她在身边，灵魂都会被吸走；现在却发觉，原来她在身边，我才真正是“我”。</p>]]></content>
      
      
      <categories>
          
          <category> 奇怪的想法 </category>
          
          <category> 日常 </category>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
            <tag> 恋爱 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日记事本</title>
      <link href="/posts/e816e42d/"/>
      <url>/posts/e816e42d/</url>
      
        <content type="html"><![CDATA[<p>查查财经类院校有什么硕士，然后看看都是读什么的，决定好以后的方向。</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Cloudflare CDN</title>
      <link href="/posts/30ce45c7/"/>
      <url>/posts/30ce45c7/</url>
      
        <content type="html"><![CDATA[<p>因为各种原因要用到CDN，所以记下来步骤。</p><p>CDN用的是<a href="https://cloudflare.com/">https://cloudflare.com</a>，毕竟是免费的。注册一下，然后按照指示会自动扫描域名的dns记录，如果要让cloudflare作CDN就要把云的颜色按成橙色。然后按照提示，去域名提供商的管理界面把dns服务器改成cloudflare的。</p><p>也需要配置SSL，在Crypto里调整，把第一条改成full（strict），因为服务器已经有了Lets的证书。下面的HSTS之类的开关看情况开。</p><p>最后就是等了，等到cloudflare接管dns和ssl证书签完就可以了。再访问网站，所有的流量都会经过cloudflare的服务器了。</p><p>安全当然是安全了一点，但是效果就是网站的速度变慢了，毕竟cloudflare的服务器在国外。</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cdn </tag>
            
            <tag> 服务器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日50mm</title>
      <link href="/posts/d534213/"/>
      <url>/posts/d534213/</url>
      
        <content type="html"><![CDATA[<p><a href="https://wordpress.huaj.tk/wp-content/uploads/2019/05/DSC00840.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/05/DSC00840.jpg"></a> <a href="https://wordpress.huaj.tk/wp-content/uploads/2019/05/DSC00850.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/05/DSC00850.jpg"></a> <a href="https://wordpress.huaj.tk/wp-content/uploads/2019/05/DSC00853.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/05/DSC00853.jpg"></a></p>]]></content>
      
      
      <categories>
          
          <category> 日常 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 摄影 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>长焦镜的尝试</title>
      <link href="/posts/3f98989a/"/>
      <url>/posts/3f98989a/</url>
      
        <content type="html"><![CDATA[<p><a href="https://wordpress.huaj.tk/wp-content/uploads/2019/05/DSC00817.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/05/DSC00817.jpg"></a></p>]]></content>
      
      
      <categories>
          
          <category> 日常 </category>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 摄影 </tag>
            
            <tag> 夏初 </tag>
            
            <tag> 花 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于“跨专业谈恋爱是什么感受”</title>
      <link href="/posts/f80c99a5/"/>
      <url>/posts/f80c99a5/</url>
      
        <content type="html"><![CDATA[<p>女朋友是英语专业——虽然感觉应该是主修西班牙语辅修英语；我的话是金融学。一个是纯文科专业，一个是偏理科的专业，这专业跨得算大了。</p><p>简单来说，日常交流里很多话需要“翻译”，用对方能听懂的词汇来说话。比如她如果要给我讲西方的某个历史事件，如果片段比较短，那可以直接复制给我看，我也能看懂；但是如果文段里有很多生僻词（对非英语专业学生来说），我会和她说“不懂欸”，然后她就会翻译一下——毕竟是翻译学院嘛。而如果是我遇到什么专业课想要告诉她，对于专业名词一般直接用定义解释一次就好了，但是如果情况更复杂，就要加上一些例子才行。</p><p>如果是专业之外的其他知识，比如她会的钢琴，我懂的电脑，同样的也是“翻译”。有时候聊天里就她会突然问“钢琴有一个踏板是用来降低声音的哦”然后让我猜，然后再告诉我答案。如果是我要给她解释一些电脑的道理的话，就要说一些生活化的例子，比如TCP的三次握手就要解释成“听见吗”的例子。</p><p>思考的方式也会有不一样。不过比较经典就是了，她的思考方式比较文科，比较感性一点；我的思考方式比较“经济学”，“理性人”一点。</p><p>其实很多感觉是混合了人的因素在里面的，毕竟恋爱是和人谈的，不是和专业谈的。</p>]]></content>
      
      
      <categories>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 18</title>
      <link href="/posts/b993d328/"/>
      <url>/posts/b993d328/</url>
      
        <content type="html"><![CDATA[<p>可怜的多肉已经超时两天没有喝水了</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>今日份服务器调整</title>
      <link href="/posts/2fddf513/"/>
      <url>/posts/2fddf513/</url>
      
        <content type="html"><![CDATA[<p>之前忘了调强制301 https跳转，今天想起来想要做，但是发现了新的做法：在index.php里添加跳转代码，而不是在nginx的conf文件里添加，可以节省资源：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!((<span class="keyword">isset</span>(<span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTPS&#x27;</span>])&amp;&amp;<span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTPS&#x27;</span>]==<span class="string">&#x27;on&#x27;</span>)(<span class="keyword">isset</span>(<span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTP_X_FORWARDED_PROTO&#x27;</span>])&amp;&amp;<span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTP_X_FORWARDED_PROTO&#x27;</span>]==<span class="string">&#x27;https&#x27;</span>)))&#123; Header(<span class="string">&quot;HTTP/1.1 301 Moved Permanently&quot;</span>); header(<span class="string">&#x27;Location: https://&#x27;</span>.<span class="variable">$_SERVER</span>[<span class="string">&#x27;SERVER_NAME&#x27;</span>].<span class="variable">$_SERVER</span>[<span class="string">&#x27;REQUEST_URI&#x27;</span>]); &#125;</span><br></pre></td></tr></table></figure><p>参考：<a href="https://blog.csdn.net/muzi187/article/details/78789441">CSDN PHP代码http跳转到https</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>log4j2 与 maven</title>
      <link href="/posts/a0829f9/"/>
      <url>/posts/a0829f9/</url>
      
        <content type="html"><![CDATA[<p>参考</p><ul><li>  <a href="https://blog.csdn.net/autfish/article/details/51203709">CSDN详解log4j2(上) - 从基础到实战</a></li><li>  <a href="https://stackoverflow.com/questions/46276400/intellij-idea-wont-find-log4j2-xml-after-maven-build">stackoverflowIntelliJ IDEA won’t find log4j2.xml after maven build</a></li><li>  <a href="https://blog.csdn.net/xiao__gui/article/details/47341385">CSDNMaven生成可以直接运行的jar包的多种方式</a></li></ul><h3 id="log4j-2-maven"><a href="#log4j-2-maven" class="headerlink" title="log4j 2 maven"></a>log4j 2 maven</h3><p>在pom.xml里添加：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.11.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.11.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="log4j2-xml"><a href="#log4j2-xml" class="headerlink" title="log4j2.xml"></a>log4j2.xml</h3><p>在src/main目录下新建一个文件夹resources，在里面新建一个log4j2.xml，并_右键resources ➤ Mark Directory as ➤ Resources Root_。由CSDN的参考链接添加以下配置到log4j2.xml：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Configuration</span> <span class="attr">status</span>=<span class="string">&quot;WARN&quot;</span> <span class="attr">monitorInterval</span>=<span class="string">&quot;300&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;LOG_HOME&quot;</span>&gt;</span>/var/log<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;FILE_NAME&quot;</span>&gt;</span>Thermal<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Appenders</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Console</span> <span class="attr">name</span>=<span class="string">&quot;Console&quot;</span> <span class="attr">target</span>=<span class="string">&quot;SYSTEM_OUT&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;%d&#123;HH:mm:ss.SSS&#125; [%t] %-5level %logger&#123;36&#125; - %msg%n&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Console</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">RollingRandomAccessFile</span> <span class="attr">name</span>=<span class="string">&quot;MyFile&quot;</span></span></span><br><span class="line"><span class="tag">                                 <span class="attr">fileName</span>=<span class="string">&quot;$&#123;LOG_HOME&#125;/$&#123;FILE_NAME&#125;.log&quot;</span></span></span><br><span class="line"><span class="tag">                                 <span class="attr">filePattern</span>=<span class="string">&quot;$&#123;LOG_HOME&#125;/$$&#123;date:yyyy-MM&#125;/$&#123;FILE_NAME&#125;-%d&#123;yyyy-MM-dd HH-mm&#125;-%i.log&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">pattern</span>=<span class="string">&quot;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%t] %-5level %logger&#123;36&#125; - %msg%n&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Policies</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">TimeBasedTriggeringPolicy</span> <span class="attr">interval</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">SizeBasedTriggeringPolicy</span> <span class="attr">size</span>=<span class="string">&quot;10 MB&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Policies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">DefaultRolloverStrategy</span> <span class="attr">max</span>=<span class="string">&quot;20&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RollingRandomAccessFile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Appenders</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Loggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Logger</span> <span class="attr">name</span>=<span class="string">&quot;mylog&quot;</span> <span class="attr">level</span>=<span class="string">&quot;trace&quot;</span> <span class="attr">additivity</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">&quot;MyFile&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Logger</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Root</span> <span class="attr">level</span>=<span class="string">&quot;error&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">&quot;Console&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Loggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意更改”LOG_HOME”和”FILE_NAME”后面的内容来配置log文件的位置。</p><h3 id="编译时带上log4j2-xml"><a href="#编译时带上log4j2-xml" class="headerlink" title="编译时带上log4j2.xml"></a>编译时带上log4j2.xml</h3><p>需要在pom.xml拥有这么一段内容：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">targetPath</span>&gt;</span>$&#123;project.build.directory&#125;/classes<span class="tag">&lt;/<span class="name">targetPath</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/log4j2.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="程序内使用log4j"><a href="#程序内使用log4j" class="headerlink" title="程序内使用log4j"></a>程序内使用log4j</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Logger logger = LogManager.getLogger(<span class="string">&quot;mylog&quot;</span>);</span><br></pre></td></tr></table></figure><p>注意mylog是在log4j2.xml里面的Loggers标签定义的。</p><h3 id="打包成一个可运行jar包"><a href="#打包成一个可运行jar包" class="headerlink" title="打包成一个可运行jar包"></a>打包成一个可运行jar包</h3><p>pom.xml里添加依赖：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-assembly-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">archive</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>com.xxg.Main<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">archive</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">descriptorRef</span>&gt;</span>jar-with-dependencies<span class="tag">&lt;/<span class="name">descriptorRef</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意把“<mainClass>”标签里的com.xxg.Main改成自己的有main函数的class的名字（全路径）。</p><p>然后用</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package assembly:single</span><br></pre></td></tr></table></figure><p>就可以打包了。</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> log4j </tag>
            
            <tag> maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>五一小记</title>
      <link href="/posts/109d80d0/"/>
      <url>/posts/109d80d0/</url>
      
        <content type="html"><![CDATA[<p>五一的四天呐，真的是非常开心的哦。本来五一才回到的，但是一时起意，发现可以改签早一天回来；而且和妹子说了之后她也好高兴，所以就决定早一天回来啦。</p><p>所以29号开始就魂不守舍了，去完外边采访之后回到宿舍睡觉觉，甚至连金工课都不去啦。结果晚上写了一晚上报告，要不是心里想着“明天就回去啦”可能就写不动了呢。</p><p>30号早上睡了舒舒服服的觉，到八点半才起床收拾东西。然后就直接跑去北京西了。还好路上不多人，很多人还要上班。在火车上昏昏沉沉就睡过去了，中间吃了两个方便面，然后晚上勉勉强强睡着，就到第二天了。结果火车还晚点了。然而路盲的妹子问我在哪里出站，但是我是不知道的呀，所以就只能让她在地铁站里等一等，然后我去找她。还好没让她出来，她拖着个箱子还是下雨天会很麻烦的啦。虽然不知道怎么做到的，但是我竟然一次就找到她了，可能是心灵感应啦。</p><p>回到中大南校，先去肯德基吃了一顿早饭（还被抢走了原味鸡），接着坐岐关车回珠海。虽然车需要绕路去东校接其他人，但是比起五一塞半天在路上已经是非常节省时间了。妹子还吐槽都开了一个小时了怎么还在广州emmmm……</p><p>到了珠海先入住酒店。初看之下是个好酒店，有天窗，采光很棒；洗澡间是石头地板，触感也很棒。但是确实就是个酒店，和酒店式公寓差远了——沐浴露什么的就是一小瓶的，插座也好少……还有地板莫名其妙很滑就像是抹了洗洁精、排气扇不能独立控制所以洗澡之后风一阵一阵的有点冷、隔音很差甚至还有各种噪音就不说了；一整晚都没休息好。但是稍微洗澡之后被带去了上课，把我放到了自习室里她就去上历史课。中大竟然还有自习室，真的厉害诶！然后因为怕羞，所以没有去参加她的第二节课喵。下课之后因为我不想吃外卖，所以就想进城吃饭；结果车站一万个人，车上也一万个人，根本上不去；只好去饭堂看看。然而一是时间不早了，二是饭堂阿姨们也一心想着放假，结果只能在清真饭堂吃到牛肉饺子——虽然真的好好吃✔。晚上走回酒店的时候被带着去图书馆看了一下，虽然不够中财的图书馆漂亮，但是也是很不错的啦（比起南校的，这个气派一点）。路上还在鸡山村里转了一下，其实如果有时间是会想转多几圈的。</p><p>五一直接睡了个大懒觉，接着回中大，她要打印东西啦～但是大家都休息了，所以就只能叫了一个她最喜欢的外卖吃吃（竟然地址可以填哪一座的自动贩卖机上面的诶，好神奇）。然后就去入住新的酒店，稍微休息一下之后出门去华发商圈。但是路上好堵呀，饿肚子的喵喵好容易生气，所以就发脾气了……到地方之后没有去本来想去的大广场吃吃，倒是拉着喵喵突然间跑到了烧烤街吃牛杂火锅。然而我们没有想到48块的锅底已经有了牛杂萝卜之类的东西，所以还加了其他料，结果就吃撑了。她的愿望清单里的“牛肉火锅”变成了“牛杂火锅”，但是也吃得好开心～吃完之后我们去了对面的大商场逛逛了，然后买了奶茶还吃了雪糕，然后就回程啦。</p><p>五二的话不能睡懒觉，早早起床出发去澳门。但是虽然早起了，公交车还是很多人，口岸也好多人，换外汇的地方也是好多人。绕来绕去两个多小时才过了关，但是又花了一小时才去到澳门威尼斯人……节假日真的太多人了。威尼斯人一进去就有一种纸醉金迷的感觉呢，很奢华……核心只是一个赌场，但是赌场的面积占比很少——而且竟然要21岁才能进，被拒了呢✖。妹子说，赌场这种东西，其实就会有酒店、购物商场配套在一起，只要有钱，来赌场的人是不用出这个门的——所以我们就只能转转商店那一层了。真的精致，真的有钱，真的是奢华……一层楼很高，弄成欧式风格（什么佛罗伦萨小镇的类型）；还有河，河里还有人给你撑船……简直进大观园orz。然后我们就坐公交车去渔人码头。公交车很贵，是环线，上车就6块钱，而且司机还会拒载（即使有人下车了，还是不会开前门让人上车）。司机和一些乘客谈笑风生，但是我和妹子闹矛盾了……其实主要还是饿就会发脾气这个毛病。问题是作为一个习惯了内地物价的、极度节俭的人，我是绝对不能接受在澳门吃东西的……结果就变成了几乎一直在生气，还是循环生气的那种，妹子都不想理我了。后来过马路的时候因为习惯了内地的车流方向，所以差点被车撞死，还好被妹子拉住了。去完渔人码头，我们就走过去牌坊那里。然后我看着高德地图变成人肉导航器，带着妹子不走正路直接穿到了牌坊旁边的大炮台上面——看见牌坊广场那么多人，我们决定在大炮台上面拍拍照就算了。启程回去的时候又是下雨，所以发现了资本主义的问题：人行道窄得连两个人撑伞面对面走过去都不够位。但是借着骑楼，淋雨没有特别多。澳门还有一个特点是车会很礼貌地让人。而且因为路窄，所以行人过马路也很快，对交通效率的影响不是特别大。但是内地的路那么宽，车那么多，还是不能像澳门那样推行车让人的制度的。在回去关口的时候，路过一个葬礼的地方；似乎那个人很有地位，很多有权有势的人（什么电视厅领导啊社保局局长之类的）都送了花圈。算是见识了一次达官贵人逝世的葬礼有多大排面。晚上去必胜客吃了一顿，还是挺贵的。</p><p>五三又睡了大懒觉，然后去尝试了一下妹子心心念念的拉面。拉面一般般，比不过广州的豚一。然后我们步行去日月贝（就是珠海的大剧院啦，建成了一个扇贝的样子）。上一次回来我们走了名亭公园的一边，这一次走了名亭公园的另一边，好开心。这次走着“社会主义的康庄大道”，感觉真的是中国牛逼！没有买某个剧的票，所以只是随便看看剧场的外形。大半天的时间倒是花在了逛公园上。日月贝的岛叫野狸岛，有一条环岛公路，整个岛都是公园。我们沿着公园的沿海步道逛，中间还停下来吃果冻，看着从澳门的方向开过来的游艇从灰蒙蒙的雾霾里逐渐出现，颇有一种“资本主义被迷雾笼罩”的感觉。自从体育考试之后就放弃了运动导致脚力很差，所以只是走了半个环线就上山抄近路回去了。晚上虽说要吃烧烤，但是还是在那家串串店吃了一下就收工了。摇呀摇的坐车回中大，吃到了饭堂的雪糕，超级好吃！还便宜！我成柠檬精啦！</p><p>五月四号退了房之后回中大吃饭堂，结果二楼还是没有开，所以吃了牛肉拉面（怎么又是清真！）又吃了雪糕，然后出发去关口——珠海站在关口附近。下车站在摩尔广场——这名字太鬼畜了，一楼在进行中国好声音海选（很多人真的很有勇气诶唱歌那么完蛋都敢上台）。时间还早，我们去沃尔玛逛了一圈，为晚上的睡觉买了一个U形枕，接着妹子在买早餐的时候我看上了法棍，感觉晚上能吃✔。晚餐是烤鱼，比较辣，所以以后都不会带她过来吃了。接着生死时速跑过去上车。哭哭咧就坐车离开啦。</p><p>六月会见面的哦～</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游记 </tag>
            
            <tag> 恋爱 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nextcloud解决file locked问题</title>
      <link href="/posts/ea7ba07e/"/>
      <url>/posts/ea7ba07e/</url>
      
        <content type="html"><![CDATA[<p>参考：<a href="https://help.nextcloud.com/t/file-is-locked-how-to-unlock/1883">File is locked - how to unlock</a></p><p>首先ssh进shell，把config/config.php里面的<code>&#39;maintenance&#39; =&gt; false,</code>改成<code>&#39;maintenance&#39; =&gt; true,</code>（没有这一行就添上）。 然后进phpadmin，选中nextcloud的数据库，执行SQL命令：<code>DELETE FROM oc_file_locks WHERE 1</code> 然后再把<code>&#39;maintenance&#39; =&gt; true,</code>改回false。</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nextcloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>回忆碎片</title>
      <link href="/posts/231676da/"/>
      <url>/posts/231676da/</url>
      
        <content type="html"><![CDATA[<p>看见电视里说上海推进垃圾分类，想起以前小区门口会有一个收买纸皮箱、旧报纸的人，我们家的旧报纸扎一起就会卖给她。好像已经很久没有见过她了。 又想起以前每天的新报纸都会放在沙发上，正对电视机的位置。</p>]]></content>
      
      
      <categories>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 17</title>
      <link href="/posts/292cceb9/"/>
      <url>/posts/292cceb9/</url>
      
        <content type="html"><![CDATA[<p>有些东西还是选择不知道比较好。知道了徒增烦恼。</p>]]></content>
      
      
      <categories>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 16</title>
      <link href="/posts/5e2bfe2f/"/>
      <url>/posts/5e2bfe2f/</url>
      
        <content type="html"><![CDATA[<p><a href="https://wordpress.huaj.tk/wp-content/uploads/2019/04/DSC00756.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/04/DSC00756.jpg"></a> 简直超值好吗！</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>nextcloud-snap转成from-source的nextcloud</title>
      <link href="/posts/aa98c20/"/>
      <url>/posts/aa98c20/</url>
      
        <content type="html"><![CDATA[<p>参考： * <a href="https://github.com/nextcloud/nextcloud-snap/wiki/Migrating-from-nextcloud-snap-to-Nextcloud-server">Migrating from nextcloud snap to Nextcloud server</a> * <a href="http://www.cnblogs.com/peida/archive/2013/03/15/2960802.html">每天一个linux命令（60）：scp命令</a> * <a href="https://websiteforstudents.com/setup-nextcloud-on-ubuntu-18-04-lts-beta-with-apache2-mariadb-and-php-7-1-support/">Setup NextCloud on Ubuntu 18.04 LTS with Apache2, MariaDB and PHP 7.1 Support</a></p><h1 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h1><p>一台装了nexcloud-snap的服务器A；一台有足够空间装下前者保存的所有文档的服务器B。</p><h1 id="导出备份"><a href="#导出备份" class="headerlink" title="导出备份"></a>导出备份</h1><h2 id="导出数据库"><a href="#导出数据库" class="headerlink" title="导出数据库"></a>导出数据库</h2><p>在A上执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nextcloud.mysqldump &gt; my-old-nextcloud.sql</span><br></pre></td></tr></table></figure><p>导出数据库。然后scp把这个文件发到B。</p><h2 id="备份文件"><a href="#备份文件" class="headerlink" title="备份文件"></a>备份文件</h2><p>nextcloud-snap的文件在</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/var/snap/nextcloud/common/nextcloud/data/</span><br></pre></td></tr></table></figure><p>里，所以用scp把这个文件夹传输到B。scp的语法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -r local_folder remote_username@remote_ip:remote_folder  </span><br></pre></td></tr></table></figure><h1 id="装nextcloud"><a href="#装nextcloud" class="headerlink" title="装nextcloud"></a>装nextcloud</h1><h2 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h2><p>重装A的系统，用lnmp一键包装lamp，数据库用MariaDB，PHP选7以上。然后lnmp vhost add添加原来的域名，但是不新建数据库。</p><p>接下来创建nextcloud用的数据库：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line">CREATE DATABASE nextcloud;</span><br><span class="line">CREATE USER &#x27;nextclouduser&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;yourpassword&#x27;;</span><br><span class="line">GRANT ALL ON nextcloud.* TO &#x27;nextclouduser&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;yourpassword&#x27; WITH GRANT OPTION;</span><br><span class="line">FLUSH PRIVILEGES;</span><br><span class="line">EXIT;</span><br></pre></td></tr></table></figure><p>然后从B把数据库备份scp回来，并且导入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p nextcloud &lt; my-old-nextcloud.sql</span><br></pre></td></tr></table></figure><h2 id="部署nextcloud"><a href="#部署nextcloud" class="headerlink" title="部署nextcloud"></a>部署nextcloud</h2><p>nextcloud的最新release在<a href="https://download.nextcloud.com/server/releases">这里</a>看，一般来说下载链接应该是<a href="https://download.nextcloud.com/server/releases/latest.zip">latest.zip</a>。喜欢在哪个目录保存这个包没所谓，wget下来：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://download.nextcloud.com/server/releases/latest.zip</span><br></pre></td></tr></table></figure><p>unzip之后把nextcloud目录里的所有东西搬到_/home/wwwroot/域名_里面，记得把隐藏文件比如.htaccess带上。然后chown改一下wwwroot的所有者信息。</p><h1 id="恢复备份"><a href="#恢复备份" class="headerlink" title="恢复备份"></a>恢复备份</h1><p>从B那里把备份的文件夹scp到网站域名下面，和nextcloud其他的文件同级，然后chown恢复一下所有者信息。</p><p>然后就可以输入网站域名打开了。一上来可能会让你新建一个管理员帐号，同时下面可以选用什么数据库，记得选MariaDB，输入对应的帐号密码和nextcloud数据库名字。管理员帐号的名字不能和迁移之前的那个一样。</p><p>因为之前导入了数据库的备份，所以可能会什么都输好了但是爆炸了，这样的话就要重新设置一次nextclouduser的密码了：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select host,user,password from mysql.user where user=&#x27;nextclouduser&#x27;</span><br><span class="line"></span><br><span class="line">set password for &#x27;nextclouduser&#x27;@&#x27;localhost&#x27;=password(&#x27;密码&#x27;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>就没问题了。</p><h1 id="后遗症"><a href="#后遗症" class="headerlink" title="后遗症"></a>后遗症</h1><ul><li>  之前登录的所有客户端都要重新登录</li><li>  nextcloud-snap上的app数据不会丢失但是需要从官方库重新安装一次</li><li>  iOS、Android的客户端会疯狂尝试登录，然后被服务器屏蔽IP 30秒，所以先退出客户端的登录，然后等半分钟再重新授权就好了。</li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nextcloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日感想</title>
      <link href="/posts/4ac0bd24/"/>
      <url>/posts/4ac0bd24/</url>
      
        <content type="html"><![CDATA[<p>突如其来的，星期六好多人宣布脱单了。柳絮纷飞的季节里，大家都心动了呢。可是如何让不开心的人不会因为与气氛格格不入而消沉呢，怎么做到让别人为别人获得幸福而开心呢。人可能只能改变自己。人只能自己拯救自己呢。</p><hr><p>可是今天的我只是浑浑噩噩地答了三份不会及格的试卷，因为早就知道会加重到今天这个地步的感冒而再次就医。也就做了这两件事而已。</p>]]></content>
      
      
      <categories>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日编程感想</title>
      <link href="/posts/9deb1a2f/"/>
      <url>/posts/9deb1a2f/</url>
      
        <content type="html"><![CDATA[<p>原来一直用C写的温控，但是想实现的很多功能都做不到——主要是C学得一点毛皮就开始写——但是习惯了Java想要什么功能就有什么包，以及成熟的IDE（好吧就是我智障总是写bug），所以决定改写成Java版本的。但是之前一直习惯了C和Linux的紧密相连，思路也是shell的思路，所以在Java里面也下意识想要用Process类的exec()来执行echo命令——风扇控制、频率限制都是通过写入文件来实现的。实际上因为exec()并不是一个shell，所以这样做是不行的。要想写入文件，还是要通过正式的FileWriter等类来实现。</p><p>现在剩下的问题是怎么在IDE里实现用root权限测试程序，不然每次都要去terminal里sudo真是很烦恼。</p><p>参考了： <a href="http://www.runoob.com/java/java-filewriter.html">Java FileWriter类</a> <a href="http://www.runoob.com/java/java-filereader.html">Java FileReader类</a> <a href="https://blog.csdn.net/liuweiyuxiang/article/details/69487326">CSDN Java将字符串写入文件与将文件内容读取到字符串</a> <a href="https://www.techiedelight.com/convert-char-array-string-java/">Techie Delight Convert char array to String in Java</a> <a href="https://blog.csdn.net/fesdgasdgasdg/article/details/73556109">CSDN intellij idea 导出可执行jar</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Thread.sleep;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Thermal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] tempSteps = &#123;<span class="number">48</span>, <span class="number">50</span>, <span class="number">55</span>, <span class="number">60</span>, <span class="number">70</span>, <span class="number">80</span>, <span class="number">84</span>, <span class="number">90</span>&#125;;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Boolean freqLimitOn = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">temperatureReader</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] temp = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">2</span>];</span><br><span class="line">        FileReader reader0 = <span class="keyword">new</span> FileReader(<span class="keyword">new</span> File(<span class="string">&quot;/sys/class/thermal/thermal_zone0/temp&quot;</span>));</span><br><span class="line">        FileReader reader1 = <span class="keyword">new</span> FileReader(<span class="keyword">new</span> File(<span class="string">&quot;/sys/class/thermal/thermal_zone1/temp&quot;</span>));</span><br><span class="line"></span><br><span class="line">        reader0.read(temp);</span><br><span class="line">        <span class="keyword">int</span> temp0 = Integer.parseInt(String.valueOf(temp));</span><br><span class="line">        reader1.read(temp);</span><br><span class="line">        <span class="keyword">int</span> temp1 = Integer.parseInt(String.valueOf(temp));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ((temp0 &gt;= temp1) ? temp0 : temp1);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">fancontroller</span><span class="params">(<span class="keyword">int</span> level)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">&quot;/proc/acpi/ibm/fan&quot;</span>, <span class="keyword">false</span>);</span><br><span class="line">        fw.write(<span class="string">&quot;level &quot;</span> + level);</span><br><span class="line">        fw.flush();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">levelJudge</span><span class="params">(<span class="keyword">int</span> temperature)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = tempSteps.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (temperature &gt;= tempSteps[i]) &#123;</span><br><span class="line">                fancontroller(i);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">freqLimitSetter</span><span class="params">(<span class="keyword">long</span> freq)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        FileWriter fw;</span><br><span class="line">        String filepath;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">7</span>; i++) &#123;</span><br><span class="line">            filepath = String.format(<span class="string">&quot;/sys/devices/system/cpu/cpufreq/policy%d/scaling_max_freq&quot;</span>, i);</span><br><span class="line">            fw = <span class="keyword">new</span> FileWriter(filepath, <span class="keyword">false</span>);</span><br><span class="line">            fw.write(<span class="string">&quot;&quot;</span> + freq);</span><br><span class="line">            fw.flush();</span><br><span class="line">            fw.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">freqthrottle</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ((temperatureReader() &gt; <span class="number">84</span>) &amp;&amp; !freqLimitOn) &#123;</span><br><span class="line">            freqLimitSetter(<span class="number">2100000</span>);</span><br><span class="line">            freqLimitOn = <span class="keyword">true</span>;</span><br><span class="line">            System.out.println(<span class="string">&quot;limited cpu freq&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (freqLimitOn) &#123;</span><br><span class="line">            freqLimitSetter(<span class="number">3500000</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;unlimited cpu freq&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Thermal thermal = <span class="keyword">new</span> Thermal();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">                thermal.levelJudge(temperatureReader());</span><br><span class="line">                thermal.freqthrottle();</span><br><span class="line">                sleep(<span class="number">5000</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException  IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日琐碎</title>
      <link href="/posts/99aa7c50/"/>
      <url>/posts/99aa7c50/</url>
      
        <content type="html"><![CDATA[<p>今天早上的计量课因为想到会计学快要考试了，所以选择了在宿舍看书。就是翘课。所以会计学了收入和所有者权益两章，今晚可能看不完费用了。</p><hr><p>出门的时候还有电，回来就停电了，还越来越过分。本来只是所有房间没电，后来连门禁和水泵都断电了。生活没有电真是很不方便呢。</p><hr><p>下午的体育课直接考一千米。本来中午拿了咖啡粉准备泡咖啡，结果没电只能冲点速溶来替代了。上道之前就已经很紧张了，起跑的时候更是倒数。毕竟是考试，导致呼吸节奏已经非常难配合了。但是一开始跑得慢，到最后一百多米发现自己力气还够，所以开始加速冲刺，成功挽救到及格。</p><p>结果就是躺床上休息了一个小时才恢复过来。</p><p>醒过来之后宿舍来电了，刚好泡一壶咖啡，感觉和在家里喝的一样开心呢。</p>]]></content>
      
      
      <categories>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>咖啡机泡茶</title>
      <link href="/posts/a348f6ea/"/>
      <url>/posts/a348f6ea/</url>
      
        <content type="html"><![CDATA[<p>生日的时候栗子送了一只咖啡机，虽然需要用限功率的插座才能在宿舍里用，但是还是非常方便的。昨天终于把从高三喝到大二的一罐子绿茶给喝完了，和室友分享真的很开心，特别是他们也觉得好喝。然后今天开了铁观音。第一泡出来的时候真的好香啊。超喜欢喝茶了现在。</p>]]></content>
      
      
      <categories>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日琐碎</title>
      <link href="/posts/99aa7c50/"/>
      <url>/posts/99aa7c50/</url>
      
        <content type="html"><![CDATA[<p>没有什么特别的事情发生。</p><hr><p>和妈妈讨论了一番之后觉得，即使考不过也要努力学，做到问心无愧才行。同时的话主课也是不能丢的，所以要挤时间来尽力学了。</p><hr><p>后天考一千米。体力已经恢复到能不丢人的地步了，但是及格就是妄想了。所以尽力吧。</p>]]></content>
      
      
      <categories>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>毛概-课堂笔记</title>
      <link href="/posts/4670fb8e/"/>
      <url>/posts/4670fb8e/</url>
      
        <content type="html"><![CDATA[<h1 id="序"><a href="#序" class="headerlink" title="序"></a>序</h1><p>主要内容：</p><ol><li>中国化的马克思主义</li><li>马克思主义中国化实现了两次历史性飞跃：（十三大、十五大）</li><li>三大板块<ol><li> 站起来（毛泽东思想）</li><li> 富起来（邓小平理论、三个代表、科学发展观）</li><li> 强起来（习近平新时代中国特色社会主义思想）</li><li> 挨打</li><li> 挨饿</li><li> 挨骂（话语权）</li></ol></li><li>革命、社会主义、坚持和发展中国特色社会主义</li><li>14章（习近平新时代中国特色社会主义思想7章）</li></ol><h1 id="毛泽东思想的科学内涵"><a href="#毛泽东思想的科学内涵" class="headerlink" title="毛泽东思想的科学内涵"></a>毛泽东思想的科学内涵</h1><p>毛泽东思想的形成与发展：20年代末30年代初（延安时期），成熟于土地革命战争后期和抗日战争时期（35年毛泽东在党中央的领导地位）</p><p>概念提出：</p><ol><li>41年张如心，毛泽东同志的思想</li><li>43.7.5王稼祥，毛泽东思想；中国的共产主义，中国的马列主义，与本国现实、本国革命经验相结合的理论</li><li>六届七中（党的会议的提出）：《关于若干历史问题的决议》</li><li>七大（45.6.14）把毛泽东思想写入党章……指导思想</li><li>八大（56）没有提毛泽东思想：苏联不同意</li><li>十一届六中（81.6），《关于建国以来党的若干历史问题的决议》</li><li>十二大（82.9）：毛泽东思想是马列注意在中国的运用和发展，是被实践证明了的关于中国革命<strong>和建设的</strong>正确的理论原则和经验总结，是中国共产党集体智慧的结晶<ol><li>正确回答了毛泽东思想与马列主义基本原理的关系<ol><li>马列主义是毛的理论基础（立场、观点、方法）<ol><li> 立场：人民的立场</li><li> 方法：唯物辩证法</li></ol></li><li>毛是中国化的、形成了自己的科学体系的马‘<ol><li> 六个关于</li><li> 三个活的灵魂</li></ol></li></ol></li><li>正确回答了毛泽东思想同中国革命和建设具体实践的关系<ol><li> 如果没有<strong>特殊国情</strong>，没有中共<strong>领导革命和建设的实践</strong>，就不可能有毛泽东思想</li><li> 毛泽东思想是指引中国革命和建设实践取得胜利的指针。</li></ol></li><li>正确回答了<strong>毛泽东个人</strong>和党的领导集体在创立、形成和发展毛泽东思想过程中的地位和作用<ol><li> 是以毛泽东为主要代表的中国共产党人创立的，是党的<strong>集体智慧</strong>的结晶。毛泽东是<strong>杰出代表</strong>。</li><li> 毛选4卷是毛泽东思想的集中体现</li></ol></li><li>把作为党的指导思想的毛泽东思想与毛泽东晚年的错误理论区分开来<ol><li> 毛泽东晚年的错误（无产阶级专政下继续革命的错误理论）和毛泽东思想是两个范畴</li></ol></li></ol></li></ol><h1 id="毛泽东思想的当代价值"><a href="#毛泽东思想的当代价值" class="headerlink" title="毛泽东思想的当代价值"></a>毛泽东思想的当代价值</h1><ol><li> 马’中国化的第一个重大理论成果，中国革命和建设的科学指南，中国共产党和中国人民宝贵的精神财富。具有指导意义，马‘中国化继续发展的重要源头</li><li> 毛’确立的一切从中国实际出发、<strong>理论联系实际</strong>的思想原则……党的思想路线。毛‘的著作中的基本原理、原则、方法都是有普遍意义的、指导作用</li></ol><h2 id="实事求是的思想路线"><a href="#实事求是的思想路线" class="headerlink" title="实事求是的思想路线"></a>实事求是的思想路线</h2><p>“十月革命一声炮响给我们送来了马克思主义”</p><p>“把马克思主义运用于中国实境……”（李大钊）</p><p>反帝反封建、国共统一战线——马‘与中国实际相结合的成果（资产阶级革命的中国化）</p><hr><p>什么是实事求是：</p><ol><li> 实事：客观存在的事物</li><li> 是：客观事物存在的内部规律</li><li> 求：我们去研究</li></ol><hr><ul><li>20年代末30年代初中共党内神化苏联经验和共产国际的指令……三次“左倾”错误</li><li>30.5毛泽东《反对本本主义》…第一次…理论上…如何对待马’的态度：<strong>中国革命斗争的胜利要靠中国同志了解中国情况</strong><ul><li>  中国同志：工农群众</li><li>  反对长期以来的<strong>教条主义</strong></li></ul></li><li>之后继续写出一系列理论，奠定了一条更加系统完备、生动深刻的实事求是的思想路线</li></ul><p>蕴含了实事求是、独立自主、群众路线丰富的内容</p><hr><ol><li>把思想方法的问题提到了思想路线的高度<ol><li> 抓住主观主义学风同理论联系实际、一切从实际出发的马’学风的根本对立和斗争，积极在党内倡导一条正确的思想路线（马克思主义“不是教条而是行动的指南”“是领导无产阶级革命事业走向胜利的科学”）</li><li> 理论和实际相联系：<strong>在各方面作出合乎中国需要的理论性的创造</strong></li><li> （教条主义学风）<strong>学风问题就是一个非常重要的问题</strong></li></ol></li><li>指明如何对待马克思主义，包括要以马‘的基本原理为指导和实现马’中国化这样相互关联的两个方面，构成了党的思想路线的基本内容<ol><li> “马‘的’本本‘是要学习的”“但是不能“本本主义”</li><li> 坚持马克思主义的基本立场、观点和方法是实现中国化的前提；</li></ol></li><li>把调查研究作为马’的基本原理同中国的实际相结合的中间环节和桥梁<ol><li> 没有调查就没有发言权</li><li> 不做正确的调查，同样没有发言权</li></ol></li></ol><h2 id="毛泽东思想是关于中国革命和建设等多方面的正确的理论原则和经验总结，这些原理和经验会长期起作用"><a href="#毛泽东思想是关于中国革命和建设等多方面的正确的理论原则和经验总结，这些原理和经验会长期起作用" class="headerlink" title="毛泽东思想是关于中国革命和建设等多方面的正确的理论原则和经验总结，这些原理和经验会长期起作用"></a>毛泽东思想是关于中国革命和建设等多方面的正确的理论原则和经验总结，这些原理和经验会长期起作用</h2><ul><li>最低纲领和最高纲领关系：最高（社会主义共产主义）最低（彻底的反帝反封建的民主革命），最低纲领就是当前应该做好的事（当前：发展中国特色社会主义）（三步走：温饱，小康，三步走）</li><li>三大法宝（统一战线、武装斗争、</li><li>政策和策略是党的生命（正确了事业就会往前推进）</li><li>社会主义基本矛盾（生产力和生产关系、经济基础和上层建筑）、两类不同性质的矛盾（人民内部-民主方式、敌我矛盾-专政方式）</li><li>十大关系<ul><li>  党和非党的关系：长期共存互相监督（肝胆相照荣辱与共）</li><li>  科学文化：双百方针</li><li>  民族关系：民族区域自治</li><li>  ……</li></ul></li></ul><hr><p>有理（人不犯我我不犯人）、有利（斗则必胜）、有节（摩擦之间就合作，留有活路）——与顽固派斗争的方针</p><h2 id="第二次结合的历史性任务"><a href="#第二次结合的历史性任务" class="headerlink" title="第二次结合的历史性任务"></a>第二次结合的历史性任务</h2><p>马列主义同中国实际的第二次结合的历史性任务（如何建设社会主义，如何巩固和发展社会主义）（第一次：如何建立社会主义）</p><p>背景：56年苏共二十大赫鲁晓夫《关于个人崇拜及其后果》的秘密报告，全盘否定斯大林——揭了盖子（破除迷信）、捅了娄子（严重错误）</p><p>破除了对苏联经验、苏共的迷信，《秘密报告》内容和方法上都有严重错误（不符合辩证法）</p><hr><p>即：探索自己的建设道路，一切从中国出发，反对教条主义对待外国经验</p><p>包含：保持党和人民政权纯洁性的有效途径</p><h1 id="新民主主义革命理论"><a href="#新民主主义革命理论" class="headerlink" title="新民主主义革命理论"></a>新民主主义革命理论</h1><p>近代世界革命：资产阶级民主革命（反封建，发展资本主义）、无产阶级社会主义革命（反资本主义，建立社会主义国家）</p><h2 id="新民主主义革命理论的形成依据"><a href="#新民主主义革命理论的形成依据" class="headerlink" title="新民主主义革命理论的形成依据"></a>新民主主义革命理论的形成依据</h2><p>历史背景：近代中国的国情（半殖半封）</p><p>时代条件：中国革命的时代特征（十月革命之后，世界无产阶级革命时代，得到了世界社会主义力量的援助）</p><p>实践基础：中国革命经验的概括和总结</p><h3 id="近代中国的国情"><a href="#近代中国的国情" class="headerlink" title="近代中国的国情"></a>近代中国的国情</h3><p>认清中国社会的性质是认清一切革命问题的<strong>基本根据</strong></p><ol><li> 半殖民地：形式上有自己的政府的国家，但是政治和经济都被外国控制和奴役（国家的政治地位）</li><li> 半封建：形式上是封建统治和自然经济主导，实际上社会已经近代化（社会结构）</li></ol><hr><p>主要矛盾：民族矛盾（帝国主义和中华民族，主）、阶级矛盾（封建主义和人民大众）</p><p>历史任务：民族独立和人民解放（民族民主革命）、国家富强和人民富裕（建设现代化）</p><h3 id="中国革命时代特征"><a href="#中国革命时代特征" class="headerlink" title="中国革命时代特征"></a>中国革命时代特征</h3><p>世界历史进程：一战和十月革命（转为以俄为师）</p><p>中国民族历史进程：中国问题无法通过传统的资产阶级民主革命来解决（无产阶级领导的资产阶级民主革命：产生了新的问题）</p><p>五四运动开始无产阶级登上政治舞台，而且马克思主义广泛传播</p><h3 id="中国革命经验的概括和总结"><a href="#中国革命经验的概括和总结" class="headerlink" title="中国革命经验的概括和总结"></a>中国革命经验的概括和总结</h3><p>旧民主主义革命的失败要求新的革命理论（三民主义的破产：反清却不反封，也无法反帝，“平均地权”实际没有触及到封建土地的所有关系而发动不了农民）</p><p>新民主主义革命的艰辛探索（三次胜利三次失败的探索）</p><h2 id="总路线和基本纲领"><a href="#总路线和基本纲领" class="headerlink" title="总路线和基本纲领"></a>总路线和基本纲领</h2><p>39年《中国革命和中国共产党》：第一次提出新民主主义革命的概念</p><p>48年《在晋绥干部会议上的讲话》：完整地表述总路线：无产阶级领导的、人民大众的、反对帝国主义、封建主义和官僚资本主义的革命</p><h3 id="革命的对象"><a href="#革命的对象" class="headerlink" title="革命的对象"></a>革命的对象</h3><p>三座大山：帝国主义和封建主义：帝国主义国家的资产阶级和本国的地主阶级（官僚资本主义）<strong>分清敌友</strong></p><ol><li><strong>帝国主义是首要对象</strong>：近代中国贫困落后和一切灾祸的总根源<ol><li> 反帝形式：用民族革命（直接）民主革命（间接，打破统治工具）</li><li> 反帝内容：废除一切不平等条约、推翻帝国主义在中国的一切特权、实现中华民族的完全独立</li></ol></li><li><strong>封建主义是阻碍进步的主要障碍：</strong>地主阶级是帝国主义统治中国的主要社会基础……</li><li><strong>官僚资本主义严重束缚社会生产力的发展</strong>：民族资产阶级是新民主主义革命的动力之一，而官僚资×××是革命对象</li></ol><p>反对官僚资本主义是因为他与帝国资本主义和本国地主阶级、旧式富农结合一起，有买办性、封建性、垄断性和腐朽性</p><h3 id="新民主主义革命的动力"><a href="#新民主主义革命的动力" class="headerlink" title="新民主主义革命的动力"></a>新民主主义革命的动力</h3><p>无产阶级、农民阶级、城市小资产阶级（不属于资产阶级，自由职业者、手工业者等）和民族资产阶级：根本是工人和农民（谁能解决农民问题、控制农村就能控制中国）</p><h3 id="革命的领导"><a href="#革命的领导" class="headerlink" title="革命的领导"></a>革命的领导</h3><p>领导权是中国革命的中心问题，<strong>也是新民主主义革命理论的核心问题</strong></p><p>区分新旧民主主义革命的根本标志是领导权是否掌握在无产阶级手中</p><p><em>为什么必须要无产阶级领导：农民阶级不行、民族资产阶级（软弱性）也不行；无产阶级有自身的优点：先进的生产方式相联系、组织纪律性</em></p><p>中国无产阶级的优点：</p><ol><li> 三座大山压迫下，有坚强的斗争性和彻底的革命性</li><li> 中国工人阶级分布集中，有利于团结（分布于沿江沿海）</li><li> 中国工人大部分出身破产农民，与农民有天然联系，便于巩固工农联盟</li></ol><h4 id="如何实现领导"><a href="#如何实现领导" class="headerlink" title="如何实现领导"></a>如何实现领导</h4><ol><li> 建立自己的政党</li><li> 建立工农联盟</li><li> 与资产阶级的统一战线中，坚持独立自主原则和又联合又斗争的政策</li><li> 建立革命武装</li><li> 加强无产阶级政党建设</li></ol><h2 id="新民主主义革命的性质和前途"><a href="#新民主主义革命的性质和前途" class="headerlink" title="新民主主义革命的性质和前途"></a>新民主主义革命的性质和前途</h2><p> </p><p>新</p><p>旧</p><p>领导权</p><p>无产阶级</p><p>资产阶级</p><p>指导思想</p><p>马‘</p><p>世界资产阶级</p><p>国际范畴</p><p>世界无产阶级革命</p><p>世界资产阶级革命</p><p>前途</p><p>无产阶级</p><p>资产阶级</p><h3 id="错误思想："><a href="#错误思想：" class="headerlink" title="错误思想："></a>错误思想：</h3><ol><li> 一次革命论：把民主主义革命和社会主义革命一起办（会把革命动力当成革命敌人）</li><li> 二次革命论：把两阶段割裂出来（必须要有资产阶级共和国来发展资本主义再由无产阶级进行社会主义革命）</li></ol><h2 id="基本纲领"><a href="#基本纲领" class="headerlink" title="基本纲领"></a>基本纲领</h2><ol><li> 政治纲领：新民主主义共和国；国体（无产阶级领导的工农联盟巍峨基础的包括小资产阶级……联合专政；人民民主专政）、政体</li><li> 经济纲领（没收官僚资本归国家）（没收封建土地归农民所有）</li></ol><p> </p><p>民族资本主义</p><p>官僚资本主义</p><p>产生途径</p><p>商品经济发展到一定阶段</p><p>外国资本主义+本国封建</p><p>性质</p><p>先进的</p><p>买办的封建的……</p><p>？</p><p>非对抗</p><p>对抗</p><p>？</p><p>保护其生产关系，团结联合</p><p>消灭、打倒</p><p>政策</p><p>有偿赎买，其资产阶级是民主的对象</p><p>无偿没收，阶级是专政对象</p><p>革命性质</p><p>社会主义革命</p><p>资产阶级革命</p><ol start="3"><li> 文化纲领：民族的大众的反帝反封建的文化</li></ol><h2 id="道路和基本经验"><a href="#道路和基本经验" class="headerlink" title="道路和基本经验"></a>道路和基本经验</h2><p>农村包围城市、武装夺取政权的革命道路理论是毛泽东思想极为重要的部分，也是<strong>最有特色、最具创新性</strong>的部分之一，是毛泽东思想<strong>形成的主要标志</strong>。</p><p>三条道路：中国特色革命/改造/改革道路</p><h3 id="对中国革命道路的艰难探索"><a href="#对中国革命道路的艰难探索" class="headerlink" title="对中国革命道路的艰难探索"></a>对中国革命道路的艰难探索</h3><p>党成立初期首先把工作中心放在城市，主要精力放在工人运动上、合法斗争上——但是失败了——大革命时期：懂得武装斗争的重要性：工作重心开始转向农村；</p><p>毛泽东……井冈山根据地：提出工农武装割据的思想，为农村包围城市道路理论的形成奠定基础</p><ol><li>为什么能存在：中国是一个半殖民地半封建社会，农村和城市发展差异大<ol><li> 国情：经济政治不平衡的半殖民地半封建大国</li><li> 广大农村遭受统治阶级的压迫，且大革命之后群众基础好</li><li> 全国革命形势继续向前发展</li><li> 相当力量的红军力量的存在</li><li> 党的领导的有力量和决策的正确 6.</li></ol></li><li>为什么要走这样的路：（34页）中国所处的时代特点和国情决定的：半殖民地半封建社会、<strong>内无民主制度外无民族独立</strong>（没有合法斗争的手段）</li></ol><h3 id="农村……道路的内容："><a href="#农村……道路的内容：" class="headerlink" title="农村……道路的内容："></a>农村……道路的内容：</h3><ol><li> <strong>主要形式</strong>不是长期的合法斗争而是长期武装斗争，以革命的武装消灭反革命的武装</li><li> <strong>主力军</strong>不是工人阶级而是农民阶级，主要内容是进行土地革命解决农民的土地问题</li><li> <strong>重心</strong>不是城市而是农村，先占农村后取城市，最后取得全国胜利</li><li> 武装斗争、土地革命、根据地建设是互相依存的</li><li> 根本原因：近代中国是一个政治经济文化发展及不平衡的半殖民地半封建的大国</li></ol><hr><p>意义：不是照搬照抄俄国十月革命的经验，而是从中国的实际出发，独创性地发展了马列主义关于革命的理论</p><h3 id="新民主主义革命的三大法宝："><a href="#新民主主义革命的三大法宝：" class="headerlink" title="新民主主义革命的三大法宝："></a>新民主主义革命的三大法宝：</h3><ol><li>统一战线：重要策略（寻找公约数：中华民族伟大复兴）<ol><li>必要性<ol><li> 半殖民地半封建社会的阶级状况（两头小-无产阶级、地主阶级；中间大-农民）</li><li> 革命的长期性、残酷性（敌强我弱）和发展的不平衡性（原因：经济政治发展的不平衡：敌人力量聚集再城市，乡村薄弱；革命力量、群众基础差异）</li></ol></li><li>可能性：各种矛盾交织在一起，为共产党利用这些矛盾团结各阶级提供了可能</li><li>时期<ol><li> 第一次国共合作：23年三大确定政策，国民党一大的召开，正式合作</li><li> 工农民主战线：土地革命时期</li><li> 抗日民族统一战线</li><li> 人民民主统一战线：解放战争</li><li> 爱国统一战线（公约数：中国梦）：现在，一切拥护社会主义的爱国者</li></ol></li><li>两个联盟：工人阶级和非劳动阶级之间的联盟、工农联盟（基础）</li><li>经验：要有巩固的工农联盟、正确对待资产阶级（联合+斗争）、区别对待的方针（发展进步势力、争取中间势力、鼓励顽固势力）、坚持独立自主原则</li></ol></li><li>武装斗争：主要形式：实质是党领导下的农民斗争，是中国革命的特点和优点之一<ol><li>_半殖半封的旧中国，帝国主义封建主义总是凭借反革命暴力镇压革命人民，革命人民只有武装起来，用武装的革命反对武装的反革命_——就要建立人民军队<ol><li> 坚持党对军队的绝对领导：党指挥枪</li><li> 全心全意为人民服务</li><li> 坚持正确的战略战术原则</li></ol></li><li><em>太平天国是旧式农民战争的最高峰</em></li></ol></li><li>党的建设：党是革命的领导主体：必须不断加强党的思想建设、组织建设和作风建设<ol><li> 把思想建设放在党的建设的首位——保持共产党的先进性（现在是政治建设）</li><li> 经验：……，无产阶级思想克服改造各种非无产阶级思想；任何时候都要重视组织建设（民主集中制、四个服从：个人服从组织、少数服从多数、下级服从上级、？？服从中央）</li><li> 总体布局：民主革命时期三个；文革后：三个+制度建设；四个+党风廉政建设；三个+政治+纪律（+制度贯穿+反腐败斗争）</li></ol></li><li>关系：党的建设是统一战线和武装斗争的保证，是两个武器，武装斗争是统一战线的中心支柱</li></ol><h1 id="社会主义改造理论"><a href="#社会主义改造理论" class="headerlink" title="社会主义改造理论"></a>社会主义改造理论</h1><h2 id="新民主主义社会是一个过渡性质的社会"><a href="#新民主主义社会是一个过渡性质的社会" class="headerlink" title="新民主主义社会是一个过渡性质的社会"></a>新民主主义社会是一个过渡性质的社会</h2><p>社会形态节点：</p><ol><li> 1840：半殖民地半封建社会（帝国与民族、封建与人民），之前是封建社会（地主农民矛盾）</li><li> 1949：新民主主义社会（无产阶级与资产阶级）</li><li> 1956：社会主义初级阶段（人民日益增长的……）</li><li> 2012：新时代（人民日益增长的对美好生活的需要同发展的不平衡不充分之间的矛盾）</li></ol><hr><ol><li>经济：<ol><li> 社会主义经济（领导地位</li><li> 个体经济（绝对优势）——可以发展到资本主义经济也可以引导到社会主义经济</li><li> 资本主义经济</li></ol></li><li>阶级：<ol><li> 工人阶级</li><li> 农民阶级、其他小资产阶级</li><li> 民族资产阶级</li></ol></li><li>矛盾：资本主义和社会主义两条矛盾、资产阶级和工人阶级之间的阶级矛盾（土改完成后成了主要矛盾）</li></ol><hr><p>新民主主义社会属于社会主义体系，因为社会主义的经济基础在不断扩大而变成整个国家的经济基础，而资产阶级作为剥削阶级也在不断被消灭和改造；其前途必然是社会主义社会</p><p>特征：</p><ol><li> 不是独立的社会形态——过渡形态</li><li> 政治上适应的是工人阶级领导的工农联盟的革命阶级</li><li> 经济上包含的五种经济成分（课本44）：社会主义性质国营经济、半社会主义性质的合作社经济（个体的过渡）、个体经济、私人资本主义经济、国家资本主义经济（私人资‘的过渡）</li><li> 马克思为指导的民族的科学的大众的社会主义文化</li></ol><hr><p>为什么过渡成社会主义：</p><ol><li> 马克思主义为指导的国家——无产阶级上升为统治阶级、无产阶级夺取资产阶级的全部资产和生产工具集中于无产阶级手中（48页）；</li><li> 新民主主义革命的新：领导权的新：无产阶级通过革命获得政权，所以不可能让给资产阶级</li><li> 经济政治文化上确立的的无产阶级领导地位、马克思主义的指导地位</li></ol><h2 id="如何看待社会主义改造"><a href="#如何看待社会主义改造" class="headerlink" title="如何看待社会主义改造"></a>如何看待社会主义改造</h2><p>把资本主义经济变成社会主义经济、消灭了私有制变成公有制</p><p>非公有制经济是社会主义的重要组成部分</p><p><strong>如何看待社会主义改造和社会主义改革之间的关系</strong></p><h3 id="社会主义改造的基本经验（特色之处）（55页）"><a href="#社会主义改造的基本经验（特色之处）（55页）" class="headerlink" title="社会主义改造的基本经验（特色之处）（55页）"></a>社会主义改造的基本经验（特色之处）（55页）</h3><ol><li>社会主义工业化与社会主义改造同时并举<ol><li> 将来突变论、现在渐变论……生产力和生产关系是适应的，所以变成渐变论</li><li> 社会主义革命的目的是解放生产力，社会主义改造是改造生产关问题系</li></ol></li><li>积极引导、逐步过渡的方式<ol><li> 让被改造者有逐步接受的过程</li></ol></li><li>和平方法改造</li><li>把对人的改造和对企业的改造结合起来</li></ol><hr><p>失误：四过一化？改造过急，以致在长期里产生问题</p><h3 id="社会主义改造的意义（58）"><a href="#社会主义改造的意义（58）" class="headerlink" title="社会主义改造的意义（58）"></a>社会主义改造的意义（58）</h3><ol><li> 在大国中比较顺利地实现了社会变革，没有造成生产力的破坏反而促进了工农业和整个国民经济的发展</li><li> 变革没有引起巨大的社会动荡，反而加强了人民的团结，而且是在人民基本上普遍拥护的情况下完成的</li></ol><h3 id="评价"><a href="#评价" class="headerlink" title="评价"></a>评价</h3><ol><li>总体上是清楚的不容动摇的</li><li>错误观点：<ol><li> 过急过快论：有意回避两点意义，夸大了改革中的偏差和失误——“根据他们比他们的前辈所提供的新的东西”（历史的眼光）</li><li> 过早超越论：把非公有制经济过早带到社会主义经济——社会主义改造和社会主义改革的关系问题</li></ol></li></ol><h3 id="社会主义改造和社会主义改革的关系问题"><a href="#社会主义改造和社会主义改革的关系问题" class="headerlink" title="社会主义改造和社会主义改革的关系问题"></a>社会主义改造和社会主义改革的关系问题</h3><ol><li>目的一样：解放和发展生产力</li><li>时代发展的要求——都具有历史必然性（必须要改造来解决资产阶级和无产阶级的矛盾，来完成过渡；70年代，需要改革体制的弊端，来巩固和发展已经建立起来的社会主义制度）<ol><li> 社会主义改造是建立社会主义经济制度，社会主义改革是社会主义的自我完善</li></ol></li><li>改革不是否定改造，而是继承、纠正和发展<ol><li> 继承社会主义制度</li><li> 对改造遗留问题的纠正，对落后的高度集中的计划经济的弊端的改变</li></ol></li><li>不能因为改造过程中出现偏差和失误就否定改造</li></ol><h2 id="开启的工业化之路的意义"><a href="#开启的工业化之路的意义" class="headerlink" title="开启的工业化之路的意义"></a>开启的工业化之路的意义</h2><p>一化三改</p><ol><li> 提出实现社会主义工业化的目标，既是一个经济落后的发展中国家在政治上独立之后的普遍规律，更是新中国在政治上的需要（经济上不独立政治就难以独立）（47）</li><li> 为我国构建完成整个工业体系和国防体系、乃至未来的现代化体系奠定了坚实的基础——第一代中央领导集体为第二代的强国建设奠定基础</li><li> 为后来的工业化现代化积累了经验——农业、轻工业、重工业安排顺序</li></ol><h1 id="社会主义建设道路初步探索的理论成果"><a href="#社会主义建设道路初步探索的理论成果" class="headerlink" title="社会主义建设道路初步探索的理论成果"></a>社会主义建设道路初步探索的理论成果</h1><p>1956开始</p><p>探索中国自己的社会主义道路的背景是什么：确立了社会主义制度、召开了八大……</p><ol><li> 新中国成立初期主要学习苏联经验……（一边倒）苏联是第一个社会主义国家而且和马‘的设想基本一致，而且也有很大成就，所以各个国家的共产党人都对苏联模式有迷信</li><li> 苏联模式的指导下恢复国民经济和保障人民生活取得了成就；但是照搬照抄导致了很多问题……不适合中国国情，需要有中国特点的社会主义道路</li></ol><hr><p>为什么是1956年要“第二次结合”：</p><ol><li>苏共二十大召开，赫鲁晓夫秘密报告揭露和批评斯大林的错误（一刀切）……东欧社会主义国家受到冲击（波兹南事件、匈牙利事件）、西欧共产党员退党……<strong>破除了对苏联的迷信</strong><ol><li> 经济建设急躁冒进</li><li> 集权专制、暴力手段处理阶级矛盾</li><li> 片面强调阶级斗争</li><li> <em>波兹南事件：56年6月工人游行示威要求更好的待遇，但是谣传代表被逮捕而变成了暴动，最后变成镇压</em></li><li> <em>匈牙利事件：56年10月示威游行要求第一书记辞职，然后演变成武装冲突、军队叛乱，苏军出面镇压</em></li></ol></li><li>西方资本主义国家进行了破坏活动：47年美国杜鲁门主义、51年美国向世界共产主义发动政治进攻的纲领、意识形态方面的破坏活动</li><li>56年《论十大关系》报告开启了第二次结合……<strong>以苏为鉴</strong><ol><li> 建设中没有自觉性和自主性，没有自己的道路，“心情不舒畅”</li></ol></li></ol><h2 id="论十大关系"><a href="#论十大关系" class="headerlink" title="论十大关系"></a>论十大关系</h2><ol><li> 重工业和轻工业、农业的关系</li><li> 沿海工业和内地工业的关系</li><li> 经济建设和国防建设的关系（世界大战短时间内打不起来，所以先发展经济建设）</li><li> 国家、生产单位和生产者个人的关系</li><li> 中央和地方的关系（加强中央的领导和调动地方积极性）</li><li> 汉族和少数民族的关系（反对大汉族主义和民族主义）</li><li> 党和非党的关系（“长期共存、互相监督”）</li><li> 革命和反革命的关系</li><li> 是非关系</li><li> 中国和外国的关系</li></ol><hr><ol><li> 前三条关系论述如何开展一条和苏联不同的具有中国特色的工业化道路的问题</li><li> 四五条开始设计经济体制改革</li><li> 五大政治关系论述政治思想文化方面如何调动各方面积极因素的问题</li></ol><h2 id="初步探索的重要理论成果"><a href="#初步探索的重要理论成果" class="headerlink" title="初步探索的重要理论成果"></a>初步探索的重要理论成果</h2><h3 id="调动一切积极因素为社会主义事业服务"><a href="#调动一切积极因素为社会主义事业服务" class="headerlink" title="调动一切积极因素为社会主义事业服务"></a>调动一切积极因素为社会主义事业服务</h3><p>要以苏为鉴，独立自主地探索适合中国情况的社会主义建设道路。</p><p>方针：充分调动一切积极因素、尽可能地克服社会主义建设中的消极因素，努力化消极因素为积极因素</p><p>强调：</p><ol><li><strong>必须坚持中国共产党的领导</strong></li><li>必须发展社会主义民主政治：既集中又民主、纪律又自由、统一意志又个人心情舒畅生动活泼的政治局面</li><li>如何认识社会主义发展阶段和社会主义建设规律的问题：<ol><li> 阶段：第一阶段是不发达的社会主义，第二阶段是比较发达的社会主义（后来由邓小平发展了这个想法）</li><li> 规律：建设强大的社会主义经济需要很长时间，建设社会主义需要积累经验、克服盲目性（68页）</li></ol></li></ol><h3 id="正确认识和处理社会主义社会矛盾的思想"><a href="#正确认识和处理社会主义社会矛盾的思想" class="headerlink" title="正确认识和处理社会主义社会矛盾的思想"></a>正确认识和处理社会主义社会矛盾的思想</h3><p>工人阶级与资产阶级的矛盾基本解决，人民内部的其他矛盾突出起来了……马‘没有对社’社会的矛盾进行论述</p><p>罢工罢课、农民退社等……是人民内部的矛盾</p><ol><li>社会主义社会也存在矛盾，矛盾推动社会主义社会不断向前发展……对立统一的规律来分析社会主义社会的矛盾问题</li><li>基本矛盾：生产关系和生产力之间、上层建筑和经济基础之间的矛盾……但是是非对抗性的，是在人民根本利益一致基础上的；又相适应又相矛盾……通过社会主义制度的自我完善来解决</li><li>主要矛盾和根本任务（56年）：人们对于建立先进的工业国的要求和落后的农业国的现实之间的矛盾、人民对于经济文化迅速发展的需要同当前经济文化不能满足人民需要的状况之间的矛盾……<strong>集中力量发展生产力</strong></li><li>两类不同性质的矛盾：敌我矛盾（根本利益对立）、人民内部矛盾（根本利益一致）……两类矛盾之间是可以转化的</li><li>正确处理两类不同性质社会矛盾的基本方法：人民民主专政下面解决两类矛盾（专政和民主）<ol><li> 专政……治罪，强迫从事劳动，改造</li><li> 民主……讨论、批评、说服教育方法</li></ol></li><li>正确处理人民内部矛盾的方针：总方针：民主的方法解决；<ol><li> 经济上：统筹兼顾、适当安排</li><li> 政治：团结-批评-团结</li><li> 民主党派：长期共存互相监督</li><li> 思想文化：双百</li><li> 民族关系：反对大汉族主义、地方主义</li></ol></li></ol><h3 id="走中国工业化道路的思想"><a href="#走中国工业化道路的思想" class="headerlink" title="走中国工业化道路的思想"></a>走中国工业化道路的思想</h3><p>被苏联工业化模式的影响，我国过多强调重工业和基础设施的建设，影响了农业和轻工业的发展</p><p>《关于正确处理人民内部矛盾的问题》明确提出中国工业化道路</p><ol><li>工业为主导，重工业是重点……同时必需充分注意发展农业和轻工业</li><li>原因：农业大国……只有农业发展了工业才有原料和市场、为重工业积累资金……供给人民生活的需要</li><li>总方针：农业为基础、工业为主导、农轻重为序发展经济</li><li>思路：两条腿走路（并举）<ol><li> 重工业和轻工业</li><li> 中央和地方工业</li><li> 沿海和内地工业</li><li> 大型和中小</li></ol></li><li>战略目标：具有现代农业、工业、国防和科学技术的强国（四个现代化）……20世纪末、50年、35年</li><li>经济建设方针：（八大）反保守反冒进、综合平衡中稳步前进</li><li>发展科学技术和文化教育：重点发展、迎头赶上的科技发展战略<ol><li> 重视知识分子工作：建设一支宏大的工人阶级知识分子队伍</li></ol></li><li>调整和完善所有制结构<ol><li> 毛、周、刘：把资‘作为社’经济的补充（中国的新经济政策）</li><li> 朱德：注意发展手工业和农业多种经营的思想</li><li> 陈云：“三个主体三个补充”（75）</li></ol></li><li>适合我国情况的经济体制和运行机制：<ol><li> 企业合理的规章制度和严格的责任制，民主管理，干部参加劳动，工人参加管理，改革不合理的规章制度，工人群众、领导干部和技术人员三结合：“两参一改三结合”</li></ol></li></ol><h3 id="题外话"><a href="#题外话" class="headerlink" title="题外话"></a>题外话</h3><p>政党：政权为目的的政治组织（夺取、巩固或者参与）</p><h2 id="初步探索的意义"><a href="#初步探索的意义" class="headerlink" title="初步探索的意义"></a>初步探索的意义</h2><ol><li>巩固和发展了我国的社会主义制度<ol><li> 两弹一星的意义：1955年1月15日决定要做原子弹，美国人总是核威胁；为中国的国际地位、国际影响力有重要意义</li><li> 两弹一星精神：热爱祖国、无私奉献；自力更生、艰苦奋斗、大力协同、勇于攀登</li></ol></li><li>为开创中国特色社会主义提供了宝贵经验、理论准备和物质基础<ol><li> 为邓小平理论的形成奠定历史依据</li><li> 物质基础：水库、工业学大庆、农业学大寨</li></ol></li><li>丰富了科学社会主义的理论和实践</li></ol><h2 id="初步探索的经验教训"><a href="#初步探索的经验教训" class="headerlink" title="初步探索的经验教训"></a>初步探索的经验教训</h2><ol><li>毛泽东思想中社会主义建设的经验是正确的，但是没有坚持下来</li><li>必须把马‘与中国实际结合，探索符合中国特点的社会主义建设道路<ol><li> 失误原因：</li><li> 对马’关于社会主义的一些基本原理的理解不够深入——一定要消灭私有制、一定要计划经济（教条）</li><li> 对中国的基本国情缺乏深刻的认识，没能高清楚什么是社‘、怎样建设社’的问题</li><li> 没有完全摆脱苏联模式的影响</li></ol></li><li>必须正确认识社‘社会的主要矛盾和根本任务，集中力量发展生产力<ol><li> 八大对主要矛盾和主要任务的认识是正确的</li><li> 1958中共八大……主要矛盾变成了无产与资产、社会与资本道路之间的矛盾……阶级斗争</li></ol></li><li>必须要从实际出发进行社会主义建设，建设规模和速度要和国力相适应，不能急于求成</li><li>必须发展社会主义民主、健全社会主义法制<ol><li>1954年《中华人民共和国宪法》</li><li>1958年毛泽东“法律条文太多，记不住，治理国家不能靠法律，主要靠决议和开会……”<ol><li> 立法工作趋于停滞：1959年中央政法领导小组报告停止刑法、民法和诉讼法制订；十年动乱没有制定一部法律，75年宪法“极左”思想</li><li> 司法体系瘫痪：58年开始公检法联办</li><li> 公民权利遭到严重侵害</li></ol></li></ol></li><li>坚持党的民主集中制和集体领导制度，加强执政党建设<ol><li> 四个服从</li><li> 党和国家的领导制度还不够完善，受苏联高度集中的领导体制的影响，封建主义、家长制短时间内无法消除，导致民主集中制和集体领导原则在一定时间内遭到破坏</li></ol></li><li>必须坚持对外开放，借鉴和吸收人类文明成果建设社会主义，不能关起门来搞建设<ol><li> 帝国主义实施敌视封锁、禁运政策，后来“左”的错误，导致我们与发达资本主义国家的差距进一步拉大</li></ol></li></ol><h3 id="改革开放前的社会主义实践和改革开放后的社会主义实践的关系"><a href="#改革开放前的社会主义实践和改革开放后的社会主义实践的关系" class="headerlink" title="改革开放前的社会主义实践和改革开放后的社会主义实践的关系"></a>改革开放前的社会主义实践和改革开放后的社会主义实践的关系</h3><p>本质上都是党领导人民进行社会主义建设的实践探索。中国特色社会主义是在改革开放新时期开创的，但也是在新中国已经建立起社会主义基本制度并进行了二十多年建设的基础上开创的。</p><ol><li> 如果没有实施改革开放，社会主义中国就不可能拥有今天的好局面，可能会面临严重危机、亡党……没有1949年建立新中国和社会主义革命和建设，积累了经验教训和物质基础，改革开放也很难顺利推进</li><li> 虽然思想指导、方针政策和实际工作上有差异，但是在前段提出的正确主张还没有得到贯彻，而改革开放后才得到真正落实</li><li> 对改革开放前后的历史时期都要正确评价，不能相互否定，改革开放后的社会主义探索是对前一个时期的坚持、改革和发展</li></ol><h1 id="邓小平理论"><a href="#邓小平理论" class="headerlink" title="邓小平理论"></a>邓小平理论</h1><h2 id="形成"><a href="#形成" class="headerlink" title="形成"></a>形成</h2><ol><li>形成条件：<ol><li> 时代背景：和平与发展成为时代主体</li><li> 历史根据：社会主义建设的经验教训</li><li> 现实依据：改革开放和现代化建设的实践</li></ol></li><li>以邓小平为代表的中国共产党人，立足中国面向世界、总结历史正视现实、放眼未来，把马‘基本原理同中国的国情和时代特征结合起来，在研究新情况、解决新问题的过程中形成和发展起来的。</li></ol><h3 id="和平与发展"><a href="#和平与发展" class="headerlink" title="和平与发展"></a>和平与发展</h3><p>和平问题是东西问题，发展问题是南北问题，南北问题是核心问题。</p><p>不以新思想、观点去继承和发展马克思主义，不是真正的马克思主义者</p><h3 id="社会主义建设的经验教训"><a href="#社会主义建设的经验教训" class="headerlink" title="社会主义建设的经验教训"></a>社会主义建设的经验教训</h3><p>56年开始的探索积累了一些正确的、比较正确的理论观点……</p><p>弯路：经济上急于求成、盲目求纯（公有制）、急于过渡；政治上以阶级斗争为纲</p><p>原因：偏离实事求是路线；对什么是社会主义、怎样建设社会主义没有清楚认识</p><h3 id="现实依据"><a href="#现实依据" class="headerlink" title="现实依据"></a>现实依据</h3><p>没有经验可以借鉴，所以要摸着石头过河（摸规律）、在干中学</p><h3 id="形成过程"><a href="#形成过程" class="headerlink" title="形成过程"></a>形成过程</h3><p>十一届三中全会：改革开放（起点，一说75年整顿）</p><p>党的十二大：提出建设有中国特色的社会主义（1982）</p><p>十三大：邓小平理论轮廓形成</p><p>南方谈话：走向成熟（改革的成败得失标准：三个有利于；市场和计划都是手段；发展是硬道理……）</p><p>十四大：概括中国特色社会主义理论的主要内容</p><p>十五大：正式提出“邓小平理论”的科学命题</p><h2 id="基本问题和主要内容"><a href="#基本问题和主要内容" class="headerlink" title="基本问题和主要内容"></a>基本问题和主要内容</h2><p>基本问题：什么是社会主义、如何建设社会主义</p><p>开始：贫穷不是社会主义、差距太大不是社会主义、发展太慢不是社会主义</p><p>理论：社会主义的本质：解放生产力、发展生产力、消灭剥削、消除两极分化、最终达到共同富裕</p><h3 id="社会主义初级阶段理论"><a href="#社会主义初级阶段理论" class="headerlink" title="社会主义初级阶段理论"></a>社会主义初级阶段理论</h3><p>列宁：“初级形式的社会主义”“发达的社会主义”“完全的社会主义”</p><p>斯大林：过渡时期是短暂的、社会主义也是短暂的</p><p>毛泽东：“建立”和“建成”。“过渡时期”“不发达阶段”“比较发达阶段”</p><p>20世纪的社会主义国家……社会发展定位问题：……</p><hr><p>如何把握社会主义初级阶段的基本国情：</p><ol><li>社会主义初级阶段的长期性，从根本上来说是由中国进入社会主义的历史条件和建成社会主义所需要的物质基础所决定的<ol><li>没有经历过资本主义的充分发展：一穷二白（工业没有，农业不发达，文化科学水平都不高）</li><li>十五大进一步阐述了社会主义初级阶段的基本特征<ol><li> 初级阶段是逐步摆脱不发达状态，基本实现社会主义现代化的历史阶段</li><li> 由农业人口占很大比重的农业国逐步转变成现代农业、服务业的工业化国家的历史阶段</li><li> 由自然经济、半自然经济占很大比重转变成经济市场化程度较高的历史阶段</li><li> 由文盲半文盲人口占很大比重、科技教育文化落后转变成科技教育文化比较发达的阶段</li><li> 由贫困人口占很大比重、人民生活水平比较低逐步变为全体人民比较富裕的历史阶段</li><li> 由地区经济文化很不平衡，通过有先后的发展逐步缩小差距的阶段</li><li> 通过改革和探索……社会主义经济市场体系、社会主义民主政治和其他方面体制的历史阶段</li><li> 建立中国特色社会主义共同理想，建设物质文明的同时努力建设精神文明</li><li> 缩小同世界现今水平的差距，在社会主义基础上实现民族复兴的理想</li></ol></li></ol></li></ol><h3 id="社会主义根本任务理论"><a href="#社会主义根本任务理论" class="headerlink" title="社会主义根本任务理论"></a>社会主义根本任务理论</h3><p>为什么是解放和发展生产力：</p><ol><li> 社会主义制度建立后，为巩固和发展社会主义，必须进一步解放和发展生产力</li><li> 社会主义的本质决定了……</li></ol><p>怎么发展：</p><ol><li> 中国解决所有问题的关键是靠自己的发展（发展是硬道理）</li><li> 要抓住机遇</li><li> 发展离不开科学：科学技术是第一生产力</li></ol><h3 id="改革开放理论"><a href="#改革开放理论" class="headerlink" title="改革开放理论"></a>改革开放理论</h3><p>改革开放是发展中国特色社会主义的必由之路：</p><ol><li>为什么：<ol><li>理论原因：主要矛盾是基本矛盾在初级阶段的具体体现<ol><li>邓小平对社会主义社会基本矛盾理论的丰富和发展：<ol><li> 是否适应当时当地生产力的要求、是否推动生产力发展（改革的评判标准）</li><li> 提出社会主义社会依然有解放生产力的问题</li><li> 把社会主义社会基本矛盾、主要矛盾、根本任务统一起来</li><li> 指出了解决社会主义初级阶段主要矛盾的途径是改革</li></ol></li></ol></li><li>现实原因：前后四次逃港潮：人民生活水平比其他国家和地区差太多<ol><li> 文化大革命对社会主义社会和党和人民带来严重灾难，法制破坏、生活水平差</li><li> 新技术革命发展，中国的经济实力、科技实力与国际先进水平的差距拉大</li></ol></li><li>可能性<ol><li> 重新建立实事求是的思想路线</li><li> 和平与发展成为时代主题</li></ol></li></ol></li><li>怎样：科学指南<ol><li>对体制的根本性变革<ol><li> 总目标：完善和发展中国特色社会主义科学指南制度，推进国家治理体系和治理能力的现代化（要完整，不能少一句）（器物层面的现代化+制度层面的）</li><li> 落脚点：社会公平正义、人民福利</li><li> 注重改革的系统性、整体性、协同性</li><li> 到2020,取得决定性成果，系统完备、科学、有效的制度体系，成熟、定型</li></ol></li><li>胆子要大（创新思维）、步子要稳（实事求是）</li><li>改革是对外开放，包括对发达国家和发展中国家的开放</li><li>要珍惜和维护独立自主的权利</li></ol></li></ol><hr><p>毛与邓关于社会主义基本矛盾的理论差异：</p><p> </p><p>毛</p><p>邓</p><p>角度</p><p>生产关系和上层建筑出发</p><p>从我国现实生产力状况出发</p><p>判断</p><p>资产阶级与无产阶级之间的矛盾是主要矛盾</p><p>主要矛盾，具体表现为高度集中的僵化体制与生产力的矛盾</p><p>结果</p><p>文化大革命</p><p>体制改革，废除僵化旧体制，发展社会生产力</p><p>共性：基本矛盾是一致的</p><h3 id="其他理论："><a href="#其他理论：" class="headerlink" title="其他理论："></a>其他理论：</h3><ol><li>解放思想、实事求是的思想路线</li><li>党的基本路线：一个中心两个基本点</li><li>”三步走“战略：<ol><li> 两步</li><li> 三步</li><li> 新三步</li><li> 新两步</li></ol></li><li>社会主义市场经济理论：计划和市场都是手段</li><li>”两手抓，两手都要硬“：物质和精神文明都要发展</li><li>”一国两制“</li><li>中国问题的关键在于党</li></ol><h2 id="地位"><a href="#地位" class="headerlink" title="地位"></a>地位</h2><ol><li> 马列主义、毛泽东思想的继承和发展</li><li> 中特社‘理论体系的开篇之作：”什么是社会主义，怎样建设社会主义“</li><li> 改革开放和社会主义现代化建设的科学指南</li></ol><h1 id="三个代表重要思想"><a href="#三个代表重要思想" class="headerlink" title="三个代表重要思想"></a>三个代表重要思想</h1><p>中国先进生产力的发展要求</p><p>中国先进文化的前进方向</p><p>中国最广大人民的根本利益</p><p>世纪之交的时候提出</p><h2 id="基本问题"><a href="#基本问题" class="headerlink" title="基本问题"></a>基本问题</h2><p>建设什么样的党，怎样建设党</p><h2 id="形成条件"><a href="#形成条件" class="headerlink" title="形成条件"></a>形成条件</h2><h3 id="世界多极化"><a href="#世界多极化" class="headerlink" title="世界多极化"></a>世界多极化</h3><p>国际局势和世界格局的深刻变化</p><ul><li>  世界多极化</li><li>  经济全球化</li><li>  霸权主义和强权政治、恐怖主义</li><li>  信息技术为核心的高新技术发展</li><li>  综合国力竞争激烈</li></ul><hr><p><strong>世界多极化</strong></p><p>一超多强，苏联解体（91.12.25）</p><p><strong>经济全球化</strong></p><p>双刃剑：资源在全球范围内趋向直接流动和配置</p><p>传统经济活动全球化，同时政治思想文化也随之流动——西方文化渗透</p><p>要求发展中国家要融入经济全球化中，但是国内政治水平不一定能够抵御随之而来的冲击</p><p><strong>科技突飞猛进</strong>（80年代以来的第三次技术革命）</p><ul><li>  微电子技术为中心的新科技群的出现——多个方面一起进步</li><li>  科学与技术的联系更密切</li><li>  科技研究的规模越来越大，科技生产方式的社会化程度提高</li><li>  技术更新速度快</li><li>  科技发展模式的转换更显著</li><li>  科学技术向生产力的转化加快</li></ul><p><strong>社会主义运动</strong></p><p>世界社会主义运动遭受严重挫折，处于低潮</p><p>东欧很多共产党丧失执政地位，同时其他国家很多老党大党也丧失执政地位</p><h3 id="国情"><a href="#国情" class="headerlink" title="国情"></a>国情</h3><p>十三届四中全会依赖党和人民建设中国特色社会主义的伟大探索是实践基础</p><ul><li>  取得巨大成就：已经完成三步走战略前两步（小康水平）</li></ul><p>变化：</p><ul><li>以往计划经济体制下党员群众基本都在政府直接管理的部门和单位中工作，党的组织和领导主要通过从上到下的部门体系来实施；而现在出现了新的经济组织和社会活动领域，如何在这些里面进行党的组织领导是一个问题</li><li>工人和农民和其他社会阶层在就业和分配方面出现了多样性<ul><li>  资本密集、劳动密集、下岗工人，农民企业家、乡镇企业家、农民工等——基尼系数变高，贫富分化</li><li>  效率和公平</li><li>  如何代表最广大人民的根本利益</li></ul></li><li>全国私营企业发展很快<ul><li>  经济实力增强、就业人数增加</li><li>  如何在非公有制经济中加强党的领导、团结其中的人民群众</li><li>  如何发挥国有经济在经济中的主导作用，同时调动非公有制经济的发展积极性</li></ul></li><li>群众产生不同的利益要求<ul><li>  物质利益的多样化必然带来群众利益要求的变化</li><li>  改革使得一些地区和部门的利益受到损失</li></ul></li></ul><h3 id="党"><a href="#党" class="headerlink" title="党"></a>党</h3><p><strong>中国共产党面临艰巨的历史任务</strong></p><p>从为了夺取全国政权的党变成领导人民掌握着全国政权并长期执政的党</p><p>从一个受到外部封锁的情况下开展建设的党变成全面改革开放条件下领导国家建设的党</p><p><strong>党员队伍的数量和结构出现重大变化</strong></p><ul><li>数量爆增（6600万）（现在：8900万）<ul><li>  数量和质量对于执政能力的影响：任务艰巨需要一定数量的党员发挥先锋模范作用，但是质量差的党员会起反作用</li><li>  结构：战争年代70%是农民，新时期非工农职业的劳动者也进入了党</li><li>  经济地位和社会条件</li><li>  文化程度：高文化党员比例增加</li></ul></li><li>党的干部队伍正在进行整体性新老交替<ul><li>  年轻干部缺乏马克思主义基本理论的扎实功底，缺乏对中国历史和现实的系统了解，缺乏党内生活和艰苦环境的严格锻炼——能适应社会主义建设需要的、高素质的、年轻的干部队伍</li></ul></li><li>党执政的时间越长就越要抓紧自身建设：容易产生脱离群众的倾向，容易滋生和积蓄既得利益，容易出现权力失控，容易失去生机和活力（没有危机感）<ul><li>  第三代第四代现象：前五六十年是第一第二代，后一百五十年是第三第四代……第一代是农民起义时代，知道起义的威力，休养生息；亲眼目睹第一代的第二代，保持了如履薄冰的心态；第三第四代生活在和平年代，缺乏忧患意识和创业意识，没有民间经历（对国情民生不了解，没经验）</li></ul></li><li>党员干部队伍中出现了一些需要解决的问题<ul><li>  党面对新形式新任务不适应的地方还很多</li><li>  党内在思想上组织上作风上存在的不符合甚至违背党和人民的利益的也不少</li><li>  加强党的建设方面需要研究解决的新情况新问题也不少（信仰危机：法轮功）</li></ul></li></ul><hr><p>所以新的世界、国情、党情决定的。</p><h2 id="形成过程-1"><a href="#形成过程-1" class="headerlink" title="形成过程"></a>形成过程</h2><h3 id="酝酿阶段89-00"><a href="#酝酿阶段89-00" class="headerlink" title="酝酿阶段89-00"></a>酝酿阶段89-00</h3><p>89年《关于加强党的建设的通知》、十四届四中全会《中共中央关于加强党的建设几个重大问题的决定》、十五大新时期党的建设<strong>新的</strong>伟大工程的总目标</p><hr><p>新的新在：和平环境下，搞建设。环境变了。</p><p>毛泽东提出的，39年10月，把党的建设作为一项伟大的工程</p><h3 id="形成00-01"><a href="#形成00-01" class="headerlink" title="形成00-01"></a>形成00-01</h3><p>00年2月，“三个代表”的要求（考察广东，江泽民）</p><p>00年6月，全国党校工作会议——“三个代表”回答的是“建设什么样的党、怎样建设党”</p><p>01年7月，庆祝党成立80周年……全面阐述“三个代表”的科学内涵和基本内容——<strong>形成标志</strong></p><h3 id="深化01-02"><a href="#深化01-02" class="headerlink" title="深化01-02"></a>深化01-02</h3><p>02年5月31，中央党校……“贯彻三个代表要求，关键在于与时俱进，核心在保持党的先进性，本质在坚持执政为民”</p><p>十六大，与马列主义、毛泽东思想、邓小平理论一起确立为党的指导思想……党章</p><h2 id="核心观点：中国共产党要始终"><a href="#核心观点：中国共产党要始终" class="headerlink" title="核心观点：中国共产党要始终"></a>核心观点：中国共产党要始终</h2><h3 id="代表中国先进生产力的发展要求-前提和基础"><a href="#代表中国先进生产力的发展要求-前提和基础" class="headerlink" title="代表中国先进生产力的发展要求-前提和基础"></a>代表中国先进生产力的发展要求-前提和基础</h3><p>生产力：具有劳动能力的人和生产资料结合形成的改造自然的能力</p><p><em>劳动者素质、生产工具的先进程度、科技水平及其与生产的结合、劳动生产效率</em></p><hr><p>先进生产力：高素质劳动者通过先进的管理方式运用先进生产工具创造社会财富的能力</p><p>先进生产力的发展要求：使得生产力能够先进的各方面条件，系统工程，政经文各个方面的条件：生产关系适应生产力、上层建筑适应经济基础</p><p><em>共产党是政治组织，不能直接代表生产力</em></p><hr><ul><li>为什么必须始终代表：<ul><li>  生产力的观念……马‘的基本观点</li><li>  党的先进性、与时俱进的根本体现</li><li>  党的奋斗历史经验的总结和对国情的把握</li></ul></li><li>怎样代表：党的工作应该符合生产力发展规律，以推动先进生产力发展为目的（全面深化改革，发展教育：提高劳动者素质，尊重知识和人才），通过发展生产力提高人民群众的生活水平</li></ul><h3 id="代表中国先进文化的前进方向-思想保证、精神动力"><a href="#代表中国先进文化的前进方向-思想保证、精神动力" class="headerlink" title="代表中国先进文化的前进方向-思想保证、精神动力"></a>代表中国先进文化的前进方向-思想保证、精神动力</h3><p>文化：精神生产能力和精神产品全面发展</p><p>先进性：适应且有利于解放和发展生产力，有利于社会进步，有利于人的全面发展</p><hr><p>先进文化：马’为指导，以培养四有公民为目标的、面向现代化、世界、未来的、民族的科学的大众的中国特色社会主义文化。……社会主义精神文明。</p><p><em>前进方向：面向现代化、世界、未来的、民族的科学的大众的中国特色社会主义文化</em></p><hr><p>如何把握当代先进文化的前进方向：党的工作要体现三个面向、民族的科学的大众的社会主义文化的要求，促进全民族思想道德和科学文化素质的提高，为社会提供精神动力和智力支持</p><hr><p>坚持社会主义文化的前进方向：</p><ul><li>  坚持马克思主义的指导地位</li><li>  坚持为人民服务、社会主义服务的方向</li><li>  双百方针</li><li>  继承和创新统一，弘扬主旋律+多样化</li><li>  科学理论武装人、正确舆论引导、高尚精神塑造、优秀作品鼓舞</li></ul><hr><p>必须做好思想政治工作</p><h3 id="代表中国最广大人民的根本利益-根本目的、根本力量"><a href="#代表中国最广大人民的根本利益-根本目的、根本力量" class="headerlink" title="代表中国最广大人民的根本利益-根本目的、根本力量"></a>代表中国最广大人民的根本利益-根本目的、根本力量</h3><p><em>政治上：人民当家作主——人民代表大会制度——人民代表代表人民</em></p><p>是什么：长远利益和整体利益——整体和长远不能脱离局部和眼前，局部和眼前要服从整体和长远</p><ul><li>  全面建设小康社会</li><li>  社会主义现代化建设</li><li>  实现中华民族伟大复兴</li></ul><p>为什么：</p><ul><li>  马‘：人民群众是推动历史发展的动力</li><li>  人民群众是党的力量源泉和胜利之本</li><li>  关系中特’社‘的兴衰</li><li>  关系人民群众对党的支持和领导</li></ul><h2 id="主要内容"><a href="#主要内容" class="headerlink" title="主要内容"></a>主要内容</h2><p>发展是党执政兴国的第一要务</p><ul><li>  党的历史地位决定</li><li>  党完成肩负的历史使命的必然选择</li><li>  面对世界变化发展的新形势的战略部署</li><li>  党总结国内外经验教训得出的科学结论</li></ul><p>建立社会主义市场经济体制</p><ul><li>  党的领导下推进的</li><li>  公有制的主体地位——按劳分配</li></ul><p>社会主义市场经济体制基本框架</p><ul><li>  建立现代企业制度</li><li>  培育发展市场体系</li></ul><p>15大，两个一百年</p><h2 id="历史地位"><a href="#历史地位" class="headerlink" title="历史地位"></a>历史地位</h2><ul><li>理论：中国特色社会主义理论体系的持续发展；<ul><li>  继承和发展马’关于人类社会前进最终是由生产力发展决定的，同时是由先进文化引导的，由人民群众推动的基本原理。</li><li>  三位一体：揭示了中国特色社会主义是社会主义市场经济、民主政治、先进文化的有机统一</li><li>  党领导的伟大事业同党的建设伟大工程相互促进的进程</li><li>  深化了党对执政规律、社会建设规律和人民群众规律的理解</li></ul></li><li>加强和改进党的建设、推进中国特色社会主义事业的强大理论武器<ul><li>  回答了建设什么样的党、怎样建设党的问题</li><li>  把党的建设这一伟大工程同中国特色社会主义伟大事业紧密联系</li><li>  赋予党的性质宗旨指导思想和任务以丰富的时代内容</li><li>  增强党的时代前列、先进性，增强党领导的核心地位</li></ul></li></ul><h1 id="科学发展观"><a href="#科学发展观" class="headerlink" title="科学发展观"></a>科学发展观</h1><p>第一要义：发展</p><p>核心立场：以人为本=</p><p>基本要求：全面、协调、可持续</p><p>根本方法：统筹兼顾</p><h2 id="基本问题-1"><a href="#基本问题-1" class="headerlink" title="基本问题"></a>基本问题</h2><p>实现什么样的发展，怎样发展</p><h2 id="形成条件-1"><a href="#形成条件-1" class="headerlink" title="形成条件"></a>形成条件</h2><p>根本依据：我国社会主义初级阶段基本国情和新阶段特征</p><p>十七大报告：八个阶段特征：</p><ul><li>  经济实力：显著增强；但是生产力水平不高，创新能力不强，结构性矛盾、粗放型经济</li><li>  市场经济：初步建立；体制机制障碍</li><li>  人民生活：总体小康；贫富差距大</li><li>  协调发展：农业基础依然薄弱、区域和城乡发展差距</li><li>  民主政治：群众对公平正义的需求</li><li>  文化需求：人民群众生活水平提高对社会主义先进文化提出新的需求</li><li>  社会活力：社会建设管理问题</li><li>  对外开放：国际竞争的日趋激烈，如何维护国家安全</li></ul><p>阶段特点：</p><ul><li>  发展关键期：如何建设全面小康社会</li><li>  改革攻坚期</li><li>  矛盾凸显期</li></ul><p>其他现实：</p><ul><li>  中国进入能源紧缺时代</li><li>  环境污染严重，发展以健康为代价</li><li>  城乡差距、地区差距拉大</li><li>  教育资源不足</li><li>  就业压力大</li></ul><hr><p>实践基础：改革开放以来的实践经验：十个结合</p><ul><li>  坚持马克思基本原理和马克思主义中国化结合（集成与创新）</li><li>  四项基本原则和改革开放结合</li><li>  尊重人民首创精神和加强党的领导结合起来</li><li>  推动经济基础变革和推动上层建筑改革结合</li><li>  发展生产力和推动全民族文明素质提高</li><li>  提高效率和社会公平结合</li><li>  独立自主与参与全球化结合</li><li>  改革开放和社会稳定结合</li><li>  推进中国特色社会主义伟大事业和推动党的建设的伟大工程结合起来</li></ul><p>其他：</p><ul><li>  应对国际金融危机</li><li>  应对非典</li><li>  北京奥运会、世博会、残奥会</li><li>  妥协处理其他重大事件</li></ul><hr><p>重要借鉴：当代世界的发展实践和发展理念</p><ul><li>5060年代的单纯经济增长观</li><li>6070年代的社会综合发展观</li><li>80年代开始的可持续发展</li><li>90年代开始的以人为中心的发展阶段</li><li>国内的思想从以物为中心变为以人为中心，从单纯的经济发展扩展到非经济层面，发展到经济与社会、经济与人、经济与环境协调发展<ul><li>  先污染后治理的模式是代价惨痛的</li></ul></li><li>拉美化现象、发达国家的公平伴随着发展过程</li><li>我国是大规模经济体，发展速度非常快，问题集中出现；大规模农村人口向城市转移；资源消耗速度提高，资源使用率较低</li></ul><h2 id="形成阶段"><a href="#形成阶段" class="headerlink" title="形成阶段"></a>形成阶段</h2><ul><li>是在抗击非典疫情和探索完善社会主义市场经济体制的过程中逐步形成的<ul><li>酝酿形成阶段03-04<ul><li>  03年党的十六届三中全会，第一次提出科学发展观“坚持以人为本，树立全面、协调、可持续的发展观，促进经济社会和人的全面发展”</li><li>  04年《关于加强党的执政能力建设的决定》，把树立和科学发展观作为提高党的执政能力的重要内容</li></ul></li></ul></li><li>？<ul><li>  发展阶段04-06，坚定不移地以科学发展官统领经济社会发展全局</li></ul></li><li>以党的十七大为标志，科学发展观进一步走向成熟<ul><li>  成熟阶段07-12：党的十七大写入党章（中国特色社会主义理论体系）</li></ul></li></ul><h2 id="科学内涵"><a href="#科学内涵" class="headerlink" title="科学内涵"></a>科学内涵</h2><ul><li>  第一要义是发展，解决一切问题的根本方法是发展，但是要科学发展：发展得好和快的关系</li><li>  可持续：生态文明</li><li>  统筹兼顾：眼前利益和长远利益，整体利益和局部利益等</li></ul><h1 id="中国特色社会主义新时代解读"><a href="#中国特色社会主义新时代解读" class="headerlink" title="中国特色社会主义新时代解读"></a>中国特色社会主义新时代解读</h1><p>十九大以后进入新时代……我国发展新的历史方位。</p><p>新时代的直接标志是历史性变革，十八大以来的五年是“极不平凡”的五年：</p><ul><li>  解决想解决而没有解决的难题：反腐败，管住嘴</li></ul><h2 id="基本依据"><a href="#基本依据" class="headerlink" title="基本依据"></a>基本依据</h2><ul><li>  新时代是基于时间的积淀</li><li>  新时代是基于发展的成就</li><li>  新时代是基于主要矛盾的转化</li></ul><hr><h3 id="时代积淀"><a href="#时代积淀" class="headerlink" title="时代积淀"></a>时代积淀</h3><p>只有时间积累到一定时间才能有时代的变化</p><ul><li>  改革开放已经经历40年，“建设有中国特色的社会主义”也已经30多年，<strong>一个历史时期</strong></li><li>  从生产资料私有制的社会主义改造基本完成到社会主义现代化的基本实现需要100年，现在已经是<strong>初级阶段的下半程</strong></li><li>  处于全面建成小康社会的冲刺阶段，准备踏上现代化的进程，是属于<strong>社会主义现代化的阶段性目标</strong>后半程</li></ul><h3 id="发展的成就"><a href="#发展的成就" class="headerlink" title="发展的成就"></a>发展的成就</h3><p>改革开放的新时期，最显著的成就是发展快速</p><p>“四个实力”进入世界前列，“五个面貌”发生前所未有的变化，构成了新时代的基础</p><ul><li>经济、科技、国防、综合国力<ul><li>  经济总量连续增长40年，2018超过90万亿</li><li>  逐渐走进世界舞台中央（15%世界GDP占比）：2010“跃居世界第二”，11到13“居于世界第二”，十九大“稳居”</li><li>  人均GDP：200-8800,2010年人均GDP进入了上中等收入发展阶段……迈向高收入发展阶段：世界摆脱贫困的方案</li><li>  经济结构：产业结构第三产业超过50%；世界第一大工业制造业国家；</li><li>  城镇化率：58.62%(2016）</li><li>  消费结构：农村28%，城镇26%恩格尔系数</li></ul></li><li>党、国家、人民、军队、中华民族的面貌</li></ul><hr><p><strong>十八大之后五年变革</strong></p><p>经济建设、全面深化改革</p><p>民主法治建设、思想文化建设</p><p>人民生活</p><p>生态文明建设</p><p>强军兴军、从严治党</p><p>港澳台工作、全方位外交布局</p><hr><p>法制建设新十六方针：</p><p>科学立法（质量）、严格执法、公正司法、全民守法</p><h3 id="主要矛盾的转化"><a href="#主要矛盾的转化" class="headerlink" title="主要矛盾的转化"></a>主要矛盾的转化</h3><p>人民日益增长的美好生活需要和不平衡不充分发展之间的矛盾</p><ul><li>对物质文化提出了更高的要求，而且在民主法治公平等方面的要求日益增长</li><li>社会生产力水平总体显著提高，社会生产力在很多方面进入世界前列，但是不平衡不充分问题开始突出<ul><li>  （179）区域领域发展不平衡，制约总体发展水平；一些领域欠发展</li></ul></li></ul><hr><p>为什么转化：</p><ul><li>  人民需求日益广泛，从物质需要拓展</li><li>  从社会生产来看，生产力水平增强，而因此很多方面都会进入世界前列</li></ul><hr><p>社会主义矛盾的变化没有改变我们对于我国社会主义所处历史阶段的判断，我国仍将长期处于社会主义初级阶段，我们仍是世界最大发展中国家（世界地位）</p><h2 id="基本内涵"><a href="#基本内涵" class="headerlink" title="基本内涵"></a>基本内涵</h2><h3 id="民族复兴"><a href="#民族复兴" class="headerlink" title="民族复兴"></a>民族复兴</h3><p>站起来、富起来、强起来的飞跃，迎来了实现民族复兴的光明前景</p><h3 id="社会主义"><a href="#社会主义" class="headerlink" title="社会主义"></a>社会主义</h3><p>科学社会主义在二十一世纪换发强大生机活力，在世界上举起了中国特色社会主义伟大旗帜</p><h3 id="世界贡献"><a href="#世界贡献" class="headerlink" title="世界贡献"></a>世界贡献</h3><p>中国特色社会主义道路、理论、制度、文化不断发展，拓展了发展中国家走向现代化的途径……中国方案</p><h2 id="重要意义"><a href="#重要意义" class="headerlink" title="重要意义"></a>重要意义</h2><ul><li>  承前启后、继往开来……继续<strong>中国特色社会主义</strong>伟大胜利的时代</li><li>  全面小康、社会主义现代化强国的时代（<strong>两个一百年</strong>）</li><li>  团结奋斗、创造美好生活、实现<strong>共同富裕</strong>的时代</li><li>  奋力实现伟大复兴的<strong>中国梦</strong>的时代</li><li>  走进世界舞台中央，为人类做出更大贡献的时代（<strong>世界贡献</strong>）</li></ul><hr><ul><li>中华人民共和国发展史上：全面建成小康、社会主义现代化强国（70年）</li><li>中华民族发展史上：共同富裕、伟大复兴中国梦（180年）</li><li>世界社会主义发展史上：在新的历史条件下继续夺取中特社伟大胜利的时代（500年）（1516年，莫尔，《乌托邦》<ul><li>  空想——科学</li><li>  理想——现实</li><li>  一国——多国</li></ul></li><li>人类社会发展史上：走进世界舞台中央，为人类做出更大贡献的时代</li></ul><h1 id="习近平新时代中国特色社会主义思想形成背景"><a href="#习近平新时代中国特色社会主义思想形成背景" class="headerlink" title="习近平新时代中国特色社会主义思想形成背景"></a>习近平新时代中国特色社会主义思想形成背景</h1><h2 id="新时代面临新形势"><a href="#新时代面临新形势" class="headerlink" title="新时代面临新形势"></a>新时代面临新形势</h2><h3 id="民族复兴由大向强的关键期"><a href="#民族复兴由大向强的关键期" class="headerlink" title="民族复兴由大向强的关键期"></a>民族复兴由大向强的关键期</h3><p>由站起来、富起来向强起来的飞跃</p><ul><li>  政治上的“修昔底德陷阱”，避免大国冲突和对抗：延误复兴</li><li>  经济上“中等收入陷阱”，从中等收入到高收入：导致经济停滞不前</li></ul><h3 id="两个一百年目标的历史交会期"><a href="#两个一百年目标的历史交会期" class="headerlink" title="两个一百年目标的历史交会期"></a>两个一百年目标的历史交会期</h3><p>我们比历史上任何时期都接近伟大复兴目标，但是不是轻松就能实现</p><h3 id="创新发展转型升级机遇期"><a href="#创新发展转型升级机遇期" class="headerlink" title="创新发展转型升级机遇期"></a>创新发展转型升级机遇期</h3><p>经济发展变成新常态：</p><ul><li>  增长速度从高速变为中高速</li><li>  结构：从增量扩能为主变为调整存量和做优增量并存——资源要素重新组合利用</li><li>  发展动力：从传统增长点转向更多元的创新驱动——科技成果转化率仅有10%，低于发达国家</li><li>  发展形态：粗放型转向集约增长</li></ul><h3 id="诸多矛盾风险隐患高发期"><a href="#诸多矛盾风险隐患高发期" class="headerlink" title="诸多矛盾风险隐患高发期"></a>诸多矛盾风险隐患高发期</h3><ul><li>  恐怖主义、海盗活动、自然灾害等</li><li>  意识形态领域：新媒体被利用为攻击武器，谣言传言等迅速传播</li></ul><h3 id="深化改革完善制度攻坚期"><a href="#深化改革完善制度攻坚期" class="headerlink" title="深化改革完善制度攻坚期"></a>深化改革完善制度攻坚期</h3><p>改革的历史任务没有完成，发展中的不平衡不协调不充分不可持续，科技创新能力不强，城乡发展差距、社会矛盾等等</p><p>反腐败斗争形式严峻、<strong>复杂</strong>——腐败+政治问题</p><h3 id="政治生态党风党规重塑期"><a href="#政治生态党风党规重塑期" class="headerlink" title="政治生态党风党规重塑期"></a>政治生态党风党规重塑期</h3><p>党内政治生活的问题：理想信念不坚定；脱离群众；个人主义、山头主义、官僚主义；等等……</p><p><strong>党的先进性、纯洁性</strong></p><h2 id="新时代新的要求"><a href="#新时代新的要求" class="headerlink" title="新时代新的要求"></a>新时代新的要求</h2><ul><li>中高速发展与中高端水平匹配、创新经济发展道路<ul><li>  速度降下来、水平提上去</li><li>  发展的质量和效益</li><li>  粗放式发展牺牲了环境，降低了生活水平</li></ul></li><li>强化改革动力和保持社会稳定相协调，创新社会运行机制<ul><li>  强化改革动力：全面深化改革——体制机制的，利益关系调整——改革稳中求进、稳中求变</li><li>  改革力度、发展速度和社会承受度统一起来，动态和稳态之间保持平衡</li></ul></li><li>破除陈年老疾和重塑政治生态相结合，创新社会规则体系<ul><li>  严肃党内政治生活、净化党内政治生态</li><li>  清除潜规则、强化明规则</li></ul></li><li>纠风反腐提振党心和保障民生凝聚民心结合，创新党的群众路线<ul><li>  铲除腐败是群众路线的根本要求</li><li>  脱贫攻坚是凝聚民心的重要举措</li></ul></li><li>加强党的领导权威和增强社会创造活力结合，创新执政党领导方式</li><li>大国治理与大国外交相配合，创新治国理政方略<ul><li>  内外联动效应，提高对外开放，适应变化的世界局势</li><li>  把握发展机遇，营造良好发展外部环境</li><li>  参与全球治理体系变革，人类命运共同体</li></ul></li><li>实现奋斗目标和着力防控风险相统筹，创新现代风险治理道路</li></ul><h1 id="习近平新时代中国特色社会主义思想的主要内容"><a href="#习近平新时代中国特色社会主义思想的主要内容" class="headerlink" title="习近平新时代中国特色社会主义思想的主要内容"></a>习近平新时代中国特色社会主义思想的主要内容</h1><h2 id="基本问题-2"><a href="#基本问题-2" class="headerlink" title="基本问题"></a>基本问题</h2><p>新时代坚持和发展什么样的中国特色社会主义、怎样坚持和发展中特社</p><h2 id="鲜明主题和核心要义"><a href="#鲜明主题和核心要义" class="headerlink" title="鲜明主题和核心要义"></a>鲜明主题和核心要义</h2><p>主题：中国特色社会主义</p><p>课题：新时代坚持和发展什么样的中国特色社会主义、怎样坚持和发展中特社</p><p>创新成果：新时代中国特色社会主义思想</p><p><em>主题展开课题，课题建构要义</em></p><hr><ol><li>大历史观维度：阐释中特社的历史渊源，为坚持和发展中特社做出了根本性的历史奠基<ol><li> 改革开放40年，共和国70年，党领导社会革命97年，近代以来复兴170年，中华文明5000年</li></ol></li><li>主体权利的维度（根本成就）：阐发中特社的根本成就，为坚持和发展中特社提供了四个自信的实践底蕴美好<ol><li>根本成就：中特社</li><li>根本成就突出了党和中华民族作为当代中国发展进步主体的地位和权利</li><li>道路、理论、制度、文化<ol><li> <em>有了路，就要有导航（理论），然后就要遵守交通规则（制度），然后还要保持良好的精神状态（文化）</em></li></ol></li></ol></li><li>中国共产党奋斗发展特征（革命传统）：揭示中特社的伟大社会革命性质，为……明确了必须进行伟大斗争的战略要求<ol><li> 法制思维下进行斗争</li></ol></li><li>三大规律的层面（本质特征）：中特社的本质特征是党的领导，为……提供了根本遵循<ol><li> <em>人类社会发展、社会主义建设规律、执政党建设规律</em></li><li> 中国最大的国情就是党的领导</li></ol></li></ol><h2 id="八个明确"><a href="#八个明确" class="headerlink" title="八个明确"></a>八个明确</h2><ol><li>_根本主题、奋斗目标_明确坚持和发展中特社总任务是实现社会主义现代化和中华民族伟大复兴……世纪中叶社会主义现代化强国<ol><li> 初心和使命：谋幸福、谋复兴</li></ol></li><li>_价值取向_明确新时代我国社会主要矛盾是人民日益增长的美好生活需要和不平衡不充分发展之间的矛盾<ol><li>必须坚持人民为中心的发展思想</li><li>促进人的全面发展、全体共同富裕</li><li>不平衡：<ol><li> 区域</li><li> 领域</li><li> 成果共享</li></ol></li><li>不充分：<ol><li> 创新能力</li><li> 实体经济水平</li><li> 发展能力和水平</li><li> 发展质量和效益</li></ol></li></ol></li><li>_总体方略_明确中特社事业总体布局是”五位一体“，战略布局是”四个全面“，坚定四个自信<ol><li> 五位一体（一般）：富强民主文明和谐美丽</li><li> 四个全面（重点）：全面小康、全面深化改革、全面依法治国、全面从严治党</li></ol></li><li>明确全面深化改革总目标是<ol><li>完善和发展中特社制度<ol><li> 说明方向是社会主义方向</li></ol></li><li>推进国家治理体系和治理能力现代化</li></ol></li><li>明确全面推进依法治国总目标是建设中特社法治体系、建设社会主义法治国家<ol><li><strong>是法治体系</strong>不是_法律体系_<ol><li> 法律规范体系</li><li> 法制实施体系</li><li> 法治监督体系</li><li> 法治保障体系</li><li> 党内法规体系</li></ol></li><li>法治还是人治的标志：法是否是至高无上的</li></ol></li><li>明确党在新时代的强军目标是<ol><li> 听党指挥、能打胜仗、作风优良</li><li> 人民军队……世界一流军队</li></ol></li><li>明确中国特色大国外交要推动构建新型国际关系，推动构建人类命运共同体<ol><li>人类命运共同体：政治、安全、经济、文化、生态<ol><li> 持久和平</li><li> 普遍安全</li><li> 共同繁荣</li><li> 开放包容</li><li> 清洁美丽</li></ol></li></ol></li><li>明确中特社的<ol><li> 最本质特征是党的领导</li><li> 最大优势是党的领导</li><li> 党是最高政治领导力量，突出政治建设在党的建设中的重要地位</li></ol></li></ol><h2 id="基本方略"><a href="#基本方略" class="headerlink" title="基本方略"></a>基本方略</h2><ol><li> 党对一切工作的领导</li><li> 人民为中心</li><li> 全面深化改革</li><li> 新发展理念</li><li> 人民大家做主</li><li> 全面依法治国</li><li> 社会主义核心价值观体系</li><li> 发展中保障和发展民生</li><li> 人与自然和谐共生</li><li> 总体国家安全观</li><li> 当对人民军队的绝对领导</li><li> 一国两制和推进祖国统一</li><li> 推进构建人类命运共同体</li><li> 全面从严治党</li></ol><h2 id="新“两步走”的新"><a href="#新“两步走”的新" class="headerlink" title="新“两步走”的新"></a>新“两步走”的新</h2><ol><li> 战略目标完成的时间（基本实现现代化）提前了15年</li><li> 战略目标的内容更丰富：增加了美丽（生态文明）</li><li> 战略目标指向性更明确：从现代化国家变成社会主义现代化强国</li></ol><p><em>1956年报告的美指的是美国，2017年报告的美多是美丽、美好</em></p><h2 id="主要矛盾转化"><a href="#主要矛盾转化" class="headerlink" title="主要矛盾转化"></a>主要矛盾转化</h2><ol><li>人民需要的角度，内涵扩展、层次提升<ol><li> 对物质及非物质的方面都提出了新的需要</li><li> 追求质量更高的生活</li></ol></li><li>生产的角度，生产力水平提高、生产能力极大增强</li></ol><hr><p>从较低层级供需矛盾变为中高层级，“数量短缺”到“优质不足”。</p><p>社会发展中的基础性问题，治国理政就是要解决主要矛盾。</p><h1 id="实现中华民族伟大复兴的中国梦"><a href="#实现中华民族伟大复兴的中国梦" class="headerlink" title="实现中华民族伟大复兴的中国梦"></a>实现中华民族伟大复兴的中国梦</h1><h2 id="为什么要实现复兴"><a href="#为什么要实现复兴" class="headerlink" title="为什么要实现复兴"></a>为什么要实现复兴</h2><p>2012年11月29日提出的“中国梦”</p><p>曾经经历过辉煌，也经历过苦难；</p><ul><li>古代长期处于世界领先的地位<ul><li>  19世纪以前科技发明领先世界</li><li>  历朝盛世彰显了中国社会治理的智慧</li></ul></li><li>近代以来经历过很多苦难<ul><li>鸦片战争之后，各阶级、各种政治力量都曾领导力图挽救中国与危亡之中的运动，但是都失败了</li><li>20世纪初的大大小小的资产阶级政党都很快销声匿迹，因为缺少科学的理论、正确的纲领进行指导，没有得到广大人民群众的支持</li><li><strong>共产党肩负着实现中华民族伟大复兴的历史使命</strong><ul><li>  新民主主义革命</li><li>  社会主义革命</li><li>  改革开放</li></ul></li></ul></li><li>共产党领导人民取得的三个革命的胜利使5000年历史的中华文明重新焕发生机、中华民族续写新辉煌</li></ul><h2 id="什么是"><a href="#什么是" class="headerlink" title="什么是"></a>什么是</h2><p><strong>是要使中华民族跻身于先进民族之林，为人类做出贡献的份额尽量扩大</strong></p><p>科学内涵：本质是国家富强、民族振兴、人民幸福</p><h3 id="为什么要用“中国梦”"><a href="#为什么要用“中国梦”" class="headerlink" title="为什么要用“中国梦”"></a>为什么要用“中国梦”</h3><p>中国梦：</p><ul><li>  最大公约数——凝聚共识</li><li>  中国人民和中华民族的价值认同和价值追求，每个人都能在为中国梦的奋斗中实现自己的梦想</li></ul><h3 id="国家富强"><a href="#国家富强" class="headerlink" title="国家富强"></a>国家富强</h3><p>综合国力进一步增强，中国特色社会主义事业进一步发展和完善</p><ul><li>  经济发达</li><li>  政治民主</li><li>  文化繁荣</li><li>  社会和谐</li><li>  生态美好</li></ul><h3 id="民族振兴"><a href="#民族振兴" class="headerlink" title="民族振兴"></a>民族振兴</h3><p>继承和创造中华民族的优秀文化、先进文明成果，进而使中华民族再次处于世界领先的地位。</p><h3 id="人民幸福"><a href="#人民幸福" class="headerlink" title="人民幸福"></a>人民幸福</h3><ul><li>  人民权利保障更加充分</li><li>  人人共同发展</li><li>  人民共同享有人生出彩的机会、梦想成真的机会、与祖国和时代一起成长和进步的机会</li></ul><h2 id="中国梦的特点"><a href="#中国梦的特点" class="headerlink" title="中国梦的特点"></a>中国梦的特点</h2><ol><li>国家的追求、民族的向往、人民的期盼融为一体<ol><li> 国家富强、民族振兴是人民幸福的基础和保障</li><li> 人民幸福是其他的根本出发点和落脚点</li></ol></li><li>三个层次的情怀统一</li><li>最终是人民的梦<ol><li> 全体人民追求的</li><li> 造福全体人民的</li></ol></li><li>是每个中国人的梦</li><li>中国梦与世界各国人民的美好梦想是相通的<ol><li>和平、发展、合作、共赢的梦，不是扩张梦、霸权梦<ol><li> 和平：“天下太平、共享大同”的千年理想；曾经是最强大的国家但是“协和万邦；近代以来的苦难中国人民更珍惜和平、稳定</li><li> 共赢：中国自己的发展对世界各国提供了重要机遇，也是世界经济增长的重要动力源；人类命运共同体</li></ol></li><li>中国人民和各国人民可以在实现梦想过程中互相支持、帮助；中国方案、中国经验</li><li>是奉献世界的梦：造福自己也造福各国人民；”穷则独善其身，达则兼济天下“；把自己治理好就是对世界的贡献</li></ol></li></ol><h2 id="如何实现"><a href="#如何实现" class="headerlink" title="如何实现"></a>如何实现</h2><ol><li>必须走中国道路、弘扬中国精神、凝聚中国力量<ol><li> 中国特色社会主义道路，四个自信</li><li> 爱国主义……民族精神，改革创新……时代精神（兴国之魂、强国之魂）</li><li> 全国各族人民大团结的力量（中华民族命运共同体）</li></ol></li><li>需要艰苦奋斗<ol><li> 实干兴邦</li></ol></li><li>需要和平<ol><li> 搞建设需要和平稳定的环境</li></ol></li></ol><h1 id="建成社会主义现代化强国的战略安排"><a href="#建成社会主义现代化强国的战略安排" class="headerlink" title="建成社会主义现代化强国的战略安排"></a>建成社会主义现代化强国的战略安排</h1><h2 id="建设社会主义现代化强国是中国共产党确立的伟大目标"><a href="#建设社会主义现代化强国是中国共产党确立的伟大目标" class="headerlink" title="建设社会主义现代化强国是中国共产党确立的伟大目标"></a>建设社会主义现代化强国是中国共产党确立的伟大目标</h2><p>90年来中国共产党领导人民奋斗的目标都是为了民族伟大复兴，而且只能分布实施</p><ul><li>54年首次提出四个现代化的目标<ul><li>  工业、农业、交通运输业、国防</li></ul></li><li>56年八大将实现四个现代化的任务写入党章</li><li>64年，“现代农业、现代工业、现代国防和现代科学技术的社会主义强国”（设想到20世纪结束的时候）</li><li>75年，重申分两步走，全面实现四个现代化的战略安排<ul><li>  15年，建立独立的、比较完整的工业体系和国民经济体系</li><li>  二十世纪末，实现四个现代化</li></ul></li><li>改革开放后：一心一意搞四个现代化</li><li>十三大，建设社会主义现代化国家纳入社会主义初级阶段基本路线</li><li>十五大：改革开放为现代化建设创造了良好体制条件</li><li>十六大：实现包括推进现代化建设在内的三大历史任务</li></ul><p>三大历史任务：推进社会主义现代化、实现祖国统一、维护世界和平</p><h2 id="分两步走全面建成社会主义现代化强国"><a href="#分两步走全面建成社会主义现代化强国" class="headerlink" title="分两步走全面建成社会主义现代化强国"></a>分两步走全面建成社会主义现代化强国</h2><p>把中国现代化建设的长期性与发展的阶段性结合，科学划分发展阶段，始终做到分阶段、有步骤地推进社会主义现代化。</p><ol><li>十二大，分两个10年“两步走”</li><li>十三大：三步走，90比80翻一番，温饱；00比90翻一番；21世纪中叶比00年翻两番</li><li>十五大，新三步走（因为提前实现两番）<ol><li> 10比00翻一番，比较完善社会主义市场经济体制，小康生活宽裕</li><li> 20比10，制度更加完善</li><li> 21世纪中叶基本实现现代化，建成富强民主文明的社会主义国家</li></ol></li><li>十九大<ol><li>20～35,基本实现社会主义现代化<ol><li> 经济建设：经济实力、科技实力跃升，创新型国家</li><li> 政治建设：法制国家、政府、社会；国家治理体系和治理能力现代化基本实现</li><li> 文化建设：国家文化软实力显著增强；国际话语权</li><li> 民生和社会建设：城乡差距、贫富差距缩小，中等收入群体比例明显提高</li><li> 生态文明建设：美丽中国目标</li></ol></li><li>35～中叶，富强民主文明和谐美丽的社会主义现代化强国<ol><li> 五大文明全面提升，综合国力和国际影响力领先的国家</li></ol></li></ol></li></ol><h2 id="准确把握新时代两部走战略安排内涵要求"><a href="#准确把握新时代两部走战略安排内涵要求" class="headerlink" title="准确把握新时代两部走战略安排内涵要求"></a>准确把握新时代两部走战略安排内涵要求</h2><p>新时代两部走战略安排，深化了我们党对共产党执政规律、社会主义建设规律、人类社会发展规律的认识，丰富了党的第二个百年奋斗目标的内涵，体现了我国发展量的提升和质的飞跃的统一。</p><ul><li>把基本实现我国社会主义现代化的时间提前了<ul><li>  因为我国发展成就超出预期</li><li>  考虑了我国发展的巨大潜力</li></ul></li><li>实现社会主义现代化的目标提升了<ul><li>  ……变成了“社会主义现代化强国”，是质的飞跃</li><li>  增加了“美丽”的要求，与五位一体布局一致，体现了伟大事业与伟大梦想的有机统一</li><li>  更加注重发展质量，让人民有获得感、幸福感、安全感</li></ul></li><li>实现社会主义现代化的要求提高了<ul><li>  五大文明同步提升</li><li>  2035年、2050年国家治理体系、能力现代化</li><li>  拓展了现代化建设的内涵和外延，提供制度保障</li></ul></li><li>对发展目标只作原则性展望和要求……发展的新认识，防止GDP崇拜<ul><li>  已经转成高质量发展阶段，发展要科学发展，要贯彻新发展理念</li></ul></li></ul><h2 id="紧紧抓住大有可为的历史机遇期"><a href="#紧紧抓住大有可为的历史机遇期" class="headerlink" title="紧紧抓住大有可为的历史机遇期"></a>紧紧抓住大有可为的历史机遇期</h2><ol><li> 中华民族强起来、复兴的机遇</li><li> 中特社道路、理论、制度、文化成熟、引领力和感召力的机遇</li><li> 中国人民创造美好生活、走向共同富裕的机遇</li><li> 中国共产党执政百年、千秋伟业的机遇</li></ol><ul><li>  快干：马上就办的精神</li><li>  实干：实干兴邦</li><li>  会干：创新工作方法</li><li>  增强忧患意识，注意防范风险：不能犯战略性、颠覆性错误</li></ul><h1 id="习近平新时代中国特色社会主义思想海外影响评析"><a href="#习近平新时代中国特色社会主义思想海外影响评析" class="headerlink" title="习近平新时代中国特色社会主义思想海外影响评析"></a>习近平新时代中国特色社会主义思想海外影响评析</h1><p>十九大报告提出的指导思想“习思想”</p><h2 id="习思想的理论背景"><a href="#习思想的理论背景" class="headerlink" title="习思想的理论背景"></a>习思想的理论背景</h2><p>思想来源</p><ul><li>  个人的思想发展历程（和毛泽东式的很不一样）……个人和领导风格的混合体……1950s的无私价值观……良好道德品质</li><li>  对传统儒家思想的重视……儒家学说的一家之长</li></ul><hr><p>思想传承</p><p>继承和发展了邓小平理论的思想，不是“割裂”的</p><hr><p>思想贡献</p><p>集体智慧的结晶，习个人对思想的形成和发展作出了主要贡献</p><h2 id="主要内容-1"><a href="#主要内容-1" class="headerlink" title="主要内容"></a>主要内容</h2><p>内容体系：十四个基本方略，“习近平治国理政计划”</p><p>相关思想：强军思想、习思想经济思想、习近平生态文明思想、习思想外交思想</p><p>新提法：“新时代”为中国政体提供了一个本体论基础和术语起点……重构共产党的历史……中国将站在世界舞台的中央；“新矛盾”；“新征程”</p><h2 id="世界意义"><a href="#世界意义" class="headerlink" title="世界意义"></a>世界意义</h2><p>为发展中国家提供中国智慧和中国方案</p><p>为建立新型国家关系提供思想产品：不输入外国模式也不输出中国模式</p><p>人类命运共同体提供旗帜引领：不是你死我亡的关系</p><h2 id="反思"><a href="#反思" class="headerlink" title="反思"></a>反思</h2><p>对外传播的障碍：</p><ul><li>  意识形态障碍</li><li>  中国“野心”和“新强权”论</li></ul><p>所以要与错误的思想斗争，站出来说话</p><hr><p>传播经验：</p><ul><li>  善于讲故事…外国受众对具体真实的个案、生动有趣的故事、戏剧性冲突性的情节有兴趣，对概念不感兴趣</li><li>  善于提炼标识性概念：研究不同受众的习惯和特点，让外国人能快速掌握</li><li>  善于利用新技术新媒体</li></ul><hr><p>做好对外传播的对策：</p><ul><li>  保持战略定力：四个自信……西方人用西方的东西来解释中国的实践，但是这是水土不服的</li><li>  及时澄清和发声：对国际舆论的误解和否定都要第一时间批判和反驳</li><li>  提高国家文化软实力</li></ul>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 课堂笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日琐碎</title>
      <link href="/posts/99aa7c50/"/>
      <url>/posts/99aa7c50/</url>
      
        <content type="html"><![CDATA[<p>一忙碌，就会增加压力，就会没有办法自己排解，就会误伤无辜。都知道，却都没有办法避免。</p><hr><p>今天上的计量经济学课，一点都没听，倒是翻开了财务会计疯狂地看。把投资剩下的几页看完了，然后固定资产的40页看了20多，本来打算今天之内能够看完，结果flag又倒了。主要花了时间在摸索bcache上。</p><hr><p>体育课非常的难以描述。课开始的时候温大佬告诉我下星期就考1000米，但是跑一下就气喘的体质怎么过下个星期的考试呢。虽然这个老师并不会让人挂科，但是也会想尽力考高的。尽力每天都去跑步吧，努力一下至少得有个分呀。然后体育课一整节都是踢球，作为后卫应该算是尽心尽力了，只丢了一个球。但是完全不会进攻，带球不行，传球也不好，果然是进攻难防守容易。做队友能够放心的后盾。</p><hr><p>昨天吵完架，今天和好了，算是好事一件。</p><hr><p>晚上金融市场学，虽然老师一如既往让我感叹他知识渊博，除了教我们课本内容，还补充了很多中国的实际情况，是非常有利的，但是比较碎片化，不像毛概一样很系统。所以非常难做笔记，Typora里面用的很多水平线做分割——毕竟有的内容和上面的不承接，但是又不足以单独开一个title来记，就很麻烦。</p><p>所以听课半听不听，选择了完善一下archwiki的翻译。有的中文页面真是奇葩，竟然把英文页面搬过来，然后把Installation之类的标题给翻译成中文就算了。最麻烦的就是这种，要完全重做的。</p><hr><p>上完课继续去跑步，但是体质不是一天两天能提高的，依然是第二圈就肚子痛了，配速还是5分钟，不行呢。</p>]]></content>
      
      
      <categories>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>deepin-wine-wechat</title>
      <link href="/posts/4270b1b8/"/>
      <url>/posts/4270b1b8/</url>
      
        <content type="html"><![CDATA[<h1 id="archlinux-KDE"><a href="#archlinux-KDE" class="headerlink" title="archlinux+KDE"></a>archlinux+KDE</h1><p>首先参考的是<a href="https://aur.archlinux.org/packages/deepin.com.qq.office/">AURdeepin qq</a>的评论区，留意其中关于Deepin QQ（Office）的_X Error of failed request: BadWindow_ 评论。</p><p>由<a href="https://github.com/wszqkzqk/deepin-wine-ubuntu/issues/12">github issue KDE环境完全无法使用wine-tim</a>可知在KDE环境下无法启动deepin-wine系列的东西是因为缺少了gnome依赖。所以用console启动的时候可以看见报错是_X Error of failed request: BadWindow_ 之类的（依靠这个才找到AUR，才解决了问题）。</p><p>所以就是怎么办的问题。置顶评论只是解决了中文无法输入的问题，或者是治标不治本的简单粗暴方法：直接换用gnome。但是下面评论的一条解决了问题：</p><blockquote><p>…… 非gnome系的解决方案：安装gnome-settings-daemon，然后运行/usr/lib/gsd-xsettings</p><p>manjaro+awesome下测试通过</p></blockquote><p>确实OK了。最后再加一个systemd服务在开机的时候自动启动就好了：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[Unit]</span><br><span class="line">Description=GSD-Xsettings Service</span><br><span class="line">After=rc-local.service</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=root</span><br><span class="line">Group=root</span><br><span class="line">#WorkingDirectory=/home/sieve</span><br><span class="line">ExecStart=/usr/lib/gsd-xsettings</span><br><span class="line">Restart=always</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="gentoo"><a href="#gentoo" class="headerlink" title="gentoo"></a>gentoo</h1><h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><p>gentoo下官方当然是没有这个包的，所以要靠野包(overlay)来实现。首先是安装layman来管理overlay，然后<code>layman -L &amp;&amp; layman -a deepin</code>把deepin的overlay加进去。他们的github是：<a href="https://github.com/zhtengw/deepin-overlay">deepin-overlay</a>。 第二步，<code>emerge --ask deepin-wine-wechat</code>，甚至可以加上<code>--newuse --update</code>，然后就会出现一大堆条件未满足，一般会在<code>/etc/portage/package.use</code>文件夹里面产生<code>._cfg</code>开头的文件，把那个文件<code>cat</code>进<code>/etc/portage/package.use</code>里面的一个文件里面就好了，我是<code>cat</code>进了<code>wechat</code>文件里面。然后再来一次<code>emerge</code>，这次应该就能开始编译了。</p><h2 id="再次编译"><a href="#再次编译" class="headerlink" title="再次编译"></a>再次编译</h2><p>编译完成之后，用命令行启动，会发现出现段错误，查找github可以发现有人提过一个<a href="https://github.com/microcai/gentoo-zh/issues/507#issuecomment-464426588">issue</a>谈到这个问题。解决问题的办法就是用-O1重新编译一次x11-libs/libxcb和x11-libs/libX11，命令是<code>CFLAGS=&quot;-march=native -O1 -pipe&quot; emerge --ask x11-libs/libxcb x11-libs/libX11</code>。</p><h2 id="安装gnome-settings-daemon"><a href="#安装gnome-settings-daemon" class="headerlink" title="安装gnome-settings-daemon"></a>安装gnome-settings-daemon</h2><p>这是和上面的一样的了，稍有不同的是gentoo安装好的要执行的文件的路径是<code>/usr/libexec/gsd-xsettings</code>。往<code>/opt/deepinwine/tools/run_v2.sh</code>的RunApp()里面添加：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [[ -z <span class="string">&quot;<span class="subst">$(ps -e  grep -o gsd-xsettings)</span>&quot;</span> ]];<span class="keyword">then</span></span><br><span class="line">         /usr/libexec/gsd-xsettings    &amp;</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>就可以启动微信了。</p><h2 id="中文呢？"><a href="#中文呢？" class="headerlink" title="中文呢？"></a>中文呢？</h2><p><code>/opt/deepinwine/apps/Deepin-WeChat/run.sh</code>里面需要export一些环境变量：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export LC_ALL=zh_CN.UTF8</span><br><span class="line">export XMODIFIERS=@im=fcitx</span><br><span class="line">export QT_IM_MODULE=fcitx</span><br><span class="line">export GTK_IM_MODULE=fcitx</span><br></pre></td></tr></table></figure><p>丑是丑了点，但是能用了。</p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
          <category> gentoo </category>
          
          <category> Linux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
            <tag> deepin-wine </tag>
            
            <tag> deepin-wine-wechat </tag>
            
            <tag> gentoo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日琐碎</title>
      <link href="/posts/99aa7c50/"/>
      <url>/posts/99aa7c50/</url>
      
        <content type="html"><![CDATA[<p>终于花又开了。去年这个时候每个星期都要跑到二号楼上课，然后看见很多玉兰。今年只在主教附近活动，倒是只能看到校道上的了。</p><p>最近几天手都挺冷的，天气也很冷。虽然温度也不算低，但是很有春天式的冻。</p><p>昨天和今天都忙于把unbound的文档翻译成中文。虽然翻译水平不高，但是如果有需要的人看到应该也是能够看懂的。做一下翻译来维持一下英文水平才行了。大概就是所谓的来到这个世界不能只是想着要得到什么，也要想着能够贡献什么吧。</p><p>今天和昨天终于把第三第四章的成本会计笔记给补上了。但是还有那么多，大概期末考试是一定会完蛋的了。辅修证也够啦，双学位就不要了。</p><p>那么UI是今天做还是明天做呢。</p>]]></content>
      
      
      <categories>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计量经济-课堂笔记</title>
      <link href="/posts/baffb28f/"/>
      <url>/posts/baffb28f/</url>
      
        <content type="html"><![CDATA[<h1 id="序"><a href="#序" class="headerlink" title="序"></a>序</h1><h2 id="什么是计量经济学"><a href="#什么是计量经济学" class="headerlink" title="什么是计量经济学"></a>什么是计量经济学</h2><h2 id="计量经济学方法"><a href="#计量经济学方法" class="headerlink" title="计量经济学方法"></a>计量经济学方法</h2><p>理论 ——&gt; 模型 ——&gt; 计量经济模型（加了随机性和不确定性）</p><p>事实 ——&gt; 数据 ——&gt; 加工好的数据</p><p>统计理论 ——&gt; 计量经济技术</p><p>用计量经济技术，用加工好的数据，估计计量经济模型</p><p>计量经济学的主要工作：估计参数；检验基于经济理论或假说的关系式是否成立</p><h3 id="计量经济学建模的步骤"><a href="#计量经济学建模的步骤" class="headerlink" title="计量经济学建模的步骤"></a>计量经济学建模的步骤</h3><p>Q=\alpha + \beta P+\mu</p><p>引入扰动项$\mu$后就将需求函数变为计量经济模型。线性：参数是线性的，变量都是一次的。</p><p>结构参数：截距、截率，无法观测，所以需要获得相关数据来进行估算：时间序列数据和横截面数据</p><p>横截面数据：同一时点采集的不同个体的数据（具有随机性）；纵向时间序列数据：等距采集的数据；面板数据：第一次随机选取人群，随后等距连续对同一群人采集</p><h2 id="计量经济模型及其应用"><a href="#计量经济模型及其应用" class="headerlink" title="计量经济模型及其应用"></a>计量经济模型及其应用</h2><h1 id="古典线性回归模型"><a href="#古典线性回归模型" class="headerlink" title="古典线性回归模型"></a>古典线性回归模型</h1><p>$$<br>T=\alpha +\beta x + u,n&gt;=3<br>$$</p><p>普通最小二乘法，</p><p>\hat \beta = \frac{\Sigma x_ty_t}{\Sigma x_t^2}</p><p>\hat \alpha = \overline Y - \hat \beta \overline X</p><p>x_t=X_t-\overline X</p><p>y_t=Y_t-\overline Y</p><p>\overline X=\frac{\Sigma X_t}{n}</p><p>\overline Y = \hat \alpha + \hat \beta \overline X</p><p>一定在回归直线上</p><p>(\overline X,\overline Y)一定在回归直线上</p><p>\Sigma x_t=0</p><p>散点均匀分布于垂直线两侧</p><p>散点均匀分布于垂直线X=\overline X两侧</p><p>\Sigma y_t=0</p><p>均匀分布于水平线</p><p>……均匀分布于水平线Y=\overline Y</p><p>（目标函数一阶偏导）</p><p>\Sigma e_x=0（目标函数一阶偏导）</p><p>均匀分布于回归线左右两侧</p><p>均匀分布于回归线\hat Y=\hat \alpha + \hat \beta X左右两侧</p><p>\Sigma x_ty_t=\Sigma x_t(Y_t-\overline Y)=\Sigma x_tY_t=\Sigma X_ty_t</p><h2 id="最佳线性无偏估计量（高斯·马尔科夫定理）"><a href="#最佳线性无偏估计量（高斯·马尔科夫定理）" class="headerlink" title="最佳线性无偏估计量（高斯·马尔科夫定理）"></a>最佳线性无偏估计量（高斯·马尔科夫定理）</h2><p>对于古典线性回归模型，</p><p>Y_t=\alpha + \beta x_t + u_t</p><p>是总体参数的最佳线性无偏估计量</p><p>\hat \alpha \quad \hat \beta是总体参数的最佳线性无偏估计量</p><p>要证明：无偏性（两个参数的数学期望都等于真值）；线性（两个参数都可以表现为被解释变量或扰动项的线性函数）；最佳性（两个参数各自的方差对于其他所有线性无偏估计量都是最小的）</p><p>\Sigma e^2_t=0</p><h3 id="证明均值"><a href="#证明均值" class="headerlink" title="证明均值"></a>证明均值</h3><p>\hat \beta = \frac{\Sigma x_ty_t}{\Sigma x_t^2}=\frac{\Sigma x_tY_t}{\Sigma x_t^2}=\frac{\Sigma x_t(\alpha + \beta X_t+u_t)}{\Sigma x_t^2}=\frac{\alpha \Sigma x_t+\beta \Sigma x_tX_t+\Sigma x_tu_t}{\Sigma x_t^2}=\beta + \frac{\Sigma x_tu_t}{\Sigma x_t^2}</p><p>两边取期望值（小x非随机）(扰动项均值为0)</p><p>E(\hat \beta)=\beta + \frac{\Sigma x_t E(u_t)}{\Sigma x_t^2}=\beta</p><p>所以是的无偏估计量（）</p><p>所以\hat \beta是\beta的无偏估计量（UE）</p><p>\Sigma x_tX_t = \Sigma x_t(x_t+\overline X)=\Sigma x_t^2+\overline \Sigma x_t</p><p>由</p><p>由\hat \alpha = \overline Y - \hat \beta \overline X = \frac{\Sigma Y_t}{n}-\hat \beta \overline X=\alpha + \beta\frac{\Sigma X_t}{n}+\frac{\Sigma u_t}{n}-\hat \beta \overline X</p><p>令</p><p>令\overline u = \frac{\Sigma u_t}{n}</p><p>所以</p><p>所以\hat \alpha = \alpha + \beta \overline X+\overline u-\hat \beta \overline X</p><p>E(\hat \alpha)=\alpha+\beta \overline X+E(\overline u)-\overline XE(\hat\beta)</p><p>E(\overline u)=E(\frac{\Sigma u_t}{n}=0)</p><p>E(\hat \alpha)=\alpha+\beta \overline X-\beta \overline X=0</p><h3 id="overline-Y"><a href="#overline-Y" class="headerlink" title="$\overline Y$"></a>$\overline Y$</h3><p>\hat \alpha +\hat \beta \overline X</p><p>\alpha+\beta\overline X+\overline u</p><h3 id="证明线性"><a href="#证明线性" class="headerlink" title="证明线性"></a>证明线性</h3><p>线性：两个估计量是观测值$Y_t$的线性函数</p><p>因为中</p><p>因为\hat\beta=\frac{\Sigma x_tY_t}{\Sigma x_t^2}=\Sigma \frac{x_t}{\Sigma x_t^2}Y_t=\Sigma K_tY_t \quad 中 \quad K_t=\frac{x_t}{\Sigma x_t^2}$</p><p>所以是样本观测值的线性函数，即是的线性无偏估计量</p><p>所以\hat \beta是样本观测值Y_t的线性函数，即\hat\beta是\beta的线性无偏估计量</p><p>同理</p><p>\hat \alpha = \overline Y-\hat\beta \overline X=\frac{\Sigma Y_t}{n}-\frac{\Sigma x_tY_t}{\Sigma x_t^2}\overline X=\Sigma(\frac{1}{n}-\frac{x_t}{\Sigma x_t^2}\overline X)Y_t=\Sigma(\frac{1}{n}-K_t\overline X)Y_t=\Sigma g_tY_t</p><p>…………</p><p>\hat\alpha=\alpha + \Sigma g_tu_t</p><h3 id="证明方差"><a href="#证明方差" class="headerlink" title="证明方差"></a>证明方差</h3><p>D(\hat\beta)=E(\hat\beta-\beta)^2</p><p>\hat\beta-\beta=\frac{\Sigma x_tu_t}{\Sigma x_t^2}</p><p>\frac{1}{(\Sigma x_t^2)^2}(\Sigma x_tu_t)^2=\frac{1}{\Sigma x_t^2}^2(\Sigma (x_i^2u_i^2+x_ix_ju_iu_j))</p><p>E(\hat\beta-\beta)^2=\frac{1}{\Sigma x_t^2}^2(\Sigma x^2_iE(u_i^2)+\Sigma x_ix_j*E(u_iu_j))</p><p>D(u_i)=E(u_i^2)=\sigma^2</p><p>Cov(u_i,u_j)=E\{[u_i-E(u_i)][u_j-E(u_j)]\}=E(u_iu_j)=0</p><p>D(\hat\beta)=\sigma^2\Sigma k_t^2=\frac{\sigma^2}{\Sigma x_t^2}</p><p>D(\hat\alpha)=E(\hat\alpha-\alpha)^2</p><p>\hat\alpha-\alpha=\beta\overline X+\overline u-\hat\beta\overline X = \overline u-(\hat\beta-\beta)\overline X</p><p>E(\hat\alpha-\alpha)^2=E(\overline u^2)-2\overline XE[\overline u (\hat\beta-\beta)]+\overline X^2E(\hat\beta-\beta)^2=\sigma^2\frac{\Sigma x^2_t+n\overline X^2}{n\Sigma x_t^2}=\sigma^2\frac{\Sigma x_tX_t+\overline X\Sigma X_t}{n\Sigma x_t^2}=\sigma^2\frac{\Sigma (x_t+\overline X)X_t}{n\Sigma x_t^2}=\frac{\sigma^2\Sigma x_t^2}{n\Sigma x_t^2}</p><p>D(\overline u)=E(\overline u^2)=D(\frac{\Sigma u_t}{n})=\frac{n\sigma^2}{n^2}</p><p>=\sigma^2\frac{\Sigma x^2_t+n\overline X^2}{n\Sigma x_t^2}=\sigma^2\frac{\Sigma x_tX_t+\overline X\Sigma X_t}{n\Sigma x_t^2}=\sigma^2\frac{\Sigma (x_t+\overline X)X_t}{n\Sigma x_t^2}=\frac{\sigma^2\Sigma x_t^2}{n\Sigma x_t^2}</p><p>Cov(\hat\alpha,\hat\beta)=E[(\hat\alpha-\alpha)(\hat\beta-\beta)]=E\{[\bar u -(\hat\beta-\beta)\overline X](\hat\beta-\beta)\}=-\overline X E(\hat\beta-\beta)^2-E[\bar u (\hat\beta-\beta)]=-\frac{\bar X\sigma^2}{\Sigma x_t^2}</p><h3 id="最佳性"><a href="#最佳性" class="headerlink" title="最佳性"></a>最佳性</h3><p>证明的方差小于等于其他任一线性无偏估计量的方差</p><p>证明\hat\beta的方差小于等于其他任一线性无偏估计量的方差</p><p>设：任一线性无偏估计量为，满足线性条件</p><p>设：\beta任一线性无偏估计量为\beta^*，满足线性条件</p><p>\beta^*=\Sigma w_tY_t</p><p>无偏性：可视为常数（非随机）</p><p>无偏性：w_t可视为常数（非随机）</p><p>E(\beta^*)=E(\Sigma w_tY_t)=\Sigma w_tE(\alpha + \beta X_t+u_t)=\Sigma w_t(\alpha + \beta X_t)=\alpha \Sigma w_t + \beta \Sigma w_tX_t=\beta</p><p>所以</p><p>且</p><p>\Sigma w_t=0且\Sigma w_tX_t=1</p><p>因为</p><p>D(\beta^*)=D(\Sigma w_tY_t)=\Sigma w_t^2D(\alpha+\beta x_t+u)=\sigma^2\Sigma w_t^2</p><p>\Sigma w_tX_t=\Sigma(w_t(x_t+\overline X))=\Sigma w_tx_t+\overline X \Sigma w_t=\Sigma w_tx_t=1</p><p>D(\beta^*)=D(\Sigma w_tY_t)=\Sigma w_t^2D(\alpha+\beta x_t+u)=\sigma^2\Sigma w_t^2</p><p>D(\beta^*)-D(\hat\beta)=\sigma^2\Sigma w_t^2-\sigma^2/\Sigma x_t^2=\sigma^2(\Sigma w_t^2-\frac{1}{\Sigma x_t^2})=\sigma^2(\Sigma w_t^2-2\frac{1}{\Sigma x_t^2}+\frac{1}{\Sigma x_t^2})=\sigma^2(\Sigma w_t^2-2\frac{\Sigma w_tx_t}{\Sigma x_t^2}+\frac{\Sigma x_t^2}{(\Sigma x_t^2)^2})=\sigma^2(\Sigma w_t^2-2\Sigma \frac{w_tx_t}{\Sigma x_t^2}+\Sigma (\frac{x_t}{\Sigma x_t^2})^2)=\sigma^2\Sigma(w_t-\frac{x_t}{\Sigma x_t^2}) \geq 0</p><p>D(\beta^*)=D(\Sigma w_tY_t)=\Sigma w_t^2D(\alpha+\beta x_t+u)=\sigma^2\Sigma w_t^2</p><p>\Sigma w_t^2=\Sigma(k_t+(w_t-k_t))^2=\Sigma k_t^2+\Sigma(w_t-k_t^2)+2\Sigma k_t(w_t-k_t)=\Sigma k_t^2+\Sigma(w_t-k_t^2) \geq \Sigma k_t^2</p><p>\Sigma k_t(w_t-k_t)=\Sigma \frac{x_t}{\Sigma x_t^2}(w_t-\frac{x_t}{\Sigma x_t^2})=\frac{\Sigma x_tw_t}{\Sigma x_t^2}-\frac{\Sigma x_t^2}{(\Sigma x_t^2)^2}=0</p><p>\hat\alpha=\overline Y - \hat\beta \bar X=\frac{\Sigma Y_t}{n}-\frac{\Sigma x_tY_t}{\Sigma x_t^2}=\Sigma g_tY_t=\alpha + \beta \bar X+\bar u-\hat\beta\bar X=\alpha + \bar u -(\hat\beta-\beta)\bar X=\alpha + \Sigma g_tu_t</p><p>\hat\alpha=\alpha + \Sigma g_tu_t=\alpha</p><p>D(\hat\alpha)=\Sigma g_t^2D(u_t)=\sigma^2\Sigma g_t^2=\frac{\sigma^2\Sigma x_t^2}{n\Sigma x_t^2}=\sigma^2\Sigma(\frac{1}{n}-\frac{x_t}{\Sigma x_t^2}\bar X)^2=\sigma^2(\frac 1 n+\frac{\bar X^2} {\Sigma x_t^2})</p><p>设任一无偏估计量为满足线性，视为任意常数</p><p>设\alpha任一无偏估计量为\alpha^*=\Sigma h_tY_t满足线性，h_t视为任意常数</p><p>E(\alpha^*)=E(\Sigma h_tY_t)=\Sigma h_t (\alpha + \beta X_t)=\alpha \Sigma h_t + \beta \Sigma h_tX_t = \alpha</p><p>显然</p><p>且</p><p>\Sigma h_t=1且\Sigma h_tX_t=0</p><p>D(\alpha^*)=D(\Sigma h_tY_t)=\Sigma h_t^2D(Y_t)=\sigma^2\Sigma h_t^2=\sigma^2\Sigma h_t^2 \geq \sigma^2 \Sigma g_t^2 = D(\hat\alpha)</p><p>令</p><p>h_t=g_t+(h_t-g_t)</p><p>\Sigma h_t^2=\Sigma [g_t+(h_t-g_t)]^2=\Sigma g_t^2+\Sigma(h_t-g_t)^2+2\Sigma g_t(h_t-g_t)</p><p>\Sigma g_t(h_t-g_t)=\Sigma g_th_t-\Sigma g_t^2=\Sigma (\frac 1 n - \frac{x_t}{\Sigma x_t^2}\bar X)h_t-\Sigma g_t^2=\frac {\Sigma h_t}{n} - \frac{\Sigma x_th_t}{\Sigma x_t^2}\bar X=\frac 1 n+\frac{\bar X^2}{\Sigma x_t^2}=\frac{\Sigma X_t^2}{n\Sigma x_t^2}</p><p>\beta=\Sigma k_tY_t</p><h1 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h1><p>非随机的多数情况下可以视同常数</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 课堂笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>金融市场学-课堂笔记</title>
      <link href="/posts/14a481de/"/>
      <url>/posts/14a481de/</url>
      
        <content type="html"><![CDATA[<p>金融市场要了解的东西：</p><ol><li>构成……市场体系<ol><li>货币</li><li>资本<ol><li> 股票</li><li> 债券</li><li> 基金（购买者角度）</li></ol></li><li>外汇</li><li>衍生品</li></ol></li><li>市场运行<ol><li>一级市场（发行）<ol><li> 发行制度：核准、注册、额度制</li></ol></li><li>二级市场（交易）<ol><li>交易制度（金融市场微观结构）<ol><li> 竞价（集合、连续）</li><li> 做市商</li></ol></li></ol></li><li>价格形成（定价机制）：风险收益匹配；代价-未来收益预期</li></ol></li></ol><h1 id="金融市场概论"><a href="#金融市场概论" class="headerlink" title="金融市场概论"></a>金融市场概论</h1><p>金融市场是指以<strong>金融资产</strong>为交易对象而形成的供求关系及其机制的总和</p><ol><li> 金融资产进行交易的一个有形和无形的场所</li><li> 反映了金融资产的供应者和需求者之间所形成的供求关系</li><li> 包含了交易过程中所产生的运行机制</li></ol><p>金融资产、金融工具、证券——教材认为是一回事</p><p>与要素市场和产品市场的差异：参与者的关系不是单纯的买卖关系……借贷关系、委托代理关系，以<strong>信用为基础</strong>的，拿了要还；交易的对象是特殊的商品；交易场所通常是无形的</p><ol><li> 可置信度——天灾等外部不确定性</li><li> 内部：两个主体之间的利益冲突（信息不对称：借款之前逆向选择，事后道德风险）</li></ol><p>金融工具——金融契约：资金短缺方、资金盈余方：签合同用于资金使用权的转移……有时候也不是为了资金问题，所以交易对象也不一定是资金。可能是为了价格风险的配置</p><h2 id="金融市场的功能"><a href="#金融市场的功能" class="headerlink" title="金融市场的功能"></a>金融市场的功能</h2><p>基础功能：在不确定条件下实现资源的跨期、跨区域配置</p><p>核心功能：降低交易成本（解决需求的双重巧合：交易双方对对方的物品都有兴趣）（货币）</p><ol><li>聚敛功能：引导众多小资金聚集为可用于社会再生产的资金<ol><li> 市场创造了资产的流动性</li><li> 多样化融资工具为资金提供者投资提供渠道</li></ol></li><li>资源配置：从低效率利用部门转移到高效率</li><li>财富再分配：金融市场价格波动</li><li>风险的再分配</li><li>信息显示：金融资产价格和价格分析的结果</li><li>弱化利益冲突：提供新的机制来平衡各方利益</li></ol><p>银行背后站着国家，所以即使银行杠杆率超高也还是低风险低收益</p><h2 id="金融市场的类型"><a href="#金融市场的类型" class="headerlink" title="金融市场的类型"></a>金融市场的类型</h2><ol><li>标的物划分：货币、资本、外汇、黄金</li><li>中介特征：<ol><li> 直接：资金需求者直接从所有者那里融通资金</li><li> 间接</li></ol></li><li>发行和流通特征：初、二、三、四（实则只有一二）<ol><li> 三：原来交易所上市的证券移到场外交易形成的（退市交易的）</li><li> 四：投资者和证券的出卖者直接交易形成的（一直OTC交易的）</li><li> 一二级的关系：一级是本，二级市场给一级市场定价</li></ol></li><li>成交和定价方式：<ol><li> 公开市场：很多主体共同确定</li><li> 议价市场：两个交易主体协商定价</li></ol></li><li>交割方式<ol><li>现货市场：现金交易、固定方式交易和保证金交易</li><li>衍生：衍生金融工具交易平台<ol><li> T+1：当天买进第二天才能卖出</li><li> T+0：当天买进就能卖出</li></ol></li></ol></li><li>地域<ol><li> 国内：局限于以国之内</li><li> 国际</li></ol></li></ol><h2 id="金融市场的主体"><a href="#金融市场的主体" class="headerlink" title="金融市场的主体"></a>金融市场的主体</h2><p>前提：至少四类：</p><ol><li> 筹资需求者（政府、外部主体、企业——工商业开展业务、金融），</li><li> 闲置资金者——投资者（居民）</li><li> 服务中介</li><li> 监管主体</li></ol><p>动机：投资者（投机（不关心价值，价格上涨就买，跌就卖）、投资（进行了价值分析，在价格低于价值时购买）、套利（无风险套利，空手套白狼，同时买卖）、套期保值者）、筹资者、调控和监督者</p><p>服务机构：</p><ol><li> 投资银行</li><li> 会计师事务所：审计上市公司的数据是否真实</li><li> 信用评估公司：给债券、主体评级的</li><li> 资产评估</li></ol><p>美国证券监管：美联储和证券（和）交易委员会、CFTC（联邦商品交易委员会：衍生品</p><h2 id="历史"><a href="#历史" class="headerlink" title="历史"></a>历史</h2><p>16世纪中出现可交易证券；1555年法国政府发行了“伟大的党”证券；</p><p>交易所：17世纪初；19世纪（1802）伦敦证券交易所（现代意义：受监管）；1792年“梧桐树协议”</p><p>事件：荷兰郁金香泡沫、南海泡沫</p><h2 id="趋势"><a href="#趋势" class="headerlink" title="趋势"></a>趋势</h2><h3 id="资产证券化"><a href="#资产证券化" class="headerlink" title="资产证券化"></a>资产证券化</h3><p>资产证券化（美国模式）：把流动性较差的资产通过商业银行或投资银行的集中及重新组合，以这些资产作抵押来发行证券，进而实现相关债权的流动化（表外证券化）</p><p>欧洲模式是表内证券化：</p><p>——本来用于让群众买得起房子：储蓄贷款协会</p><p>——两房购买住房抵押贷款——抵押贷款未来现金流做抵押发行过手证券：直接从投资者手中筹资</p><p>——结构化创新：特殊目的载体</p><p>——融资过程：</p><h4 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h4><ol><li>确定证券化资产并组建资产池</li><li>要求：<ol><li> 资产可以产生稳定可预测的现金流收入</li><li> 原始权益人持有该资产已有一定时间且信用表现良好</li><li> 应具有标准化的合约文件</li><li> 易于变现而且变现价值较高</li><li> 债务人的地域和人口统计分布广泛</li><li> 资产的历史纪录良好（违约率和损失率低）</li><li> 资产的相关数据容易获得</li></ol></li><li>设立特别目的载体或机构<ol><li>最大限度降低发行人的破产风险对证券化的影响，实现被证券化资产与原始权益人其他资产之间的“风险隔离”（围栏）——真实销售</li><li>要求：债务限制，独立董事，保持分立性，满足禁止性需求</li><li>资产支持证券：<ol><li>MBS：以住房抵押贷款为资产池的</li><li>ABS：抵押支持证券</li><li>过手证券：只向外发行一种证券</li><li>转付证券：向外发行三种证券（优先、次级、剩余）（定期支付本金和利息？）（83年开始）<ol><li>CMOs：</li><li>CDOs：<ol><li> CLO</li><li> CBO</li></ol></li></ol></li></ol></li></ol></li><li>信用增级<ol><li> 提高所发行证券的信用级别，使证券在信用质量、偿付的时间性、确定性等方面更好地满足投资者的需要，同时满足发行人在会计、监管和融资目标方面的要求</li></ol></li><li>信用评级：初评和发行评级</li><li>发售证券</li><li>向发起人支付资产购买价款</li><li>管理资产池<ol><li> 收取本息；资金赚村；监督；相关的税务和保险；违约补救</li></ol></li><li>清偿证券</li></ol><p>Loan/Bond</p><p>20世纪80年代，巴塞尔协议——全球统一银行资本监管框架——表内和表外资本充足率不一样</p><h2 id="中国金融市场的形成与发展"><a href="#中国金融市场的形成与发展" class="headerlink" title="中国金融市场的形成与发展"></a>中国金融市场的形成与发展</h2><ul><li>  货币市场：银行拆借市场（86年）、票据市场（82年）</li><li>  国债市场：81年发行市场，88年交易</li><li>  股票市场：84年第一只股票（北京天桥股份）；1990集中交易市场</li><li>  期货市场：90年代郑州粮食批发市场</li></ul><p>军阀割据的时期是股票市场最为繁荣的时期，而国民政府统一之后就没有那么繁荣了</p><p>新中国时期，大一统，证券产品彻底消失；90年代的还是债券市场，虽然叫做股票市场</p><p><strong>80年代</strong></p><p>86年，沈阳，OTC证券交易平台；后来才有了上海的证券交易所</p><p><strong>90年代</strong></p><p>90年，上海证券交易所正式开业（但是实际上是深交所在先）</p><p>92年810事件：排队买股票，但是……——中国由地区性股票市场转向全国性</p><p>95年，商业银行法：分业经营……之前商业银行通过信托投资公司来做证券业务</p><p>98年，证券法</p><p><strong>新世纪</strong></p><p>04年，国九条：肯定金融市场的重要性，肯定了金融体制改革的必要性</p><p>07、08年：创业板——高层认识到创新对于经济发展的重要性</p><p><strong>所有金融都很看重立法</strong></p><p>变化态势：<strong>全球化、工程化</strong></p><h1 id="货币市场"><a href="#货币市场" class="headerlink" title="货币市场"></a>货币市场</h1><p>债务，不是权益类（因为有期限）</p><p>一年期内：</p><ul><li>  <strong>融资</strong>的期限，流动性高</li><li>  用途：货币支付，解决资金头寸不足——但是不增加资金总规模</li></ul><hr><p>结构：…………</p><hr><p>特征：</p><ol><li> 参与者结构不同：中央银行介入、主导</li><li> 市场工具平均质量高，风险小</li><li> 市场组织形式：OTC（除了国债交易等）</li><li> 证券发行定价：贴现发行（利息预扣）</li></ol><p>IMM国际货币市场：外汇期货合约交易的地方</p><hr><p>功能：</p><ul><li>  基准利率</li><li>  流动性调剂：给短期资金流动的空间</li><li>  贯彻政府或货币当局政策意图的场所和传导机制</li><li>  调期，为长期贷款提供资金（roll-over，借新还旧）</li></ul><hr><h2 id="同业拆借市场"><a href="#同业拆借市场" class="headerlink" title="同业拆借市场"></a>同业拆借市场</h2><p>金融机构之间货币借贷来弥补短期资金不足、票据清算差额和其他临时性资金短缺的市场</p><p>为商业银行提供了短期的迅速的资金融通市场</p><p>最为迅速地反映资金供求和政策变化，影响货币市场利率</p><p>产生于存款准备金政策的实施，随着中央/商业银行业务的发展而发展</p><p>批发性、信用性交易</p><hr><p><strong>美国联邦基金市场</strong></p><p>对象：即时可用资金——联储会员银行在联邦储备银行的准备金+商业银行可以在一个营业日内转帐或提款的”托收中“存款</p><p>为什么叫”联邦基金“：这个市场的形成是作为商业银行之间在联邦储备体系账户上调拨头寸的机制——使得各银行将无利息的准备金压缩到法定的最低限额……隔夜放款</p><hr><p><strong>中国</strong></p><p>85年之前：法定存款准备金政策：40%的准备金放到中央银行</p><ul><li>86-91年：允许商业银行进行资金调剂</li><li>92-96年：92年：中国特色社会主义市场经济（之前三年是低谷，治理整顿期）</li><li>96-98：《商业银行法》《中央银行法》：建立全国统一同业拆借市场：<ul><li>  一级网络，总行和全国性的信托投资公司以及挂靠地方人民银行的融资中心</li><li>  二级网络：核心是融资中心</li></ul></li><li>98年后：<ul><li>  去掉融资中心，降低融资资格——放权（特别是08年）</li></ul></li></ul><h2 id="回购市场"><a href="#回购市场" class="headerlink" title="回购市场"></a>回购市场</h2><p>最大的市场，是拆借的5倍多。</p><p>通过回购协议进行短期资金融通交易的市场。</p><p>证券交易的概念……</p><ul><li>是一种合约的形式，本质是抵押贷款<ul><li>  出售和购买价格都不是市场价格：出售价格等于本金，购买价格等于本金+利息</li></ul></li><li>所有权：<ul><li>  在回购期内实际上所有权不转移</li></ul></li></ul><p>逆回购的意图：注入流动性，扩张</p><hr><p><strong>质押式回购与买断式回购</strong></p><ul><li>  质押式是通常意义下的，所有权不转移</li><li>  买断式，所有权转移</li></ul><hr><p>回购协议的交易公式：</p><p>T=360，PP是本金，RR是回购时应支付的利率，RP是回购价格</p><p>利率：</p><p>I=PP×RR×T/360</p><p>RP=PP+I</p><hr><h3 id="风险"><a href="#风险" class="headerlink" title="风险"></a>风险</h3><p>无力回购，客户只能保留抵押品，而刚好抵押品贬值的话……如果升值的话，交易商就会亏</p><ul><li>  证券托管</li><li>  设置保证金</li><li>  证券市值调整</li><li>  第三方担保</li></ul><hr><h3 id="利率"><a href="#利率" class="headerlink" title="利率"></a>利率</h3><ul><li>  证券的质量</li><li>  期限</li><li>  交割的条件</li><li>  其他市场的利率</li></ul><hr><p><strong>中国现状：</strong></p><ul><li>主体<ul><li>  现在：银行间债券市场（98年）</li><li>  原来：交易所市场</li></ul></li><li>中国国债回购：<ul><li>  91年全国证券交易所自动报价系统（STAQ）</li><li>  促进国债销售</li><li>  原因：同业拆借市场被当局监控（接管）：96年</li></ul></li></ul><h2 id="商业票据市场"><a href="#商业票据市场" class="headerlink" title="商业票据市场"></a>商业票据市场</h2><p>商业公司贴现出售给投资者的短期无担保承诺凭证，信用发行。美国是本票，英国是汇票。</p><p>商业票据：Commercial Paper（在美国就是证券的一种）</p><p>本票是无条件支付命令，汇票是无条件支付保证</p><h3 id="商业银行的身份"><a href="#商业银行的身份" class="headerlink" title="商业银行的身份"></a>商业银行的身份</h3><ul><li>曾经是主要的购买者</li><li>代理发行、代保管、提供信用额度支持<ul><li>  滚动发行，所以银行信用额度支持很重要</li></ul></li></ul><h3 id="要素"><a href="#要素" class="headerlink" title="要素"></a>要素</h3><ul><li>发行者：金融性和非金融性公司<ul><li>  金融性公司：附属性公司、与银行有关的公司、独立的金融公司</li></ul></li><li>期限：270天<ul><li>  来源：美国证券法的规定，注册的概念——豁免注册（降低发行成本）：期限特别短（270天）、私募（美国是qualified投资者，但是中国是少于200元）</li></ul></li><li>大额：10W美元以上</li><li>市场：<ul><li>  一级市场：直接出售、交易商间接出售</li><li>  二级市场：不活跃——期限短、异质性e</li></ul></li><li>评级：依然属于债权债务；至少两家评级（穆迪、标普、惠誉）<ul><li>  在美国，短期较少，中长期的评级较多</li><li>  A级：没问题；B级：会有临时困难；C：有疑问；D：还不了</li></ul></li><li>非利息成本：<ul><li>  信用额度支持费用</li><li>  代理费用</li><li>  信用评估费用</li></ul></li></ul><hr><p>即期汇票：见票即付</p><p>远期汇票：</p><hr><p>短期融资券不是票据也不是证券，受《短期融资券管理暂行办法》管理。</p><p>商业票据和银行承兑票据是为了解决<strong>企业</strong>融资问题。</p><hr><p>金融脱媒……ABCP市场</p><p>实际上金融脱媒依然和银行有关系，只是银行负责了担保（信用额度支持，100%）</p><h3 id="英国的融资"><a href="#英国的融资" class="headerlink" title="英国的融资"></a>英国的融资</h3><p>企业需要贴现行来进行融资，企业融资不是用的自己的信用……起源于16、17世纪</p><h2 id="银行承兑票据"><a href="#银行承兑票据" class="headerlink" title="银行承兑票据"></a>银行承兑票据</h2><p>汇票：出票人向付款人签发的，付款人按约定的付款期限对收款人或指定人无条件支付的凭证</p><p>一般用于国际贸易；真实贸易活动</p><p>好处：</p><ul><li>  出口商可以马上获得货款，不用等</li><li>  出口商拿到的是出口行给的本国货币，不用担心汇率</li><li>  银行担保，信用可靠</li></ul><h3 id="价值分析"><a href="#价值分析" class="headerlink" title="价值分析"></a>价值分析</h3><ol><li>对借款人来说：<ol><li> 融资成本（手续费+贴息）小于贷款（利息+补偿性最低存款额）</li><li> 发不了商业票据</li></ol></li><li>银行角度<ol><li>白赚手续费，票据二级市场发达流动性无需担忧</li></ol></li></ol><h3 id="一级市场"><a href="#一级市场" class="headerlink" title="一级市场"></a>一级市场</h3><p><strong>出票和承兑两个环节</strong></p><p>出票：</p><ol><li> 填票据</li><li> 将票据交给收款人</li></ol><hr><p>承兑：付款人承诺在汇票到期日支付（付款人➤承兑人）</p><ol><li> 提示承兑：拿票去要钱</li><li> 承兑：负责给钱的表示给还是不给</li><li> 交换票据：把票还给持票人</li></ol><h3 id="二级市场"><a href="#二级市场" class="headerlink" title="二级市场"></a>二级市场</h3><p>大多数情况下持票人会马上拿去转让。</p><p>首先要背书：在票据背面记录有关事项、盖章</p><ol><li> 背书人承前启后，对后手保证付款，对前手的签字真实性、背书连续性做保证</li><li> 背书越多，票的信用越好</li></ol><hr><p>贴现：</p><p>贴现率的因素：市场利率（+），汇票信用程度（-），贴现期限（+），供求关系</p><p>贴息贴现额贴现期（天）月贴现率</p><p>贴息=贴现额×贴现期（天）×\frac{月贴现率}{30}</p><p>日贴现率月贴现率年贴现率</p><p>日贴现率=\frac{月贴现率}{30}=\frac{年贴现率}{360}</p><p>转贴现：银行之间的票据贴现</p><p>再贴现：商业银行向<strong>中央银行</strong>申请贴现；票据<strong>退出流通</strong></p><h2 id="大额可转让定期存单市场-CDs"><a href="#大额可转让定期存单市场-CDs" class="headerlink" title="大额可转让定期存单市场-CDs"></a>大额可转让定期存单市场-CDs</h2><p>特点：</p><ul><li>  面额固定，而且大</li><li>  可流通交易——有市场价格</li><li>  利率可固定可浮动</li></ul><p>Q条例：1933年美国银行法：对活期存款不能付息（避免恶性竞争）</p><h2 id="货币市场共同基金"><a href="#货币市场共同基金" class="headerlink" title="货币市场共同基金"></a>货币市场共同基金</h2><p>投资于货币市场中高质量的证券组合</p><p>提供一种有限制的存款</p><h2 id="短期政府债券市场"><a href="#短期政府债券市场" class="headerlink" title="短期政府债券市场"></a>短期政府债券市场</h2><p>实质上是美国独有</p><h1 id="资本市场"><a href="#资本市场" class="headerlink" title="资本市场"></a>资本市场</h1><h2 id="股票"><a href="#股票" class="headerlink" title="股票"></a>股票</h2><ul><li>  公众股：社会个人或股份公司内部职工以个人财产投入公司形成的股份</li><li>  外资股：外国、香港澳门、台湾地区投资者以购买人民币特种股票形式向股份公司投资形成的股份</li><li>  境内外资股：B股，以人民币标价、外币认购、专供外国、港澳台地区投资者买卖的股票</li><li>  红筹股：企业注册地不在中国大陆；主要的业务收入主要来自大陆</li><li>  蓝筹股：</li><li>  存托凭证（DR）：红筹股回归的方式</li></ul><h3 id="发行市场"><a href="#发行市场" class="headerlink" title="发行市场"></a>发行市场</h3><p>公募、私募</p><ol><li>首次发行（IPO）其实很少</li><li>再融资（SEO）<ol><li> 公：配股（面对原有股东）、公开</li><li> 私：定向增发</li></ol></li></ol><h3 id="发行制度"><a href="#发行制度" class="headerlink" title="发行制度"></a>发行制度</h3><ul><li>核准制：有发行条件<ul><li>  生产经营符合国家产业政策</li><li>  普通股限于一种，同股同权同价</li><li>  发起人认购的股本数额不少与拟发行总额的35%，不少于3000万元</li></ul></li><li>注册制：实质上是财务公布制度，发行证券必须要将依法应该公开的各种资料都完全、准确地报给监管部门并申请注册；监管部门只看信息是不是真的，价格、卖不卖得出去监管部门不管</li><li>92～99,额度+审批；01年核准+通道（主承销资格的券商有通道，每通道核准了一家才能再上报一家）；04年核准+保荐人（3个以上）</li></ul><h1 id="市场微观结构"><a href="#市场微观结构" class="headerlink" title="市场微观结构"></a>市场微观结构</h1><h2 id="证券交易所制度"><a href="#证券交易所制度" class="headerlink" title="证券交易所制度"></a>证券交易所制度</h2><p>交易制度优劣的评价标准：交易制度是证券市场微观结构的重要组成部分，影响市场功能发挥</p><ul><li>（市场）流动性<strong>（危险！）</strong><ul><li>  交易及时性：交易意愿和交易完成的时间差</li><li>  宽度：买卖价差</li><li>  广度：交易量</li><li>  弹性：冲击之后的调整处理</li></ul></li><li>透明度</li><li>稳定性</li><li>效率：价格能不能包含信息<ul><li>  反复强调理性投资者主导，否则理性的低买高卖、非理性高买低卖，非理性的就会被消灭</li></ul></li><li>成本</li><li>安全性</li></ul><h3 id="信用交易"><a href="#信用交易" class="headerlink" title="信用交易"></a>信用交易</h3><p>保证金交易，经纪人提供信用进行的买卖</p><ol><li> 保证金购买</li></ol><p>中国的_融资融券制度_和美国的不一样：资金来源、证券来源不一样</p><h3 id="股票价格指数"><a href="#股票价格指数" class="headerlink" title="股票价格指数"></a>股票价格指数</h3><p>股价平均数</p><p>市场发展到一定阶段才出现的</p><p>第一支是：1884年道琼斯指数</p><ol><li> 道指</li><li> 标普</li><li> 日经225</li><li> 金融时报100</li><li> 上证</li><li> 沪深300</li></ol><h2 id="债券市场"><a href="#债券市场" class="headerlink" title="债券市场"></a>债券市场</h2><p>债券是税前付的</p><p>债券种类</p><ul><li>  美国地方政府：普通、收益（投资于特定项目，由这个项目来还钱）</li></ul><ol><li>中国商业银行发债是为了弥补资本充足率——巴塞尔协议</li><li>中国为什么要分凭证式和记账式：<ol><li> 凭证不能流通</li><li> 记账可以流通</li></ol></li><li>储蓄国债电子式：不能流通，个人认购</li></ol><ul><li>  国际债</li></ul><hr><p>评级：</p><ol><li> 将发行人的信誉和偿债的可靠程度公开，保护投资者的利益</li><li> 3A到BBB级是投资级，BB级到C级是投机级，分界线</li><li> 信用事件：信用评级下降</li></ol><h2 id="证券投资基金"><a href="#证券投资基金" class="headerlink" title="证券投资基金"></a>证券投资基金</h2><p>美国叫共同基金</p><p>起源于19世纪英国，1868年11月，</p><ol><li> 公募</li><li> 对冲基金：不是为了避险的（所谓的“合格投资者”才能买），而是高风险的</li><li> 私募股权基金（PE）：非上市公司的<strong>股权</strong></li><li> 产业投资基金：非上市公司的<strong>股权</strong></li></ol><ul><li>  开放式、封闭式</li></ul><p> </p><p>封闭</p><p>开放</p><p>资本规模</p><p>固定</p><p>可变</p><p>存续期（赎回）</p><p>提前约定</p><p>无穷</p><p>交易方式</p><p>挂牌</p><p>OTC，申购、赎回</p><p>交易价格</p><p> </p><p>固定的，与基金单位净值直接相关</p><p>信息披露</p><p> </p><p>比较高（交易信息必须反映及时）</p><p>管理费</p><p> </p><p>按净值的多少来收（无论如何都赚钱所以）</p><p>被动型策略基金，就是复制指数。目标是减少跟踪误差。</p><p>公募基金的经理做得有一定认可之后就会跑去做私募，私募基金投资人认为即使给他20%管理费也能够获得比公募基金更高的收益所以愿意给高额管理费</p><h3 id="中国的发展历史"><a href="#中国的发展历史" class="headerlink" title="中国的发展历史"></a>中国的发展历史</h3><p>1997年，《证券投资基金管理暂行办法》，98年设立了两个基金（封闭式，直到2001年9月）；2000年10月《开放式证券投资基金试点办法》，2001年9月第一只开放式基金诞生；2003年10月《证券投资基金法》通过</p><ol start="3"><li> 营销和服务创新活跃</li><li> 法律规模进一步规范</li><li> 开放式基金的发展规模远大于封闭式</li></ol><h3 id="基金创新品种"><a href="#基金创新品种" class="headerlink" title="基金创新品种"></a>基金创新品种</h3><h4 id="交易所交易基金ETF"><a href="#交易所交易基金ETF" class="headerlink" title="交易所交易基金ETF"></a>交易所交易基金ETF</h4><p>交易型开放式指数基金，本质上是开放式基金：</p><ol><li> 可以在交易所挂牌买卖</li><li> 基本是指数型的开放式基金，但是在交易所挂牌，交易便利</li><li> 赎回只接受规模在“创设单位”以上的申购赎回，而且赎回的是一篮子股票</li><li> 交易价格接近单位净值（不然就会有套利机会）</li></ol><h4 id="上市开放式基金"><a href="#上市开放式基金" class="headerlink" title="上市开放式基金"></a>上市开放式基金</h4><p>LOF不一定采用指数基金模式，申购和赎回也以现金方式进行</p><h1 id="金融衍生品市场"><a href="#金融衍生品市场" class="headerlink" title="金融衍生品市场"></a>金融衍生品市场</h1><h2 id="金融衍生品"><a href="#金融衍生品" class="headerlink" title="金融衍生品"></a>金融衍生品</h2><ol><li>依托原声金融产品产生的有价证券</li><li>衍生品交易和现货交易对应，是一种交易方式的改变（创新）：<ol><li> 远期</li><li> 期货</li><li> 期权：买方是获得了权利而没有义务</li><li> 互换</li></ol></li><li>按标的资产分类：商品类、金融衍生品类<ol><li> 货币（汇率）、债券（利率）、股票（权益的价格）、信用；前三个是市场风险，最后一个是信用风险</li><li> 信用衍生品：信贷违约互换：如果信用事件不发生，卖方给买方定期给钱；发生后，买房给卖方补偿</li></ol></li><li>独立形态、非独立形态<ol><li> 可转换债券内嵌期权</li></ol></li></ol><h3 id="金融衍生品的特征"><a href="#金融衍生品的特征" class="headerlink" title="金融衍生品的特征"></a>金融衍生品的特征</h3><ol><li> 杠杆性</li><li> 高风险性</li><li> 高收益性（杠杆，用点数来看会比较简单：每点多少元，然后按点的波动来计算波动额，1%的点数波动会对应超高的实际金额波动）</li><li> 虚拟性</li></ol><p>2016年交易量大幅萎缩（95%）：提高保证金比例（40%）</p><h3 id="历史-美国"><a href="#历史-美国" class="headerlink" title="历史-美国"></a>历史-美国</h3><p>72年外汇期货出现，73年股票期货（期权定价模型BS模型），82年交易种类拓宽（股票指数期货、中期政府债券期货、利率互换之类）</p><h3 id="市场现状"><a href="#市场现状" class="headerlink" title="市场现状"></a>市场现状</h3><p>OTC交易量远大于交易所</p><h2 id="衍生品"><a href="#衍生品" class="headerlink" title="衍生品"></a>衍生品</h2><h3 id="远期市场"><a href="#远期市场" class="headerlink" title="远期市场"></a>远期市场</h3><h4 id="远期合约"><a href="#远期合约" class="headerlink" title="远期合约"></a>远期合约</h4><p>在未来的某个时点以特定价格交易特定数量的资产或商品的约定，只是做约定</p><ol><li>远期利率协议：……按照协议利率借贷一笔数额确定、以具体货币表示的名义本金的协议<ol><li>远期借贷协议</li><li>在远期借贷协议开始的时候进行结算，而不是协议结束的时候</li><li>所以结算的是：（起始日的市场利率-约定的远期利率）×金额×借贷期限<ol><li> 起始日利率&gt;约定利率，借款人受益</li></ol></li><li>而且因为是开始日结算，所以要贴现</li></ol></li><li>远期外汇合约：……按约定的汇率买卖外汇</li><li> 远期股票合约：……按约定价格交付股票</li></ol>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 课堂笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>统计学-课堂笔记</title>
      <link href="/posts/486ac6c6/"/>
      <url>/posts/486ac6c6/</url>
      
        <content type="html"><![CDATA[<h1 id="统计学"><a href="#统计学" class="headerlink" title="统计学"></a>统计学</h1><p>关蓉 <a href="mailto:&#103;&#117;&#97;&#x6e;&#x72;&#111;&#110;&#103;&#x37;&#x32;&#49;&#x40;&#113;&#113;&#x2e;&#x63;&#x6f;&#109;">&#103;&#117;&#97;&#x6e;&#x72;&#111;&#110;&#103;&#x37;&#x32;&#49;&#x40;&#113;&#113;&#x2e;&#x63;&#x6f;&#109;</a> 作业：<a href="https://bb.cufe.edu.cn:8443（学号:学号）">https://bb.cufe.edu.cn:8443（学号:学号）</a> 课本：刘扬，中国统计出版社 补充：贾俊平《统计学》6人大、戴维莱文《商务统计学》7人大、吴喜之《统计学：从数据到结论》中国统计出版社、戴维穆尔《统计学的世界》中信 平时考勤10,课程作业30,期末60 teach.xiong99.com.cn，周六早上10点</p><h1 id="数据的收集"><a href="#数据的收集" class="headerlink" title="数据的收集"></a>数据的收集</h1><h2 id="数据的来源"><a href="#数据的来源" class="headerlink" title="数据的来源"></a>数据的来源</h2><h3 id="一手数据：直接获取的"><a href="#一手数据：直接获取的" class="headerlink" title="一手数据：直接获取的"></a>一手数据：直接获取的</h3><p>统计调查的方式：普查、抽样调查、（统计报表）</p><ol><li> 观察法</li><li>调查<ol><li>普查：（国家……为了详细了解某项国情、国力……组织的一次性、大规模的）全面调查<ol><li>特点：规定统一的标准时点、一次性的或周期性的<ol><li> 人口：每十年，逢0</li><li> 经济：五年，逢3、8开始</li></ol></li><li>缺点：<ol><li> 适用性：观测值无限时、毁坏性时；成本高；精度差（调查人员素质）</li></ol></li></ol></li><li>抽样调查：从总体中随机抽取一部分单位作为样本进行的调查<ol><li> 特点：经济性、时效性强，适应面广</li></ol></li><li>统计报表：按国家有关法规规定，自上而下地统一布置，自下而上地逐级提供基本统计报表的统计报告<strong>制度</strong><ol><li> 特点：我国特有，可以全面也可以非全面</li></ol></li></ol></li><li> 实验</li></ol><h3 id="二手数据：别人获得的"><a href="#二手数据：别人获得的" class="headerlink" title="二手数据：别人获得的"></a>二手数据：别人获得的</h3><ol><li>公开出版或报道的数据<ol><li> 国家统计资料（中国统计年鉴，每年10月才出前一年的，但是有最新公报）</li><li> 行业协会信息</li><li> 计算机网络资料</li><li> 国际组织</li><li> 图书资料</li></ol></li><li>缺点：<ol><li> 时效性差：尽可能使用最早的</li><li> 可靠性低：明确计算口径，明确标注数据来源</li><li> 相关性差：数据收集目的和当前研究目的可能不一致</li></ol></li></ol><h2 id="抽样调查"><a href="#抽样调查" class="headerlink" title="抽样调查"></a>抽样调查</h2><p>抽样单位：抽样的对象，可以把总体分成若干个<strong>互不重叠</strong>且<strong>穷尽</strong>的<strong>有限个</strong>部分 抽样框：抽样单位的名单 方法分类：</p><ol><li> 概率抽样：按照随机原则抽选样本的方式——使每个单位都有一定的机会被抽中；每个抽样单位被抽中的概率是已知的。（等概率和不等）</li><li> 非概率抽样：不满足概率抽样要求的抽样方式的统称</li></ol><h3 id="概率抽样"><a href="#概率抽样" class="headerlink" title="概率抽样"></a>概率抽样</h3><ol><li>简单随机抽样：直接从总体单位中抽选样本单位……概率相等<ol><li>方法<ol><li> 签法</li><li> 随机数法：随机数表、随机数骰子等</li></ol></li><li>问题：<ol><li> 样本容量小时，一些比例少但是很重要的个体可能没有被抽到</li><li> 接触到所有样本中的个体有时候很困难</li></ol></li><li>适用于：<ol><li> 抽样单位间的差异不大</li><li> 样本单位不是特别多，可以形成抽样框</li><li> 其他都用不了时</li></ol></li></ol></li><li>系统抽样：将总体中的N个单位安某种顺序<strong>排列</strong>，按规则确定随机起点，按指定间隔逐个抽取样本单位的抽样方法<ol><li> 优点：方便快捷</li><li> 问题：样本单位的排列顺序可能会产生影响</li></ol></li><li>分层抽样：根据辅助信息（如性别）将总体划分为若干个子总体，分别从每个层中随机抽选样本<ol><li> 优点：辅助信息选的好则提高样本代表性，提高精度</li><li> 适用于：分层后层间差异大、层内差异小</li></ol></li><li>整群抽样：将总体分为N个群，再按某种方式随机抽取n个群，然后对群中所有抽样单位进行调查<ol><li> 优点：不需要所有初级抽样单位的抽样框；便于组织和管理，节约</li><li> 缺点：抽样单位不均匀分布，则代表性差</li></ol></li><li>多阶段抽样：先从总体中随机抽取若干初级单位，从初级中选二级……<ol><li> 优点：</li></ol></li></ol><h3 id="非概率抽样"><a href="#非概率抽样" class="headerlink" title="非概率抽样"></a>非概率抽样</h3><ol><li> 方便抽样：根据调查的方便性，以无目标、随意的方式进行的</li><li> 雪球抽样：找到最初样本单位，根据提供的信息去获得新的样本单位</li><li> 判断抽样：根据主观经验和判断从总体中选取有代表性的单位构成样本……精度取决于经验</li><li> 配额抽样：根据研究人员认为较重要的一些变量把总体单位分类，根据每一类进行定额，然后在每一类中方便抽样或判断抽样</li></ol><h3 id="如何选择：经济省时、满足精确度和可靠性"><a href="#如何选择：经济省时、满足精确度和可靠性" class="headerlink" title="如何选择：经济省时、满足精确度和可靠性"></a>如何选择：经济省时、满足精确度和可靠性</h3><p>调查误差：调查结果与真实结果之间的差异。误差越大精度越低。</p><ol><li>抽样误差：样本是总体的一部分，只要是抽样就有<ol><li> 特点：概率抽样中能够计量而且控制</li><li>影响因素：<ol><li> 其它条件固定，样本容量越大</li><li> 抽样方法</li><li> 总体内部的差异程度：内部差异越大，抽样误差越大（个个都差不多，怎么抽都行）</li></ol></li></ol></li><li>非抽样误差：抽样误差以外的；调查程序执行中的错误与不足<ol><li> 特点：增加样本量也不会有改善</li><li>类型：<ol><li> 抽样框误差：目标总体与抽样框所覆盖的元素不一致而产生的误差（丢失目标总体单位、包含非目标总体单位等）</li><li> 无回答误差：缺失部分指定样本单位的数据或调查问卷中的部分数据项而引起的误差（单位无回答，被调查者没有参与或拒绝；项目无回答，被调查者对部分问题没有回答）</li></ol></li></ol></li><li>计量误差：调查中获得的数据和调查项目真实值之间不一致而产生的误差<ol><li>类型：<ol><li> 问卷设计阶段产生的误差：不同措辞、问题的顺序、问卷过长</li><li> 调查阶段产生的误差：访问员、被调查者</li><li> 其他误差：数据处理等</li></ol></li></ol></li></ol><p>解决方法：科学设计调查方案；多种途径调查，减少来自被调查者的误差；加强培训，加强访问员的素质</p><h2 id="调查方案设计"><a href="#调查方案设计" class="headerlink" title="调查方案设计"></a>调查方案设计</h2><p>调查方案：统计调查前所制定的实施方案，全部调查过程的指导文件；直接影响调查数据的质量（非抽样误差 部分：</p><ol><li> 调查目的</li><li> 调查对象</li><li> 调查内容</li><li> 调查方式、方法</li><li> 调查时间</li><li> 组织实施计划</li></ol><h3 id="数据收集方法"><a href="#数据收集方法" class="headerlink" title="数据收集方法"></a>数据收集方法</h3><ol><li>调查法<ol><li> 面访调查</li><li> 邮寄调查</li><li> 电话调查（废弃）</li><li> 电脑辅助电话调查（电脑自动抽取号码并实现自动分配给调查员，然后显示问题，访员问然后根据回答按答案）</li><li> 网络调查</li><li> 座谈（焦点小组访谈）——一对多</li><li> 深度访谈——一对一</li></ol></li><li> 观察</li><li> 实验</li></ol><p>问卷：用于收集被调查者的某些信息的研究工具，通常由一系列问题构成，</p><ol><li>搭建框架<ol><li> 确定中心概念（如：使用情况、需求满足情况）</li><li> 核心内容（如：使用广度、使用深度、主观满意度）</li><li> 问项（如何确定：已有的文献研究、焦点组访谈、深度访谈、开放式问卷调查、汇总条目）</li><li> 指标汇总合并提纯</li></ol></li><li>确定问题形式<ol><li>基本格式：<ol><li> 题号、题干</li></ol></li><li> 封闭式（用时短、方便、后期处理方便）、开放式（激发积极性、可以问为什么；难以编码）</li><li> 单选题、多选题、排序题、量表</li></ol></li><li>选措辞、排结构<ol><li>原则（六个避免）<ol><li> 避免一个问句<strong>多于一个</strong>问题</li><li> 避免含糊，追求具体</li><li> 避免答项不完整</li><li> 避免带有情感色彩</li><li> 避免诱导性问题（把这个问题的两面都写）</li><li> 避免折磨应答者能力的问题（如“最近××年和××发生××的次数”）</li></ol></li><li>编排：<ol><li>开头<ol><li> 开场白：标明身份、简要介绍调查目的、做调查的时间、强调不泄密、表示感谢</li></ol></li><li>规律：<ol><li> 先易后难：先封闭后开放；先客观再主观问题（观点）</li><li> 核心问题：按类编排</li><li> 背景信息：针对个人的问卷把个人信息放在结尾；</li></ol></li></ol></li></ol></li><li>评估、预测试<ol><li> 请专业人士对问卷进行挑刺</li><li> 找小范围进行预测试</li></ol></li></ol><h1 id="数据的描述"><a href="#数据的描述" class="headerlink" title="数据的描述"></a>数据的描述</h1><p>描述统计：用统计图、统计表对一些特征数值进行描述</p><h2 id="统计图和统计表"><a href="#统计图和统计表" class="headerlink" title="统计图和统计表"></a>统计图和统计表</h2><ul><li>单变量<ul><li>  定性变量：频数分布表、柱形图、饼图</li><li>  定量变量：频数分布表、直方图、箱线图</li></ul></li><li>  双变量：</li></ul><h3 id="两个定性数据"><a href="#两个定性数据" class="headerlink" title="两个定性数据"></a>两个定性数据</h3><ol><li>列联表<ol><li> <a href="https://wordpress.huaj.tk/wp-content/uploads/2019/03/%E4%B8%89%E7%BA%BF%E5%88%97%E8%81%94%E8%A1%A8.png"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/03/%E4%B8%89%E7%BA%BF%E5%88%97%E8%81%94%E8%A1%A8.png"></a></li><li> 将数据按两个变量分组得到的表格，交叉单元格中的数字为频数</li><li> 变量有关联：你变我也变（频数分布）</li></ol></li><li> 饼图</li><li>环形图<ol><li> 最多四环，再多不好</li></ol></li><li>柱形图<ol><li> 一个类别有两个柱。图例在右上角</li></ol></li><li> 堆积柱形图</li><li> 百分比堆积柱形图</li></ol><h3 id="定性变量-定量变量"><a href="#定性变量-定量变量" class="headerlink" title="定性变量+定量变量"></a>定性变量+定量变量</h3><ol><li>进行概要描述：根据定性变量分组，计算定量变量的某个数值特征；画表格、画图……</li><li>列联表：先对定量变量进行分组</li><li>分组箱线图：纵轴定量，横轴定性，每个箱子对应定性变量的一个类别（必要时对定性变量进行分类<ol><li> 类别之间差异大，出现很多离群值、极端值：对数变换（对纵轴）</li><li> z-score变换:</li></ol> $$ z_i=\frac {x_i-\bar x}{s} $$ z=0则观测值等于均值，位于中间 z&gt;0观测值大于均值，z&lt;0观测值小于均值 z表示这个值在一组数据中的相对位置<h2 id="定量-定量"><a href="#定量-定量" class="headerlink" title="定量+定量"></a>定量+定量</h2><ol><li> 散点图：关注两个变量之间的相关关系</li></ol></li></ol><h1 id="参数估计与假设检验"><a href="#参数估计与假设检验" class="headerlink" title="参数估计与假设检验"></a>参数估计与假设检验</h1><p>描述统计：用表格图形和数字对数据进行描述——不区分样本和总体，掌握多少信息就描述多少 推断统计：从总体中抽取样本，用样本数据推断总体特征 参数：描述总体某个方面的特征，未知的确定值 统计量：用样本信息构造的函数，不包含任何未知的总体参数，随机变量 估计量：用来推断总体参数的统计量</p><h2 id="点估计"><a href="#点估计" class="headerlink" title="点估计"></a>点估计</h2><p>用估计量的数值作为总体参数的估计值：</p><ul><li>总体均值</li><li>总体方差</li><li>总体比例 $$ \hat p=\frac{1}{n}\Sigma^n_{i=1}X_i $$ Xi是定性数据（0-1变量）</li><li>总体参数的估计量不是唯一的，可以由不同的估计量估计同一个总体参数（同样是均值，可以用中位数也可以用平均数……）</li></ul><hr><p><em>抽样分布：估计量的抽样分布就是它的所有可能值的概率分布</em></p><ul><li><em>样本均值：总体服从正态分布时，来自该总体容量为n的均值也服从正态分布：</em> $$ E(\overline X)=\mu $$ $$ D(\overline X)=\frac{\sigma^2}{n} $$</li></ul><hr><p><strong>缺点</strong></p><ul><li>  绝对，死板</li><li>  没有给出关于精确程度的信息</li></ul><hr><p>不唯一，需要评价准则</p><h2 id="估计量选择"><a href="#估计量选择" class="headerlink" title="估计量选择"></a>估计量选择</h2><ul><li>  多次考察——估计量的抽样分布</li><li>评价准则：<ul><li>  无偏性：估计量的抽样分布的<strong>期望值</strong>等于被估计的总体参数</li><li>  有效性：两个无偏估计量里的<strong>方差</strong>小的较好——越”瘦“越好</li><li>  一致性：样本容量增大则估计量取值越来越接近被估计的总体参数</li></ul></li></ul><h2 id="抽样分布"><a href="#抽样分布" class="headerlink" title="抽样分布"></a>抽样分布</h2><h3 id="中心极限定理"><a href="#中心极限定理" class="headerlink" title="中心极限定理"></a>中心极限定理</h3><p>总体服从： $$ E=\mu $$ $$ D=\sigma^2 $$ 当n充分大（&gt;=30）时，样本均值的抽样分布近似服从$(\mu,\frac{\sigma^2}{n})$的正态分布。</p><h2 id="区间估计"><a href="#区间估计" class="headerlink" title="区间估计"></a>区间估计</h2><p>根据置信度$1-\alpha​$给出总体参数的一个估计范围——置信区间：置信上限和置信下限之间 基本上是点估计加/减估计误差</p><h3 id="标准误"><a href="#标准误" class="headerlink" title="标准误"></a>标准误</h3><ul><li>  统计量抽样分布的标准差</li><li>衡量统计量与总体参数的接近程度，描述推断的可靠程度</li><li>有放回简单随机抽样，样本均值的标准误$\frac{\sigma}{\sqrt n}​$</li><li>不放回的：$\frac{\sigma}{\sqrt n}\sqrt{\frac{N-n}{N-1}}$<ul><li>  样本均值落在$\mu$的两侧的概率：</li><li>  1倍标准误有68.2%</li><li>  2倍有95.4%</li><li>  3倍有99.7%</li></ul></li></ul><hr><h3 id="总体均值置信区间"><a href="#总体均值置信区间" class="headerlink" title="总体均值置信区间"></a>总体均值置信区间</h3><p>正态总体</p><p>大样本</p><p>总体方差</p><p>公式</p><p>Y</p><p>Y</p><p>$\overline X\pm z_\frac{\alpha}{2}\frac{\sigma}{\sqrt n}$</p><p>Y</p><p>N</p><p>$\overline X \pm t_{\frac{\alpha}{2}}(n-1)\frac{s}{\sqrt n}$</p><p>N</p><p>Y</p><p>Y</p><p>$\overline X\pm z_\frac{\alpha}{2}\frac{\sigma}{\sqrt n}$</p><p>N</p><p>Y</p><p>N</p><p>$\overline X \pm t_{\frac{\alpha}{2}}(n-1)\frac{s}{\sqrt n}$</p><h4 id="置信区间宽度影响因素"><a href="#置信区间宽度影响因素" class="headerlink" title="置信区间宽度影响因素"></a>置信区间宽度影响因素</h4><ul><li>  样本均值：中心位置</li><li>  总体标准差：总体波动越小，窄</li><li>  样本容量：样本容量越大，越窄</li><li>  分位数：根据置信度，越大越宽</li></ul><p>前两个不可控</p><h3 id="总体比例的置信区间"><a href="#总体比例的置信区间" class="headerlink" title="总体比例的置信区间"></a>总体比例的置信区间</h3><p>X是0-1变量，样本比例 $$ \hat p=\Sigma \frac{X_i}{n} $$ 总体比例$p$的$100(1-\alpha)\%​$置信区间： $$ \hat p\pm z_\frac{\alpha}{2}\sqrt{\frac{\hat p(1-\hat p)}{n}} $$ $n\hat p\geq 5$且$n(1-\hat p)\geq 5​$</p><h3 id="置信区间的意义"><a href="#置信区间的意义" class="headerlink" title="置信区间的意义"></a>置信区间的意义</h3><p>总体参数是不变的，但是置信区间是根据某次抽样构造的，所以是： <strong>置信区间以××概率覆盖总体均值</strong></p><ul><li>是<strong>覆盖</strong>不是_落在_</li><li>概率是描述<strong>估计方法的可靠程度</strong>而不是描述_置信区间覆盖总体参数的概率_</li></ul><hr><h3 id="抽样误差"><a href="#抽样误差" class="headerlink" title="抽样误差"></a>抽样误差</h3><p>$Z_{\frac{\alpha}{2}}\frac{\sigma}{\sqrt n}$</p><hr><ul><li>  实际抽样误差：样本估计值与总体参数真值之间的离差；不可知（总体参数未知）</li><li>  抽样平均误差：所有可能样本的估计之与相应总体参数真值的平均误差——即是标准误</li><li>最大允许误差：人为确定的可以容忍的最大误差水平，E<ul><li>  $置信区间=点估计 \pm E$</li></ul></li></ul><h3 id="样本容量"><a href="#样本容量" class="headerlink" title="样本容量"></a>样本容量</h3><p>必要样本容量（有放回简单随机抽样） $$ n_0=\frac{Z^2_{\frac{\alpha}{2}}\sigma^2}{E^2} $$ $$ n_0=\frac{Z^2_{\frac{\alpha}{2}}\pi(1-\pi)}{E^2} $$ 置信度、可接受抽样误差都是事先确定 总体方差或总体比例：没有辅助信息时$\pi$取0.5 n<strong>向上取整</strong> 无放回： $$ n=\frac{n_0}{1+\frac{n_0}{N}} $$ 先从有放回里面算出n<del>0</del>，再代进第二。</p><h2 id="假设检验"><a href="#假设检验" class="headerlink" title="假设检验"></a>假设检验</h2><ul><li>提假设：对总体的某种看法（对总体参数的具体数值的陈述）<ul><li>  原假设H<del>0</del>：等号只会在原假设上；不应该被轻易推翻的放在原假设</li><li>  备择假设H<del>1</del>：原假设的对立面</li><li>  概念</li><li>  左侧检验：$H_0:\mu\le\mu_0 $</li><li>  右侧：$H_0:\mu \ge \mu_0$</li><li>  双侧：$H_0:\mu = \mu_0$</li><li>  单测检验的t检验p值是双侧的一半</li><li>  原则：</li><li>  等号放在原假设</li><li>  不容易推翻的做原假设</li></ul></li><li>做决策<ul><li>  构造标准化检验统计量： $$ \frac{点估计量-总体参数的假设值}{点估计的标准误} $$</li><li>反映点估计量与假设的总体参数之间的距离是标准误的多少倍</li><li>当原假设为真时会服从于某个标准分布</li><li>临界值法</li><li>根据样本信息计算标准化检验统计量的值</li><li>与给定置信水平下的临界值作对比，在拒绝域中拒绝原假设</li><li>p值法：对比p值和$\alpha$；p值描述的是小概率事件的概率</li><li>根据样本信息计算标准化检验统计量的值；</li><li>  计算p值，与给定的显著性水平$\alpha$对比，小于就拒绝原假设；</li><li>  p值的意思：统计量取值及更极端方向所对应的概率</li><li>  p值软件自动输出</li></ul></li><li>下结论</li></ul><h3 id="Z检验"><a href="#Z检验" class="headerlink" title="Z检验"></a>Z检验</h3><p>如果总体标准差已知，总体服从正态分布，则使用Z统计量： $$ Z=\frac{\overline X - \mu_0}{\frac{\sigma}{\sqrt n}} $$ 总体非正态，但是大样本，也可以用Z统计量</p><h3 id="单样本t检验"><a href="#单样本t检验" class="headerlink" title="单样本t检验"></a>单样本t检验</h3><p>总体服从正态或大样本，不知道总体标准差： $$ t=\frac{\overline X - \mu_0}{\frac{s}{\sqrt n}}\sim t(n-1) $$</p><h3 id="两个独立样本的t检验"><a href="#两个独立样本的t检验" class="headerlink" title="两个独立样本的t检验"></a>两个独立样本的t检验</h3><p>双侧：$H_0:\mu_1=\mu_2$，左侧右侧…… 两个总体服从正态且相同方差： $$ T=\frac{\overline X-\overline Y}{\sqrt{\frac{S^2_P}{n_1}+\frac{S^2_P}{n_2}}}\sim t(n_1+n_2-2) $$ 两个总体服从正态但是不同方差： $$ T=\frac{\overline X-\overline Y}{\sqrt{\frac{S^2_1}{n_1}+\frac{S^2_2}{n_2}}}\sim t(n) $$</p><hr><ol><li> 假设：$H_0:\mu_1=\mu_2$</li><li>决策：<ol><li>看Levene检验——方差是否相同<ol><li> Levene检验的$H_0:\sigma^2_1=\sigma^2_2$</li><li> 然后看t检验的p</li></ol></li></ol></li><li> 下结论</li></ol><h3 id="两个匹配样本的t检验"><a href="#两个匹配样本的t检验" class="headerlink" title="两个匹配样本的t检验"></a>两个匹配样本的t检验</h3><p>匹配样本：两个样本的数据<strong>一一对应</strong>（一般是Before和After） 直接看p</p><h2 id="两类错误"><a href="#两类错误" class="headerlink" title="两类错误"></a>两类错误</h2><ol><li>第一类错误-弃真：原假设是真的但是被拒绝了</li><li>第二类错误-取伪：原假设是假的但是被接受了</li></ol><p>概率：</p><ul><li>  $\alpha$是第一类错误的最大概率，p值是第一类错误的真实概率</li><li><a href="https://wordpress.huaj.tk/wp-content/uploads/2019/03/Screenshot-from-2019-04-11-21-48-26.png"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/03/Screenshot-from-2019-04-11-21-48-26.png"></a></li><li>两类错误的发生概率是“此消彼长”的，增加样本容量才能把两个概率都降低（越窄）</li></ul><h1 id="方差分析"><a href="#方差分析" class="headerlink" title="方差分析"></a>方差分析</h1><p>多次两总体均值t检验会增加第一类错误的概率： n个总体需要做$C^2_n$次，错误率是$1-(1-第一类错误概率)^{C^2_n}$</p><h2 id="条件"><a href="#条件" class="headerlink" title="条件"></a>条件</h2><ol><li> 一个定量因变量</li><li> 一个及以上定性自变量</li><li> 定性自变量的取值（水平）多于两个</li></ol><h2 id="假设"><a href="#假设" class="headerlink" title="假设"></a>假设</h2><p>$$ H_0:\mu_1=\mu_2=…=\mu_n $$ 重点是： $$ H_1:\mu_1,\mu_2,…,\mu_n不全相等 $$</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 课堂笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>金融工程概论-课堂笔记</title>
      <link href="/posts/31bee7b4/"/>
      <url>/posts/31bee7b4/</url>
      
        <content type="html"><![CDATA[<h1 id="序论"><a href="#序论" class="headerlink" title="序论"></a>序论</h1><h2 id="内涵、发展"><a href="#内涵、发展" class="headerlink" title="内涵、发展"></a>内涵、发展</h2><h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><p>解决金融问题为根本目的</p><p>金融工程是实现金融创新的手段</p><p>步骤：诊断（问题的实质）、分析（问题的难点）、生产（创造新的金融工具、服务）、定价、修正（对客户的需求来进行定制）</p><p>工作：设计产品、定价产品、运用产品、风险管理</p><h2 id="核心和动力"><a href="#核心和动力" class="headerlink" title="核心和动力"></a>核心和动力</h2><p>创造性是衍生金融工具的发展核心与动力</p><p>推出新的金融产品</p><span id="more"></span><h1 id="金融衍生工具"><a href="#金融衍生工具" class="headerlink" title="金融衍生工具"></a>金融衍生工具</h1><p>定义：给予交易对手的一方在未来的某个时间点，对某种基础资产拥有一定债权和相应义务的合约</p><p>特点：</p><ol><li><p>依存于传统金融工具</p><ol><li> 无法独立存在</li><li> 价值依赖标的资产</li></ol></li><li><p>借助跨期交易</p></li><li><p>杠杆效应</p></li><li><p>远期合约：将来某一确定的日期按照事先规定的价格买入或卖出既定数量资产的协议</p><ol><li> 买入资产方是多头、卖出资产方是空头；实现规定的价格是交割价格</li></ol></li><li><p>期货：标准化远期合约</p></li><li><p>互换：双方约定对将来某一时段内的现金流进行交换的协议：逃避监管</p></li><li><p>期权：可交易的标准化合约，赋予期权的所有者在规定的时间以规定的价格买卖特定资产的权利</p></li></ol><p>市场参与者：</p><ol><li> 保值者：对冲保值，避险</li><li> 投机者：增大市场风险</li><li> 套利者</li><li> 经纪人</li><li> 对冲基金</li></ol><p>头寸：</p><p>应用：</p><ol><li> 套期保值——风险管理……用确定性代替不确定性</li></ol><p>功能：</p><ol><li> 转化功能：风险的转化，外部转内部，短期变长期等</li><li> 定价功能：期货给未来价格</li><li> 规避风险</li><li> 盈利功能</li><li> 资源配置</li></ol><p>对经济发展的影响：</p><ol><li> 促进基础金融市场发展</li><li> 推进金融市场证券化的发展</li><li> 为货币政策制定提供参考</li><li> 加大金融体系系统性风险</li><li> 加大金融监管难度</li></ol><p>发展状况：</p><ol><li> 90年代期货市场出现</li><li> 05年CDO</li></ol>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 课堂笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日小记</title>
      <link href="/posts/7b51a00c/"/>
      <url>/posts/7b51a00c/</url>
      
        <content type="html"><![CDATA[<p>今天跑去城里面购物，主要是为了不用看学校超市里那帮脸色不对劲的工作人员。昌平线中午依然非常拥挤，特别是沙河站超级多人上车。这次去的超市是上地站附近的沃尔玛。上地附近还是比较“郊区”的，楼房都比较矮，而且人行道也挺差的。这个地方的沃尔玛和北京其他的很像，都是分两层的，不像广州的都是一层的。逛超市超级开心，东西单件都便宜，但是最后就买了一百多块了——毕竟是为了一个星期都不用去超市，而且买够零食可以提升快乐。</p><span id="more"></span><p>这一次买了牛奶（竟然可以是常温的诶，只要两天之内喝完就可以了）、哈尔滨小麦王啤酒，薯片（超级肥宅装）和肠仔也有，还有毛巾之类的日用品，另外还买了一砖头A4纸用来做运筹学的草稿纸。但是买完带回去就比较麻烦了，毕竟沃尔玛到地铁站还有一公里那么远……所以借了一台共享单车推回去。但是问题是那台车其实是不用开锁的（锁已经被剪掉了）。然后抄了捷径回去，不过要上天桥，所以其实也没怎么省力气。</p><p>值得一提的是上地站附近变化很大，建起了新的火车站。大一的时候才刚开始挖地基什么的，现在就已经有了像北京西站那样的建筑了——站台两端的台阶，从候车厅到站台的那种；地下停车场，有个工人在平整水泥……至于西二旗的旧站，里面已经搭起了脚手架，不知道是不是要拆了。变得好快呢，但是这样怎么让人有归属感呢。地铁在那里附近也会减速，颇有一种“乘客们快观赏我们国家的富强”的感觉。</p><p>此外今天还受到了两本课本，以及栗子给我买的冷泡咖啡。刚好买了牛奶，所以混合一下变成了奶咖，喝起来感觉还行。主要是咖啡罐子挺好看的。</p>]]></content>
      
      
      <categories>
          
          <category> 日常 </category>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
            <tag> 周末 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>电子商务概论-课堂笔记</title>
      <link href="/posts/ff7cd9aa/"/>
      <url>/posts/ff7cd9aa/</url>
      
        <content type="html"><![CDATA[<h1 id="电子商务概论"><a href="#电子商务概论" class="headerlink" title="电子商务概论"></a>电子商务概论</h1><p>B2B</p><p>B2C</p><p>B2E：企业-员工</p><p>EDI：电子数据交换</p><p>E2E：交易所对交易所</p><p>Group purchasing: 团购</p><p>Inter-organizational information systems：跨组织信息系统</p><p>Tendering：投标</p><p>定义：利用电子化手段来进行产品、服务与信息的交换以及买卖、销售、转换的过程（强调了企业间、企业消费者间的买卖活动）</p><p>电子商务主要包括跨越企业边界的交易。</p><p>e-Business（电子业务）：企业内部的电子化交易和处理流程，包括客户服务、商业伙伴的协同、组织内信息交换</p><p>特点：</p><ol><li><p>普遍存在性：依赖网络</p><ol><li> 降低交易成本、认知经历消耗</li></ol></li><li><p>影响范围遍及全球</p></li><li><p>通用标准：基于互联网技术通用标准，降低市场进入成本、消费者搜索成本</p></li><li><p>丰富性</p><ol><li> 信息丰富性（多媒体</li><li> 丰富性和影响范围互相制约</li></ol></li><li><p>交互性：双向沟通，B2C和C2C同时存在</p></li><li><p>信息密度</p><ol><li> 提高及时性、准确性</li><li> 提升价格、成本的透明度</li></ol></li><li><p>个性化（依赖于交互性和信息密度）</p><ol><li> 根据ID等标记调整提供的信息</li><li> 定制化：消费者根据偏好事先调整商品选项</li></ol></li><li><p>完全的和不完全的电子商务</p></li><li><p>三维度：订购支付、订单实施（制作）、产品配送</p><ol><li> 全电子化：纯电子商务</li><li> 虚拟业务组织、鼠标+水泥组织（混合）、砖头+水泥组织（传统）</li><li> 电子市场、跨组织信息系统（基于EDI在两个或以上的组织间进行）、组织内部信息系统</li><li> B2C模型：消费者利用Internet提供的双向交互通信与网上商店进行信息交互完成购物的过程（过时）</li><li> C2C模型：消费者之间自由贸易</li><li> B2B2C：小企业给拥有客户的企业提供产品</li><li> C2B：集体议价</li><li> O2O：</li></ol></li></ol><h2 id="电子商务框架"><a href="#电子商务框架" class="headerlink" title="电子商务框架"></a>电子商务框架</h2><ol><li>基础设施<ol><li> 普通商务服务基础设施</li><li> 信息发布基础设施</li><li> 多媒体和网络出版基础设施</li><li> 网络基础设施</li><li> 接口基础设施</li></ol></li><li>支持服务<ol><li> 人（买方卖方）</li><li> 公共政策（税收法律等）</li><li> 营销和广告（市场调研、促销、网页内容等）</li><li> 支持服务（订单履行、物流、支付）</li><li> 企业合作关系</li></ol></li></ol><h2 id="电子商务类型"><a href="#电子商务类型" class="headerlink" title="电子商务类型"></a>电子商务类型</h2><p>B2C，企业与消费者，电子零售</p><p>C2C，本质是网上拍卖，消费者之间的交易</p><p>企业内部电子商务</p><p>基于位置的移动商务（L-commerce）</p><p>企业对员工</p><p>协同商务</p><p>电子学习</p><p>电子政务</p><p>E2E，交易所对交易所</p><p>非商业电子商务：降低运营费用</p><p><em>转向多元结构：</em></p><p>B2B2C、C2B等</p><h3 id="创新和衍生模型"><a href="#创新和衍生模型" class="headerlink" title="创新和衍生模型"></a>创新和衍生模型</h3><p>O2O（Online to Offline），利用物流等方法将线下商务的机会与互联网的技术结合在一起，给线下交易进行推广和成交。</p><h2 id="发展简史"><a href="#发展简史" class="headerlink" title="发展简史"></a>发展简史</h2><h3 id="B2B雏形"><a href="#B2B雏形" class="headerlink" title="B2B雏形"></a>B2B雏形</h3><p>70年代末BH制药，创建了远程订单录入系统（单点的）</p><p>80年代EDI：连接数据</p><p>EFT：局限于大公司和金融等</p><h3 id="B2C雏形"><a href="#B2C雏形" class="headerlink" title="B2C雏形"></a>B2C雏形</h3><p>81年法国电信集团minitel系统（到06年），提供视频和文本功能（先驱系统，不是互联网的）</p><p>94年AT&amp;T等94年10月开始网络广告</p><p>95年开始真正商业化</p><ol><li> 95-00，变革期，眼球经济，比赚取利润更重要——快速做大、先发优势的投资理念（00年互联网企业股价崩盘为结束）</li><li> 01-06，技术导向至商务导向，传统企业也学会使用互联网加强市场地位、巩固品牌</li><li> 06至今：再定义：谷歌推动社会化电子商务；再定义包括互联网技术的延伸、基于用户生成内容和社交网络的新商业模式</li></ol><h2 id="评价"><a href="#评价" class="headerlink" title="评价"></a>评价</h2><p>吸引了消费者，提高了销售额，培养了电子商务购物模式</p><p>单一市场、统一价格的“无摩擦”完全竞争并没有出现：消费者对价格敏感性不如预期、收入高的网站价格最高、同一产品的价格离散度高、搜索成本降低但是交易成本依然高（物流仓储等）；商家找到了区分产品和服务的模式</p><p>先发有时只在少数网站的得以体现</p><p>早期的电子商务实践为中间商转型创造机会：从批发转成广告、信息服务平台</p><h2 id="电子商务商业模式"><a href="#电子商务商业模式" class="headerlink" title="电子商务商业模式"></a>电子商务商业模式</h2><p>竞争不再是产品、广告等的单一要素较量，能获取明显竞争优势的竞争时商业模式的比拼</p><p>商业模式的定义：企业为获取收入以维持经营而开展业务的模式，或从市场上获得利润而预先规划好的一系列活动（要关注竞争态势）</p><p>商业模式决定了企业在价值链中的位置，企业通过何种活动为它所提供的产品和服务创造价值</p><p>功能：</p><ol><li> 清楚表明客户的价值主张（市场的痛点在哪里）</li><li> 识别细分市场（谁将使用这种技术，出于什么目的）（盈利空间）</li><li> 确定企业特定的价值链结构</li><li> 估计成本结构和获利的可能性</li><li> 描述企业在与供应商、客户相连的价值网络中所处的位置</li><li> 制定企业的竞争策略</li></ol><p>要素</p><ol><li>价值主张（为什么要帮衬你）<ol><li>核心，明确一家企业的产品或服务如何满足客户的需求</li><li>消费者角度的VP：<ol><li> 个性化定制</li><li> 降低搜索成本</li><li> 降低价格发现成本</li><li> 通过交付管理使交易更加便捷</li></ol></li><li>怎么创造价值：<ol><li> 搜索和交易的成本效率：</li><li> 互补性：产品和服务一起销售&gt;产品提供的价值</li><li> 锁定效应：转换其他供应商成本高</li><li> 新奇性</li></ol></li></ol></li><li>盈利模式</li><li>市场机会（服务什么市场，容量多大）</li><li>竞争环境（哪些企业的目标市场与你相同）<ol><li> 在统一市场中运作、销售相似产品的其他企业，替代产品的存在和进入市场的新途径</li></ol></li><li>竞争优势（有什么优势）<ol><li> 总能获得竞争对手所无法获得的各种要素——不对称优势</li><li> 先发优势……先发者缺少保持优势的互补资源；先发者可以从先驱企业的的失败中学习经验而更快回报</li><li> 杠杆作用：利用已有竞争优势在周围市场中也获得更多的竞争优势</li></ol></li><li>营销战略（怎么宣传和让更多消费者知道）</li><li>组织发展（使用哪种组织架构）</li><li>管理团队</li></ol><p>典型的：</p><ol><li>电子招标系统</li><li>自行定价（允许买方设定价格）<ol><li> 节约交易成本（节约议价成本）</li><li> 保护品牌调性</li></ol></li><li>结盟营销<ol><li> 营销参与者与公司达成协议，推荐消费者到该公司的网站购买服务或产品</li></ol></li><li>病毒营销<ol><li> 网络口碑</li></ol></li><li>团购</li><li>在线拍卖</li><li>定制</li><li>电子市场</li><li>供应链改善者</li></ol><h3 id="商业模式变化轨迹"><a href="#商业模式变化轨迹" class="headerlink" title="商业模式变化轨迹"></a>商业模式变化轨迹</h3><p>第一阶段：羊毛就是羊毛价，卖方规定价格消费者就要接受</p><p>第二阶段：羊毛出在羊身上，免费停车优惠买一赠一等</p><p>第三阶段：羊毛出在猪身上，低价策略但是只有会员才能消费；商家拿着会员的会员价来进行投资</p><p>第四阶段：羊毛出在狗身上，猪来买单</p><h2 id="电子商务的好处"><a href="#电子商务的好处" class="headerlink" title="电子商务的好处"></a>电子商务的好处</h2><p>……</p><h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><p>侵权、盗版等</p><h1 id="电子市场"><a href="#电子市场" class="headerlink" title="电子市场"></a>电子市场</h1><h2 id="术语"><a href="#术语" class="headerlink" title="术语"></a>术语</h2><p>Avatars</p><p>化身</p><p>Back end</p><p> </p><p>Electronic catalog</p><p> </p><p>Portal</p><p> </p><h3 id="Zulily经验"><a href="#Zulily经验" class="headerlink" title="Zulily经验"></a>Zulily经验</h3><ol><li> 限时特卖“闪购”</li><li> 专注母婴产品</li><li> 扶持小品牌</li><li> 个性化需求</li><li> 零库存管理</li><li> 发货周期长、不支持退货</li></ol><h2 id="电子市场-1"><a href="#电子市场-1" class="headerlink" title="电子市场"></a>电子市场</h2><p>进行电子商务交易的主要场所，是一个虚拟的市场</p><p>功能：</p><ol><li>匹配卖方、买方（甚至是多方交易）<ol><li> 决定需要提供的产品买方提供的产品功能不同产品的集成</li><li> 搜索、价格和产品信息、组织招投标</li></ol></li><li>促进信息、产品、服务的交换、与市场相关的支付</li><li>提供制度上的基础架构（法制框架等等）</li></ol><h3 id="技术驱动导致的结果："><a href="#技术驱动导致的结果：" class="headerlink" title="技术驱动导致的结果："></a>技术驱动导致的结果：</h3><ol><li> 丰富的交易和相关环境的信息</li><li> 买卖双方的地理位置已经不重要了（存疑）</li><li> 相对买方耕地的信息获取代价</li><li> 减少了买卖双方的信息不对称</li></ol><h2 id="电子市场的要素和参与者"><a href="#电子市场的要素和参与者" class="headerlink" title="电子市场的要素和参与者"></a>电子市场的要素和参与者</h2><ol><li> 消费者</li><li> 商家</li><li> 产品和服务（匹配供需两头）——</li><li> 基础设施</li><li> 前端（消费者与市场的互动）</li><li> 后端（处理请求）</li><li> 中介和商业伙伴</li></ol><p>支付性服务</p><p>线下与线上市场的区别是虚拟化程度和基础设施</p><h2 id="市场空间组建"><a href="#市场空间组建" class="headerlink" title="市场空间组建"></a>市场空间组建</h2><ol><li>前端<ol><li> 卖家portal</li><li> 电子目录</li><li> 购物车</li><li> 搜索引擎</li><li> 支付门户</li></ol></li><li>后端<ol><li> 订单完成和集合</li><li> 包装和快递</li><li> 支付环节</li><li> 仓储管理</li></ol></li><li>中介：（区别于wholesale是创建和管理线上市场）大多数是计算机化系统</li><li>其他商业伙伴</li><li>支持服务：<ol><li> 证书和认证服务</li><li> 智囊团</li><li> BBB online，产品质量和信用担保</li></ol></li></ol><h2 id="电子市场类型"><a href="#电子市场类型" class="headerlink" title="电子市场类型"></a>电子市场类型</h2><ol><li>B2c：<ol><li>Store（店铺<ol><li> 一个公司的在线销售平台——可以是平台搭建也可以是自己搭建</li></ol></li><li>Mall<ol><li> 子单元就是Store</li></ol></li><li>Avatars（SecondLife.com）</li></ol></li><li>B2B<ol><li> Sell-side</li><li> Buy-siede</li><li> Exchange</li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 课堂笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NTP时间同步</title>
      <link href="/posts/548ad621/"/>
      <url>/posts/548ad621/</url>
      
        <content type="html"><![CDATA[<p>记录一下如何配置archlinux上的实践同步。</p><p><a href="https://wordpress.huaj.tk/wp-content/uploads/2019/03/hourglass-620397_1920.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads/2019/03/hourglass-620397_1920.jpg"></a></p><p>用到三个网站：<a href="https://wiki.archlinux.org/index.php/Systemd-timesyncd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">systemd-timesyncd (简体中文)</a>、<a href="https://www.ntppool.org/zone/asia">Asia — asia.pool.ntp.org</a>和<a href="https://time.is/zh/">Time.is</a>。</p><p>首先根据systemd-timesyncd，</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable systemd-timesyncd.service</span><br></pre></td></tr></table></figure><p>然后修改/etc/systemd/timesyncd.conf，找到#NTP=，去掉注释并添加Asia — asia.pool.ntp.org里的NTP服务器：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/etc/systemd/timesyncd.conf</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>最后用root权限完成启动和同步：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start systemd-timesyncd</span><br><span class="line">sudo timedatectl set-ntp true</span><br></pre></td></tr></table></figure><p>查看同步结果：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timedatectl status</span><br></pre></td></tr></table></figure><p>同步之后可以在Time.is上面对表。</p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
            <tag> 时间同步 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>互联网金融-课堂笔记</title>
      <link href="/posts/d76ef6e3/"/>
      <url>/posts/d76ef6e3/</url>
      
        <content type="html"><![CDATA[<h1 id="技术基础与金融创新"><a href="#技术基础与金融创新" class="headerlink" title="技术基础与金融创新"></a>技术基础与金融创新</h1><h2 id="互联网"><a href="#互联网" class="headerlink" title="互联网"></a>互联网</h2><p>最初：网间网</p><p>始于：69.12，军用部门阿帕网；70年开放给非军用</p><p>83：NCP协议改成TCP/IP</p><p>86年：NSF建立NSFnet，公众开放（主干网前身）</p><p>91年：万维网</p><p>互联网功能：</p><ol><li> 信息传递和数据交换</li><li> 资源共享——减少用户的投资，提高大型数据中心的利用率</li><li> 提高计算能力——分布式计算</li><li> 搜索匹配功能（搜索引擎）</li></ol><p>互联网本质：</p><ol><li> 连接——通讯渠道</li><li> 协议和规定——TPC/IP</li><li> 服务</li><li> 人脑的外延——思维活动的外在体现</li></ol><h2 id="互联网金融"><a href="#互联网金融" class="headerlink" title="互联网金融"></a>互联网金融</h2><p>互金定义：因为互联网技术和互联网精神的影响，从传统银行、证券、保险等金融中介和市场，到瓦尔拉斯一般均衡对应的无金融中介或市场情形之间的所有金融交易和组织形式的总称</p><p>互联网精神：开放、包容、平等、协作、分享。</p><p>瓦尔拉斯一般均衡：整个市场上过度需求与过剩供给的总额必定相等的情况。</p><p>互联网金融实际上是一个基础设施而不是金融中介。……基于互联网技术平台基础的金融活动、金融形式等的总和</p><p>特征：服务成本低、网络效应显著、信贷双方搜寻匹配效率高</p><p>属性：</p><ol><li> 技术属性</li><li> 金融属性（利用互联网技术更好发挥金融的功能、交易契约关系没有改变）</li></ol><h2 id="互联网金融的范围"><a href="#互联网金融的范围" class="headerlink" title="互联网金融的范围"></a>互联网金融的范围</h2><h3 id="纯互联网金融机构"><a href="#纯互联网金融机构" class="headerlink" title="纯互联网金融机构"></a>纯互联网金融机构</h3><ol><li> 互联网银行（拥有商业银行牌照，业务依靠后台，没有营业柜台）（经营成本低，服务创新快）（网络安全问题，技术条件限制，传统观念排斥）</li><li> 互联网证券公司（对物理网点依赖低；多数从传统证券公司演变而来）（促进证券市场的规模扩张（客户进入门槛降低）；信息传播过程更有效率；促进差异化竞争）</li><li> 互联网保险（众安保险）（客户自主选择，抵触降低；服务高效）</li></ol><h3 id="电子商务类"><a href="#电子商务类" class="headerlink" title="电子商务类"></a>电子商务类</h3><p>为交易双方提供服务：第三方支付，网络小贷；供应链金融；网络消费金融</p><h3 id="科技类"><a href="#科技类" class="headerlink" title="科技类"></a>科技类</h3><p>从支付开始；搭建商品销售和资金收付平台；与银行和商户合作，进入到个人小额支付市场（如腾讯支付）</p><h3 id="民间投资服务类"><a href="#民间投资服务类" class="headerlink" title="民间投资服务类"></a>民间投资服务类</h3><p>类金融企业：金融信息服务、投资、投资咨询</p><p>网络借贷平台：P2P网络交易服务</p><p>众筹平台，为小型众筹项目提供平台服务</p><p>专业金融信息网站：互联网金融信息，基金产品销售等</p><h2 id="互联网金融的基础设施"><a href="#互联网金融的基础设施" class="headerlink" title="互联网金融的基础设施"></a>互联网金融的基础设施</h2><h3 id="金融大数据系统"><a href="#金融大数据系统" class="headerlink" title="金融大数据系统"></a>金融大数据系统</h3><p>基于大数据的服务创新：依据客户资金流、信用、行为习惯等开发产品</p><p>基于大数据的风险控制：前期信用调查，中期授信，后期信用管理</p><h3 id="互联网征信"><a href="#互联网征信" class="headerlink" title="互联网征信"></a>互联网征信</h3><p>狭义：采集个人或企业在互联网交易或使用互联网服务中留下的行为数据来进行信息评估的活动</p><p>广义：狭义加上线下渠道采集的公共信息</p><h3 id="金融区块链"><a href="#金融区块链" class="headerlink" title="金融区块链"></a>金融区块链</h3><p>去中心化的数据储存和传输方法。——分布式记账法</p><h3 id="其他金融科技"><a href="#其他金融科技" class="headerlink" title="其他金融科技"></a>其他金融科技</h3><p>物联网技术、人工智能技术等</p><p>物联网的核心是创新，可以拓展金融服务空间、扩大金融服务市场范围</p><p>人工智能应用于银行服务、证券投资顾问等有效提高效率</p><h1 id="互联网金融发展"><a href="#互联网金融发展" class="headerlink" title="互联网金融发展"></a>互联网金融发展</h1><h2 id="互联网金融实践创新探索与发展"><a href="#互联网金融实践创新探索与发展" class="headerlink" title="互联网金融实践创新探索与发展"></a>互联网金融实践创新探索与发展</h2><p>金融机构互联网应用的回顾：</p><ol><li> 银行业：70到90,银行全面电子化；90中期到现在，网络银行时代（02年银联成立，14年出现首批纯互联网银行）</li><li> 证券业：97.3国内第一个多媒体公众信息望网上交易系统</li><li> 保险业：97年第一个第三方保险网站中国保险信息网产生；13年众安保险</li></ol><p>非金融企业：</p><ol><li> 第三方支付：98年paypal，04年支付宝；10年才出现管理办法（支付业务许可证）；15、16年规制迅速完善</li><li> P2P平台：05年全球第一家英国的；07年拍拍贷——我国出现；16年国务院决定进行专项整治（易租宝）</li><li> 众筹：以货币捐赠或以换取未来的产品、服务或股权的形式为特定项目、企业提供金融支持的融资手段：03年全球第一家ArtistShare，11年中国首家“点名时间”</li><li> 互联网金融门户：利用互联网进行金融产品销售以及为金融产品销售提供第三方服务的平台，同时是资讯平台，核心是搜索+比价；分类：第三方咨询平台、垂直搜索平台、在线金融超市</li></ol><h2 id="发展的推动因素"><a href="#发展的推动因素" class="headerlink" title="发展的推动因素"></a>发展的推动因素</h2><ol><li> 互联网技术……电子化</li><li> 云技术……提供算力</li><li> 算法与数据处理技术：算法改进可以提升数据挖掘的效果；数据处理对象由结构数据向半结构和非结构数据变化，CPU转GPU</li><li> 应用需求：经济活动支付需求（安全、便捷、用户体验）；网络直接融资（中小型企业、个人，信息不对称）；财富管理需求</li><li> 规避监管创新：网贷平台的本质是影子银行；躲开准备金要求；</li><li> 监管缺位：互联网金融的开放性和交叉性降低了进入门槛；机构监管的模式下对互联网金融的属性的难认定导致监管缺位</li><li> 监管套利：利用不同的监管机构制定的不同规则甚至是相互冲突的规则来降低监管成本</li></ol><h2 id="发展趋势"><a href="#发展趋势" class="headerlink" title="发展趋势"></a>发展趋势</h2><ol><li> 垂直化：利用互联网迅速整合各个领域的业务；对市场进行细分，根据细分市场的特点设计对应的产品</li><li> 普惠化：降低交易成本和准入门槛、降低信息不对称，低成本呢获得金融服务</li><li> 技术导向：互联网金融加强新技术的应用，解决好信息不对称、融资搜寻匹配等金融基本问题</li></ol><h1 id="金融科技发展的推动力"><a href="#金融科技发展的推动力" class="headerlink" title="金融科技发展的推动力"></a>金融科技发展的推动力</h1><h2 id="金融发展与技术进步"><a href="#金融发展与技术进步" class="headerlink" title="金融发展与技术进步"></a>金融发展与技术进步</h2><ol><li> 金融发展推进技术进步：把资金配置给最有创新能力的企业，从而促进科技创新；吧流动资金转换成非流动的资本（闲散资金的集中）</li></ol>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 课堂笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日平常无事</title>
      <link href="/posts/c83fa2eb/"/>
      <url>/posts/c83fa2eb/</url>
      
        <content type="html"><![CDATA[<p>踢球的时候因为跑太快，停下来的时候地面回弹的力把大拇指震伤了。</p>]]></content>
      
      
      <categories>
          
          <category> 日常 </category>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
            <tag> 大学日常 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>archlinux音量管理器</title>
      <link href="/posts/2d128ea0/"/>
      <url>/posts/2d128ea0/</url>
      
        <content type="html"><![CDATA[<p>Archlinux内置了asla，所以只需要安装用来调整配置的Sound servers就可以了。根据<a href="https://wiki.archlinux.org/index.php/sound_system">Arch Wiki</a>的写法，选择了<a href="https://www.archlinux.org/packages/?name=pulseaudio">pulseaudio</a>。pacman安装完之后只是有了server，还需要配置界面<a href="https://www.archlinux.org/packages/?name=pavucontrol">pavucontrol</a>和系统托盘<a href="https://www.archlinux.org/packages/?name=pasystray">pasystray</a>。为了利用音量键调整声音，需要安装<a href="https://aur.archlinux.org/packages/pulseaudio-ctl"><strong>pulseaudio-ctl</strong></a>，然后在Settings-Keyboard里面设置快捷键。pulseaudio-ctl的用法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/bin/pulseaudio-ctl &#123;up,down,mute,mute-input,set,atmost,full-status&#125; [n]</span><br><span class="line"></span><br><span class="line"> Where up and down adjust volume in ±5 % increments</span><br><span class="line"> Where up and down [n] adjust volume in ±n % increments</span><br><span class="line"> Where mute toggles the mute status on/off</span><br><span class="line"> Where mute-input toggles the input status on/off</span><br><span class="line"> Where set set the volume to [n] %</span><br><span class="line"> Where atmost only takes effect if current volume is higher than [n]</span><br><span class="line"> Where full-status prints volume level, sink and source mute state to stdout</span><br></pre></td></tr></table></figure><p>如果是在xfce4下面，打开Settings-Session and Startup-Application Autostart，添加一个/usr/bin/pasystray的启动项就好了。</p><p>参考： <a href="https://www.linuxquestions.org/questions/slackware-14/pulseaudio-and-volume-buttons-4175564374/">SOLVED PulseAudio and volume buttons</a>，<a href="https://bbs.archlinux.org/viewtopic.php?id=124513">pulseaudio-ctl: vol+/- and mute from the shell or shortcut keys</a></p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
            <tag> pulseaudio </tag>
            
            <tag> sound </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>成功进京</title>
      <link href="/posts/164ed635/"/>
      <url>/posts/164ed635/</url>
      
        <content type="html"><![CDATA[<p>坐了八个钟的火车，基本上都是昏睡状态。到站之后马上坐滴滴，但是找司机找了好久才找到。三环和六环都堵车，弄了一个多钟才到。还好，早点休息就行了，头痛。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AUR安装软件清单</title>
      <link href="/posts/fddbe83e/"/>
      <url>/posts/fddbe83e/</url>
      
        <content type="html"><![CDATA[<p><a href="https://aur.archlinux.org/packages/Linux-ck/">linux-ck</a></p><p>motion pro modprobed-db</p><p><a href="https://aur.archlinux.org/packages/pulseaudio-ctl">pulseaudio-ctl</a></p><p><a href="https://aur.archlinux.org/packages/pspp/">pspp</a></p><p><a href="https://aur.archlinux.org/packages/spread-sheet-widget/">spread-sheet-widget</a></p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一点感想</title>
      <link href="/posts/475e965a/"/>
      <url>/posts/475e965a/</url>
      
        <content type="html"><![CDATA[<p>放假一个月以来，我先后完成了只顾着玩电脑的废宅生活、早起练车的勤奋生活、平淡无奇的过年生活和到处乱跑、不呆在家的皮皮生活等各种生活模式的尝试。其实说到底，不过是为了打发想要有所作为却依然未能“有用”的这段时间。</p><p>最后这一个星期，陪在身边的是自家女朋友。我们去看书，去学习，去逛街，去公园，淋过雨，拍过照，过过普通的日子。你问我怕不怕异地恋，其实我是不怕的，因为一年以来我们已经跨过了最难过的适应期，已经逐渐进入彼此舒适的生活模式。从微信的文字里传达关心与爱意，从电话的声音里表达思念、分享生活。现代通信技术的发达，异地恋早就不是一件难熬的事。而且，假期里见面的时间那么多，也知道了即使是一起生活也不会产生很大的矛盾。这样的话，前途一片光明呢。</p><p>但是总的来说，还是会面对大三一年的异国恋。其实经历过上一年暑假的体验，异国恋也不是那么难接受。毕竟两个人都有事情忙的话，就不会胡思乱想了。</p><p>而且，更加感激的是，这个寒假见面的次数那么多，经历的事情多了那么多，一起留下了好多好多记忆。真的很感激。</p><p>无论如何，就像那句话一样，只要跟着时间慢慢地往前走，那就没什么好怕的了。时间会安排好一切。</p><p>行きましょう。</p>]]></content>
      
      
      <categories>
          
          <category> 琐碎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日游记</title>
      <link href="/posts/a049597b/"/>
      <url>/posts/a049597b/</url>
      
        <content type="html"><![CDATA[<p>今天又去另一家人里参观聚会。也是别墅，不过比上次的别墅更加没装修完。</p><p>见了几个同龄人，虽然不太记得名字了但是都是读大学。瞎聊天，然后打火锅，吃完就回家了。</p><hr><span id="more"></span><p>爸爸说要逐渐学会过有约束的生活了，穿上西装打好领带什么的，至少要在外表上先给人一种可靠的感觉。能力的可靠当然也是很重要的，但是外表可靠往往是敲门砖。所以趁着回旧屋给自行车充气的机会，顺便把那件衬衣带了回来。但是西装皮鞋什么的是真的没有呢，不知道怎么办好。</p><hr><p>其他的三个人里两个准备出国读书。一个读法医，一个是环境工程，一个是金融学。</p><hr><p>晚上看了侏罗纪公园4，特效还是很好看的啦，演员对着完全是空白的等待电脑合成的画面都能演得那么逼真，真的很棒。</p><hr><p>今天折腾大半天，把服务器改成了lnmp，php升级过，重新假设了wordpress，加了各种缓存器，到现在是真的极致了，加缓存1s左右加载时间。已经够了，赶紧利用剩下的时间去做做别的事。</p><hr><p>栗子爸爸和她们出门散步，被坑了快一张毛爷爷，好惨呐。</p><hr><p>栗子写了一大篇文章，看来以后有得忙的了要实现她的梦想的话。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>firefox失手调错about:config的挽救办法</title>
      <link href="/posts/356f05f1/"/>
      <url>/posts/356f05f1/</url>
      
        <content type="html"><![CDATA[<p>网上的教程都是“没救了”“换个profile再来吧”“你应该学会备份的”这些事后诸葛亮的解决办法。后来看见有篇帖子是告诉别人怎么找到Firefox的prefs.js来reset的，由此获得灵感：</p><p>arch上的Firefox文件夹在~/.mozilla/firefox/序列号.default，打开里面的prefs.js，之前填坏了哪个就搜索再改回来就行了。</p>]]></content>
      
      
      <categories>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Firefox </tag>
            
            <tag> 后悔药 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wordpress更改网站图标</title>
      <link href="/posts/46328077/"/>
      <url>/posts/46328077/</url>
      
        <content type="html"><![CDATA[<p>外观-自定义，然后站点身份，两个地方上传图标即可</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wordpress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>昨日游记</title>
      <link href="/posts/18a4fddf/"/>
      <url>/posts/18a4fddf/</url>
      
        <content type="html"><![CDATA[<p>今天白蹭living一顿饭之后多买了一张电影票，和栗子一起看《飞驰人生》。赛车手因为非法飚车被抓而禁赛，最终低声下气、找回旧时死党，东拼西凑配出赛车重回王座而又生死未卜的故事。网上的评论两极分化，说好的人大赞，说差的人说得一文不值。但是实际上这部电影甚至比《流浪地球》做得还好。不乏煽情情节，而又通过及时的反转让人转哭为笑。伤感的情节是真伤感，能戳中痛处，而又一带而过，不会让气氛太沉重。儿子的脑补画面、以及后来真的赛车的画面、叠影手法，都充满了热血的味道，让人感受到了那一股中二气息，为之沸腾。落魄的卑微，和死党为了筹钱只能“卖身”上演“钢管舞”……真的心酸。死党开车失事，赛车几乎等于不能用，但是主角没有像其他电影那样暴怒，没有怨天尤人，只是默默地带着那么一点不甘几乎签了退赛申请书，可见五年的沧桑让他从那个得志而有那么一点狂的人磨成了芸芸众生的一个。在他心目中这两个不离不弃的兄弟比起他自己的梦来说更值得在意。而他的劲敌伸出援手，给他提供了修理站，他的好兄弟也名副其实地担起了全国最优秀修理师的称号，给他修好了。这一部片子里没有谁是反派，真的只有“他自己和时间”是他要对抗的。</p><p>小小的一部片子里，有落魄而又奋起、曾经棱角而又学会圆滑的赛车手，有为富不仁、强人所难而又不是恶心的金主爸爸，有心地善良但是也有那么一点小市民气的驾校教练，有见钱眼开的狐朋狗友，也有患难真情的真兄弟。这些形形色色的人，因为各种事情和男主牵连上的人，在电影的最后，通过那一抹夕阳串在了一起，交代了各自的结局。这种手法可以说是很令人舒服了。电影也不乏伏笔，虽然伏得短，却也让人恍然大悟。</p><p>电影的最后，bad end和good end都提供给了观众，选择哪一个，相信哪一个，就像少年派一样，导演没有给出答案，也没有引导答案。挺好的。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 恋爱 </tag>
            
            <tag> 电影 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UFW的Deny与Reject差别</title>
      <link href="/posts/269f840e/"/>
      <url>/posts/269f840e/</url>
      
        <content type="html"><![CDATA[<p>Deny类似于忽略请求，Reject则是同时返回Connection Refused信息。因此Deny会让客户端超时，而Reject会增加服务器发送的数据量。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>配置cookies-free有感</title>
      <link href="/posts/56aaeb6c/"/>
      <url>/posts/56aaeb6c/</url>
      
        <content type="html"><![CDATA[<p>之前能做的优化都做了，剩下这个cookies free能够玩一玩。</p><p>因为我的博客已经在添加域名的时候绑定了www，所以直接在后台的设置-常规里添加www就好。然后更改.htaccess，添加</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RewriteCond %&#123;HTTP_HOST&#125; ^域名 [NC]</span><br></pre></td></tr></table></figure><p>再复制一条RewriteRule即可。</p><p>然后，VPS部署的时候用的lnmp，所以直接lnmp vhost add，配置静态域名，重点是把Root Directory指定到wordpress的wp-content上。添加好之后在wp-config.php里添加：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">define(&quot;WP_CONTENT_URL&quot;, &quot;https://静态域名&quot;);</span><br><span class="line">define(&quot;COOKIE_DOMAIN&quot;, &quot;www.域名&quot;);</span><br></pre></td></tr></table></figure><p><a href="https://www.netzole.com/how-to-create-cookie-free-domain-for-wordpress/%C2%A0">how-to-create-cookie-free-domain-for-wordpress</a></p><p><a href="https://wenku.baidu.com/view/58c9ed2ff46527d3240ce085.html?re=view%C2%A0">实现不带www的域名自动跳转到带www的域名的最好方法</a></p><p><a href="https://my.peopleshost.com/knowledgebase/106/How-to-Add-WWW-to-WordPress-Address-and-Site-Address-URL.html%C2%A0">How-to-Add-WWW-to-WordPress-Address-and-Site-Address-URL</a></p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wordpress </tag>
            
            <tag> 折腾 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>阳山</title>
      <link href="/posts/80a968e4/"/>
      <url>/posts/80a968e4/</url>
      
        <content type="html"><![CDATA[<p>昨天去阳山看梨花。村子在一个山村里，确确实实的世外桃源：电视看的是卫星电视，手机只有移动有2G信号，网络断绝。应该是妈妈的朋友招待我们，非常热情，总是想让我们带只阳山鸡回去。</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads//2019/02/DSC00622-300x200.jpg">我们好不容易才推掉。主人家生意兴隆，听说除了春节这个月，其他时候没什么游客，一年的旅游收入主要就看梨花开的这个月。靠山吃山。等到一点终于吃上了午饭。（鸡哥，对不起！）</p><p>吃完饭出去看花。</p><p><a href="https://wordpress.huaj.tk/wp-content/uploads//2019/02/DSC00636.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads//2019/02/DSC00636.jpg"></a> <a href="https://wordpress.huaj.tk/wp-content/uploads//2019/02/DSC00631.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads//2019/02/DSC00631.jpg"></a> <a href="https://wordpress.huaj.tk/wp-content/uploads//2019/02/DSC00627.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads//2019/02/DSC00627.jpg"></a> <a href="https://wordpress.huaj.tk/wp-content/uploads//2019/02/DSC00608.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads//2019/02/DSC00608.jpg"></a> <a href="https://wordpress.huaj.tk/wp-content/uploads//2019/02/DSC00606.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads//2019/02/DSC00606.jpg"></a> <a href="https://wordpress.huaj.tk/wp-content/uploads//2019/02/DSC00593.jpg"><img src="https://wordpress.huaj.tk/wp-content/uploads//2019/02/DSC00593.jpg"></a></p><p>已经过了全盛的时候，有的花开始谢了。不过漫山遍野都是梨花的感觉，让人明白“忽如一夜春风来，千树万树梨花开”的那种雪是什么样的感受。</p><p>梨花林间有一些破败的泥瓦屋，有的已经塌了一半了。据说屋子的主人家每年春节还是会回来烧香拜神，但是没有把房子修一修的想法。</p><p>下山的路上看见挺多梨树被拔起来堆在路边，挺可惜的。毕竟梨树长得那么慢，几十年才能开花得像这山那么好看。说没了就没了，挺可惜的。</p><p>回程的路很难走，高速路被封，两个入口塞车一个路口封闭，当地人开车又不守规矩，国道时速60（米）。直到半夜才到家。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游记 </tag>
            
            <tag> 阳山 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>kvm+QEMU安装虚拟机</title>
      <link href="/posts/aa8cc1fd/"/>
      <url>/posts/aa8cc1fd/</url>
      
        <content type="html"><![CDATA[<p>一切都要从换用i3wm之后说起。其实背景不复杂，就是在i3wm下面无法启动deepin-wechat这一大杀器……所以只能用传统解决办法：装虚拟机。</p><p>现在的Intel CPU基本都支持Intel-VT，所以只需要确认BIOS 里没有禁用虚拟化就可以了。archlinux的官方内核默认加载了kvm模块，所以直接安装QEMU即可。为了偷懒，再安装<a href="https://www.archlinux.org/packages/?name=virt-manager">virt-manager</a>来提供图形界面。为了以普通用户身份来运行virt-manager，需要把用户加入libvirt和kvm组。为了支持NAT，需要安装ebtables和dnsmasq。</p><p>启动之前首先用systemctl启动ebtables、dnsmasq、libvirtd（顺序matters），随后启动virt-manager，之后的步骤就和virtualbox的安装步骤差不多了。</p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
            <tag> kvm </tag>
            
            <tag> qemu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vultr部署nextcloud</title>
      <link href="/posts/ef072cad/"/>
      <url>/posts/ef072cad/</url>
      
        <content type="html"><![CDATA[<p>首先一键部署NextCloud，然后ssh进去，参考<a href="https://certbot.eff.org/lets-encrypt/ubuntuxenial-nginx">Let’s Encrypt Certbot</a>安装certbot。certbot的renew是依赖pyasn1而且运行在python3上，所以先安装python3-pip，<code>pip3 install pyasn1</code>，然后crontab -e添加<code>0 3 * */1 * /usr/bin/certbot renew</code>完成证书自动更新。</p><p>解决后顾之忧之后，开始授权： <code>certbot --nginx certonly</code> 证书放在/etc/letsencrypt/live/_域名_，fullchain.pem等于server.crt，privkey.pem等于server.key。然后把fullchain.pem复制到/etc/nginx/ssl而且替换原来的server.crt，把privkey.pem复制到一样的目录替换server.key。</p><p>为了用域名访问，还需要修改/etc/nginx/conf.d/nextcloud.conf，把两个server_name改成域名；修改/var/www/html/config/config.php，把<code>&#39;trusted_domains&#39; =&gt; array (</code> 的ip地址改成域名。</p><p>重启一遍systemctl restart nginx.service; systemctl restart php7.0-fpm.service，大功告成</p>]]></content>
      
      
      <categories>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nextcloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>archlinux下触摸板相关配置</title>
      <link href="/posts/738c62ec/"/>
      <url>/posts/738c62ec/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://blog.csdn.net/yangjvn/article/details/47185589#t6">CSDN-harttle：Linux下的触摸板设置：以 Arch Linux 为例</a></p></blockquote><span id="more"></span><p>Synaptics驱动：xf86-input-synaptics</p><p>外接鼠标时禁用触摸板：/etc/udev/rules.d/01-touchpad.rules </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ACTION==&quot;add&quot;, SUBSYSTEM==&quot;input&quot;, KERNEL==&quot;mouse[0-9]&quot;, ENV&#123;DISPLAY&#125;=&quot;:0.0&quot;, ENV&#123;XAUTHORITY&#125;=&quot;/home/_username_/.Xauthority&quot;, ENV&#123;ID_CLASS&#125;=&quot;mouse&quot;, RUN+=&quot;/usr/bin/synclient TouchpadOff=1&quot; ACTION==&quot;remove&quot;, SUBSYSTEM==&quot;input&quot;, KERNEL==&quot;mouse[0-9]&quot;, ENV&#123;DISPLAY&#125;=&quot;:0.0&quot;, ENV&#123;XAUTHORITY&#125;=&quot;/home/_username_/.Xauthority&quot;, ENV&#123;ID_CLASS&#125;=&quot;mouse&quot;, RUN+=&quot;/usr/bin/synclient TouchpadOff=0&quot;</span><br></pre></td></tr></table></figure><p>触摸板高级配置：/etc/X11/xorg.conf.d/50-synaptics.conf </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Section &quot;InputClass&quot; </span><br><span class="line">Identifier &quot;touchpad catchall&quot; </span><br><span class="line">Driver &quot;synaptics&quot; </span><br><span class="line">MatchIsTouchpad &quot;on&quot; </span><br><span class="line">Option &quot;TapButton1&quot; &quot;1&quot; #单指敲击产生左键事件 </span><br><span class="line">Option &quot;TapButton2&quot; &quot;2&quot; #双指敲击产生中键事件 </span><br><span class="line">Option &quot;TapButton3&quot; &quot;3&quot; #三指敲击产生右键事件 </span><br><span class="line">Option &quot;VertEdgeScroll&quot; &quot;on&quot; #滚动操作：横向、纵向、环形 </span><br><span class="line">Option &quot;VertTwoFingerScroll&quot; &quot;on&quot; </span><br><span class="line">Option &quot;HorizEdgeScroll&quot; &quot;on&quot; </span><br><span class="line">Option &quot;HorizTwoFingerScroll&quot; &quot;on&quot; </span><br><span class="line">Option &quot;CircularScrolling&quot; &quot;on&quot; </span><br><span class="line">Option &quot;CircScrollTrigger&quot; &quot;2&quot; </span><br><span class="line">Option &quot;EmulateTwoFingerMinZ&quot; &quot;40&quot; #精确度 </span><br><span class="line">Option &quot;EmulateTwoFingerMinW&quot; &quot;8&quot; </span><br><span class="line">Option &quot;CoastingSpeed&quot; &quot;20&quot; #触发快速滚动的滚动速度 </span><br><span class="line">Option &quot;PalmDetect&quot; &quot;1&quot; #避免手掌触发触摸板 </span><br><span class="line">Option &quot;PalmMinWidth&quot; &quot;3&quot; #认定为手掌的最小宽度 </span><br><span class="line">Option &quot;PalmMinZ&quot; &quot;200&quot; #认定为手掌的最小压力值 </span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>archlinux下使用rEFI</title>
      <link href="/posts/11039dc7/"/>
      <url>/posts/11039dc7/</url>
      
        <content type="html"><![CDATA[<p>首先安装refind-efi，然后直接refind-install</p><p>由于在我的电脑上使用它的脚本只能复制好drivers，所以还要继续： <code>mkdir -p esp/EFI/refind cp /usr/share/refind/refind_x64.efi esp/EFI/refind/</code> 然后创建efi启动项： <code>efibootmgr --create --disk /dev/sdX --part Y --loader /EFI/refind/refind_x64.efi --label &quot;rEFInd Boot Manager&quot; --verbose</code> 其中Y是指哪个分区是EFI分区</p><p>由于流氓windows（或者是UEFI的实现问题？）总是会启动到自己身上，所以要进UEFI Shell v2来调整启动顺序</p><p>使用的是Archlinux的安装USB来进Shell，因此fs0:会进到U盘的EFI，我的电脑上EFI分区在/dev/sda1上，所以用fs1:进去，<code>bcfg boot dump</code>看启动顺序，<code>bcfg boot mv ? ?</code>来调整启动顺序。搞定exit之后reboot</p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
            <tag> UEFI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>archlinux在UEFI下的安装</title>
      <link href="/posts/3bb30ce0/"/>
      <url>/posts/3bb30ce0/</url>
      
        <content type="html"><![CDATA[<p>cfdisk分区，假设是/dev/sda，sda1是efi，sda2是linux； <code>mkfs.fat -F32 /dev/sda1 mkfs.ext4 /dev/sda2 mount /dev/sda2 /mnt</code></p><span id="more"></span><p>添加清华镜像源： <code>vim /etc/pacman.d/mirrorlist</code> 添加 <code>Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch</code></p><p>执行<code>pacman -Sy</code>，之后<code>pacstrap /mnt base base-devel</code>，结束后<code>genfstab -U -p /mnt &gt;&gt; /mnt/etc/fstab</code>。</p><p>chroot进新安装的系统：<code>arch-chroot /mnt echo _hostname_ &gt; /etc/hostname</code>，然后设定/etc/locale.gen，修改后locale-gen，同时 <code>echo LANG=en_US.UTF-8 &gt; /etc/locale.conf ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime hwclock --systohc --utc</code></p><p>修改root密码：passwd；新建用户： <code>useradd -m -G wheel,storage,power -s /bin/bash _username_ passwd _username_</code> 然后添加sudo权限： <code>visudo _username_ ALL=(ALL) ALL</code></p><p>最后处理UEFI的grub： <code>pacman -S grub efibootmgr dosfstools mkdir /boot/EFI mount /dev/sda1 /boot/EFI grub-install --target=x86_64-efi --bootloader-id=grub_uefi --recheck grub-mkconfig -o /boot/grub/grub.cfg</code></p><p>重启进入arch之后需要执行<code>systemctl enable dhcpcd</code>才能启动时自动获取联网地址</p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>archlinux防止tty的BB声</title>
      <link href="/posts/b30de717/"/>
      <url>/posts/b30de717/</url>
      
        <content type="html"><![CDATA[<p>断子绝孙法，在/etc/modprobe.d/blacklist.conf中添加blacklist pcspkr，直接把声卡驱动模块屏蔽</p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>archlinux关闭N卡</title>
      <link href="/posts/a928b904/"/>
      <url>/posts/a928b904/</url>
      
        <content type="html"><![CDATA[<p><code>pacman -S bbswitch bumblebee</code></p><span id="more"></span><p>创建/etc/modprobe.d/bbswitch.conf： <code>options bbswitch load_state=0 unload_state=1</code></p><p>创建/etc/modprobe.d/blacklist： <code>blacklist nouveau</code></p><p>创建/etc/modules-load.d/bbswitch.conf： <code>bbswitch</code></p><p><a href="https://xuchen.wang/archives/archbbswitch.html">YaCHEN’s Blog:Arch下使用bbswitch彻底禁用双显卡笔记本的独立显卡</a></p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>archlinux下连接WiFi</title>
      <link href="/posts/716a19bf/"/>
      <url>/posts/716a19bf/</url>
      
        <content type="html"><![CDATA[<p>暂时不能明白到底是哪个包非常重要，但是目前使用networkmanager slim network-manager-applet使得连接稳定了下来</p><p>注意NetworkManager需要设定好/etc/hostname和/etc/hosts：</p><p><code>127.0.0.1 localhost 127.0.1.1 _myhostname_.localdomain_myhostname_</code> <a href="https://wiki.archlinux.org/index.php/NetworkManager_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#GNOME">NetworkManager</a></p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>archlinux下安装好fcitx无法调出中文输入法</title>
      <link href="/posts/769f6740/"/>
      <url>/posts/769f6740/</url>
      
        <content type="html"><![CDATA[<p>首先要<code>vim /etc/locale.gen</code>取消注释zh_CN.UTF8 UTF8，然后locale-gen</p><p>然后还要安装fcitx-im来支持各种程序调用fcitx</p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>archlinux下加载屏幕调色</title>
      <link href="/posts/eeea640f/"/>
      <url>/posts/eeea640f/</url>
      
        <content type="html"><![CDATA[<p>先安装argyllcms，然后</p><p><code>dispwin -I _icc路径_</code> <a href="https://www.reddit.com/r/archlinux/comments/3opl7e/colormgr_getdevices_no_output/">colormgr get-devices no output ?-reddit</a></p><span id="more"></span><p>icc和icm是一样的，改一下文件名是通用的。</p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>archlinux下安装deepin-wine</title>
      <link href="/posts/dc164ce2/"/>
      <url>/posts/dc164ce2/</url>
      
        <content type="html"><![CDATA[<p>先添加源，在/etc/pacman.conf里添加：  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[archlinuxcn]  </span><br><span class="line">SigLevel = Never  </span><br><span class="line">Server = http://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch</span><br></pre></td></tr></table></figure><p>然后pacman -Syy更新源缓存。  </p><p>如果有yay，直接<code>yay -S deepin-wine-wechat deepin-wine</code>，安装完再修改<code>/opt/deepinwine/apps/Deepin-WeChat/run.sh</code>，把<code>WINE_CMD</code>修改成<code>deepin-wine</code>。就可以了。  </p><p>没有装yay，去AUR下载<a href="https://aur.archlinux.org/cgit/aur.git/snapshot/deepin-wine-wechat.tar.gz">deepin-wine-wechat</a>、<a href="https://aur.archlinux.org/packages/deepin-wine/">deepin-wine</a>，解压再<code>makepkg -rsi</code>就行。</p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Keepass的良好替代品</title>
      <link href="/posts/32c0495f/"/>
      <url>/posts/32c0495f/</url>
      
        <content type="html"><![CDATA[<p>Keepass是为Windows准备的，在Linux下常常有各种问题：界面太丑，Win2000风格；无法显示中文字体，全部是框框……</p><p>找了很多办法，在archlinux下总是没用。后来看到sourceforge上的<a href="https://sourceforge.net/p/keepass/bugs/1646/">讨论</a>，发现了好用又好看的KeePassXC，而且还在官方库<a href="https://www.archlinux.org/packages/community/x86_64/keepassxc/">KeepassXC</a>里，马上换来用。显示中文十分正常，good job！</p><p><img src="https://wordpress.huaj.tk/%22wp-content/uploads%22/2019/02/Screenshot_2019-02-02_00-13-18-300x157.png"></p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>deepin wechat安装完成后无法调出中文输入法</title>
      <link href="/posts/b30a029e/"/>
      <url>/posts/b30a029e/</url>
      
        <content type="html"><![CDATA[<p>archlinux下安装了AUR里的deepin-wechat之后，需要修改/opt/deepinwine/tools/run.sh，添加</p><p><code>export XMODIFIERS=&quot;@im=fcitx&quot; export GTK_IM_MODULE=&quot;fcitx&quot; export QT_IM_MODULE=&quot;fcitx&quot;</code></p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> archlinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>权限引发的血案</title>
      <link href="/posts/34addb24/"/>
      <url>/posts/34addb24/</url>
      
        <content type="html"><![CDATA[<p>把windows下的字体复制到/usr/share/fonts后忘记设置权限，导致以普通用户身份登录并打开xfce4时无法读取字体，全部变成框框。注意字体权限至少要666.</p>]]></content>
      
      
      <categories>
          
          <category> archlinux </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>crontab语法</title>
      <link href="/posts/809ab0a6/"/>
      <url>/posts/809ab0a6/</url>
      
        <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*      *       *       *        *       <span class="built_in">command</span></span><br><span class="line"><span class="comment">#分、时、日、月、周</span></span><br></pre></td></tr></table></figure><p><code>*/?</code> 代表每隔?时间重复一次任务<br><code>x,y,z</code> 指定执行的日子</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu下使用Keepass2</title>
      <link href="/posts/267b8c6b/"/>
      <url>/posts/267b8c6b/</url>
      
        <content type="html"><![CDATA[<p>添加更新的PPA：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:jtaylor/keepass</span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><p>安装之后让它显示中文：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /usr/bin/keepass2</span><br></pre></td></tr></table></figure><p>添加：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export LANG=zh_CN.UTF8</span><br></pre></td></tr></table></figure><p>下载RPC：<a href="https://github.com/kee-org/keepassrpc/releases">https://github.com/kee-org/keepassrpc/releases</a></p><p>复制到</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/lib/keepass2</span><br></pre></td></tr></table></figure><p>完事。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 15</title>
      <link href="/posts/c722af95/"/>
      <url>/posts/c722af95/</url>
      
        <content type="html"><![CDATA[<p>我们好喜欢量化。甚至不能量化的东西也试图量化。以至于说喜欢一个人，会问有多喜欢。说最喜欢，会问第二喜欢。</p>]]></content>
      
      
      <categories>
          
          <category> 奇怪的想法 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>wordpress优化</title>
      <link href="/posts/856b6af9/"/>
      <url>/posts/856b6af9/</url>
      
        <content type="html"><![CDATA[<p>参照：<a href="https://iyaozhen.com/wordpress-optimization-tips-and-plugins.html">WordPress通用优化策略及常用插件推荐</a></p><p>另外，虽然很多网站都说禁用谷歌字体的插件已经没用，但是今天试了一下却依然是唯一能起作用的方法。Disable Google Fonts。</p>]]></content>
      
      
      <categories>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu搜狗拼音候选抽风</title>
      <link href="/posts/8249dee5/"/>
      <url>/posts/8249dee5/</url>
      
        <content type="html"><![CDATA[<p><code>cd ~/.config sudo rm -rf SogouPY* sogou*</code></p><p>来自：<a href="https://blog.csdn.net/s_lisheng/article/details/79620131">https://blog.csdn.net/s_lisheng/article/details/79620131</a></p>]]></content>
      
      
      <categories>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 14</title>
      <link href="/posts/b0259f03/"/>
      <url>/posts/b0259f03/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="c3710e2c465c6f2b1bee8b5aa5264796b7b247c38bd51e0ccdb5c6fcc13b6326">7c0a83fe2b8c6d15df4dacf507370bde2bb8c2d605c98ecf62aef9e639c4513e1085c349679a663e603e36f616372b334ab9b48102345147fc1cc8123c0d0b1e2710481a4c26bd52afed4523dbe775805ad1e0e7c71d785d7adb878b6840a36e8ae0a8fb4360231ed1daee854216c9578e020744c619c86a6d06f009cc25057b821ec7188a8521042b4a0f2525f4c9a5bf84fd5ae63d9682f3754ccd7885b55e88ede7ebd278274e8f0eac3b3de35f072fdfe42e5b4e4b91abbd21f5e25629e7559c0ef1ae36f9c81cca05d60be2804154d7d0442fadf2ca4a7cba7eb7b6765b24a29c18ff5530a5c356e6eae0db2f223c3271c4f98ac6fe3f732f801bf4b542357672896e5519c78153cb0e1ed9d412da5a39e249d09d5acac1484e9e1e188f</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">您好, 这里需要密码.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 加密 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux(Ubuntu)手动更新内核</title>
      <link href="/posts/5a9a7ad2/"/>
      <url>/posts/5a9a7ad2/</url>
      
        <content type="html"><![CDATA[<p>Linux Firmware：</p><p><a href="git://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git">git://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git</a></p><p>内核：</p><p><a href="http://kernel.ubuntu.com/~kernel-ppa/mainline/">http://kernel.ubuntu.com/~kernel-ppa/mainline/</a></p><p>libssl1.1：</p><p><a href="https://packages.ubuntu.com/bionic/libssl1.1">https://packages.ubuntu.com/bionic/libssl1.1</a></p>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
          <category> 奇奇怪怪的技巧 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 13</title>
      <link href="/posts/2e410aa0/"/>
      <url>/posts/2e410aa0/</url>
      
        <content type="html"><![CDATA[<p>想来你也不过如此，是我期望过高了。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 12</title>
      <link href="/posts/59463a36/"/>
      <url>/posts/59463a36/</url>
      
        <content type="html"><![CDATA[<blockquote><p>每个人在记忆里都是凭借一个标签存在下来的。</p></blockquote><p>有个女孩子的标签是“气质”，因为和她交流的时候总会感觉她的气质与众不同。慢慢地这个印象就固定下来了，即使已经很久不见，回忆起来的时候还是会第一时间想起“气质”。</p><p>另一个女孩子的标签是“依赖”。因为高考过后漫长的暑假里和她发了好多好多信息，慢慢地就觉得离不开了。每个人都需要一个倾诉的对象，刚好她就是。到后来就不想让她离开了。</p><p>外号也好，个人特质也好，相遇的场景也好，只能记住标签不过是为了搜索记忆的时候提高效率而做的妥协。可是到最后或许真的只剩下一个标签。再也不见。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 11</title>
      <link href="/posts/c04f6b8c/"/>
      <url>/posts/c04f6b8c/</url>
      
        <content type="html"><![CDATA[<p>人总在年少的时候犯下错误，然后回头看的时候追悔莫及</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 10</title>
      <link href="/posts/b7485b1a/"/>
      <url>/posts/b7485b1a/</url>
      
        <content type="html"><![CDATA[<p>感谢不知道该感谢的谁，让我这样的柴可以不那么努力都活过一天</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 9</title>
      <link href="/posts/f4b6d95a/"/>
      <url>/posts/f4b6d95a/</url>
      
        <content type="html"><![CDATA[<p>这一天，我们丧心病狂的贺副教授公然宣布自己不仅基因编辑改造了人类受精卵，而且还让他们降生到这个世界。什么伦理，什么学术道德，都不存在的。他就是一个疯狂的人，疯狂得无可救药。真是可悲。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 8</title>
      <link href="/posts/83b1e9cc/"/>
      <url>/posts/83b1e9cc/</url>
      
        <content type="html"><![CDATA[<p>即使是没有生命的建筑物，也不比人的生命长。</p><p><img src="https://wordpress.huaj.tk/wp-content/uploads/2018/11/mmexport1543215453124-300x225.jpg" alt="南糖俱乐部"></p><p>没有了寄存记忆物质存在，我们是没有历史记忆的民族。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 南糖俱乐部 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 7</title>
      <link href="/posts/130ef45d/"/>
      <url>/posts/130ef45d/</url>
      
        <content type="html"><![CDATA[<p>说句实话，知乎上没有多少支持锤子的人。或许都是不喜欢罗永浩的臭嘴吧。</p><p>但是从手机上评论，pro2s确实是目前用过最舒服的手机。系统上的流畅，交互的顺心，界面设计的优雅，还有各种实在的小功能。对比起来，华为对老手机的恶劣是出名的，外加系统界面是各种智障（例如蓝牙传输文件的“确认”和“拒绝”按钮小得根本不可能按的到，100%误触）。还有道德恶劣的疏油层、闪存门，就是一个垃圾企业。小米系统的臃肿和一些痛点就不用强调了，体验得太多了，虽然它对老机型的支持是无可争议的牛逼。但是这两家的硬伤是什么，是刘海屏，是史上最恶心的设计，是苹果工业设计梦幻色彩的破灭。都去跪舔苹果了，恶心不恶心。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 6</title>
      <link href="/posts/6409c4cb/"/>
      <url>/posts/6409c4cb/</url>
      
        <content type="html"><![CDATA[<p>如果我做的东西已经有人做得更好，那我再造一个轮子有什么意义呢？</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 5</title>
      <link href="/posts/fd009571/"/>
      <url>/posts/fd009571/</url>
      
        <content type="html"><![CDATA[<p>伯南克在金融危机里都没有“没办法”，我又有什么资格说没办法呢</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 4</title>
      <link href="/posts/8a07a5e7/"/>
      <url>/posts/8a07a5e7/</url>
      
        <content type="html"><![CDATA[<p>希望你不会死哦，毛茸茸的小生命</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 3</title>
      <link href="/posts/14633044/"/>
      <url>/posts/14633044/</url>
      
        <content type="html"><![CDATA[<p>不同行业是可以注册一样的商标的呢，不注册就不保护的</p><p>对迪克士的思考</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 2</title>
      <link href="/posts/636400d2/"/>
      <url>/posts/636400d2/</url>
      
        <content type="html"><![CDATA[<p>对不起呢……嗓子里好像“起皮”一样，总是咳嗽……会打扰你们睡觉吧？</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>吹水 - 1</title>
      <link href="/posts/fa6d5168/"/>
      <url>/posts/fa6d5168/</url>
      
        <content type="html"><![CDATA[<p>如果……的话，那你和别人又有什么不同呢</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>杂记</title>
      <link href="/posts/430d67de/"/>
      <url>/posts/430d67de/</url>
      
        <content type="html"><![CDATA[<p>好到最后一步的感冒，因为熬夜和雾霾又卷土重来了。</p><p>喉咙好痛，好难受呢。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>读《金融学》（黄达）有感</title>
      <link href="/posts/ad7bf731/"/>
      <url>/posts/ad7bf731/</url>
      
        <content type="html"><![CDATA[<p>知识就像海洋，连夸父都都到不了彼岸。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>回忆</title>
      <link href="/posts/c4ad2d2d/"/>
      <url>/posts/c4ad2d2d/</url>
      
        <content type="html"><![CDATA[<p>想起以前的暑假，午饭过后爷爷总会打开电视调到本港台看一下粤语新闻，然后转到凤凰台看看有报天天读，看着看着就在沙发上睡着了。睡得好沉的，小小的我总会疑惑怎么坐着都能睡得那么深。有报天天读之后是锵锵三人行，等这个差不多播完了他就会醒了。拿起手边的手帕擦擦嘴，然后就会去洗碗。</p><p>还没换沙发的时候，我们经常在玻璃台那边吃中午饭。做饭之前他总会问我喜欢吃什么，而我也总会问有什么可以吃。他总能记住冰箱里有的蔬菜，而我选来选去都会先选菜心。冬天的时候会问吃腊肠还是腊鸭，我喜欢腊鸭多一点，但是他们咬不动，所以经常是腊鸭配上几片切片的腊肠。还有咸蛋，奶奶切开之后用勺子挖出来放在腊味那只碟子里，半椭圆的总没有多大差别。</p><p>小时候吃的罐头大多数是豆豉鲮鱼罐头，后来就变成了黄豆罐头。黄豆罐头炒点瘦肉，就又是一道他喜欢的菜了。</p><p>有时候他会用筷子指指某一样菜，示意我多吃点。有时候就直接说“这些菜很好的，是你公公种的，吃完吧！”我有时候会听，有时候又不知道哪里来的叛逆，不想吃。</p><p>可能是因为我是唯一的男孙的关系，他对我总是格外宠爱，有时候甚至觉得关心我更甚于关心我的爸爸。</p><p>小学六年，他陪着我一起读书。偶尔翻出来的一本笔记，记录的是某一种题型的解法总结。他的笔迹刚劲有力，力透纸背，我总想学，可是终归写得软绵绵的。</p>]]></content>
      
      
      <categories>
          
          <category> all </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
